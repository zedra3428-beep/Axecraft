{"ast":null,"code":"var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _audioTrackList, _prevState, _render, render_fn, _onChange, onChange_fn;\nimport { globalThis } from \"../utils/server-safe-globals.js\";\nimport { MediaUIAttributes, MediaUIEvents } from \"../constants.js\";\nimport { parseAudioTrackList } from \"../utils/utils.js\";\nimport { MediaChromeMenu, createMenuItem, createIndicator } from \"./media-chrome-menu.js\";\nimport { getStringAttr, setStringAttr, getMediaController } from \"../utils/element-utils.js\";\nclass MediaAudioTrackMenu extends MediaChromeMenu {\n  constructor() {\n    super(...arguments);\n    __privateAdd(this, _render);\n    __privateAdd(this, _onChange);\n    __privateAdd(this, _audioTrackList, []);\n    __privateAdd(this, _prevState, void 0);\n  }\n  static get observedAttributes() {\n    return [...super.observedAttributes, MediaUIAttributes.MEDIA_AUDIO_TRACK_LIST, MediaUIAttributes.MEDIA_AUDIO_TRACK_ENABLED, MediaUIAttributes.MEDIA_AUDIO_TRACK_UNAVAILABLE];\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === MediaUIAttributes.MEDIA_AUDIO_TRACK_ENABLED && oldValue !== newValue) {\n      this.value = newValue;\n    } else if (attrName === MediaUIAttributes.MEDIA_AUDIO_TRACK_LIST && oldValue !== newValue) {\n      __privateSet(this, _audioTrackList, parseAudioTrackList(newValue != null ? newValue : \"\"));\n      __privateMethod(this, _render, render_fn).call(this);\n    }\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.addEventListener(\"change\", __privateMethod(this, _onChange, onChange_fn));\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.removeEventListener(\"change\", __privateMethod(this, _onChange, onChange_fn));\n  }\n  /**\n   * Returns the anchor element when it is a floating menu.\n   */\n  get anchorElement() {\n    var _a;\n    if (this.anchor !== \"auto\") return super.anchorElement;\n    return (_a = getMediaController(this)) == null ? void 0 : _a.querySelector(\"media-audio-track-menu-button\");\n  }\n  get mediaAudioTrackList() {\n    return __privateGet(this, _audioTrackList);\n  }\n  set mediaAudioTrackList(list) {\n    __privateSet(this, _audioTrackList, list);\n    __privateMethod(this, _render, render_fn).call(this);\n  }\n  /**\n   * Get enabled audio track id.\n   */\n  get mediaAudioTrackEnabled() {\n    var _a;\n    return (_a = getStringAttr(this, MediaUIAttributes.MEDIA_AUDIO_TRACK_ENABLED)) != null ? _a : \"\";\n  }\n  set mediaAudioTrackEnabled(id) {\n    setStringAttr(this, MediaUIAttributes.MEDIA_AUDIO_TRACK_ENABLED, id);\n  }\n}\n_audioTrackList = new WeakMap();\n_prevState = new WeakMap();\n_render = new WeakSet();\nrender_fn = function () {\n  if (__privateGet(this, _prevState) === JSON.stringify(this.mediaAudioTrackList)) return;\n  __privateSet(this, _prevState, JSON.stringify(this.mediaAudioTrackList));\n  const audioTrackList = this.mediaAudioTrackList;\n  this.defaultSlot.textContent = \"\";\n  audioTrackList.sort((a, b) => a.id.localeCompare(b.id, void 0, {\n    numeric: true\n  }));\n  for (const audioTrack of audioTrackList) {\n    const text = this.formatMenuItemText(audioTrack.label, audioTrack);\n    const item = createMenuItem({\n      type: \"radio\",\n      text,\n      value: `${audioTrack.id}`,\n      checked: audioTrack.enabled\n    });\n    item.prepend(createIndicator(this, \"checked-indicator\"));\n    this.defaultSlot.append(item);\n  }\n};\n_onChange = new WeakSet();\nonChange_fn = function () {\n  if (this.value == null) return;\n  const event = new globalThis.CustomEvent(MediaUIEvents.MEDIA_AUDIO_TRACK_REQUEST, {\n    composed: true,\n    bubbles: true,\n    detail: this.value\n  });\n  this.dispatchEvent(event);\n};\nif (!globalThis.customElements.get(\"media-audio-track-menu\")) {\n  globalThis.customElements.define(\"media-audio-track-menu\", MediaAudioTrackMenu);\n}\nvar media_audio_track_menu_default = MediaAudioTrackMenu;\nexport { MediaAudioTrackMenu, media_audio_track_menu_default as default };","map":{"version":3,"names":["__accessCheck","obj","member","msg","has","TypeError","__privateGet","getter","call","get","__privateAdd","value","WeakSet","add","set","__privateSet","setter","__privateMethod","method","_audioTrackList","_prevState","_render","render_fn","_onChange","onChange_fn","globalThis","MediaUIAttributes","MediaUIEvents","parseAudioTrackList","MediaChromeMenu","createMenuItem","createIndicator","getStringAttr","setStringAttr","getMediaController","MediaAudioTrackMenu","constructor","arguments","observedAttributes","MEDIA_AUDIO_TRACK_LIST","MEDIA_AUDIO_TRACK_ENABLED","MEDIA_AUDIO_TRACK_UNAVAILABLE","attributeChangedCallback","attrName","oldValue","newValue","connectedCallback","addEventListener","disconnectedCallback","removeEventListener","anchorElement","_a","anchor","querySelector","mediaAudioTrackList","list","mediaAudioTrackEnabled","id","WeakMap","JSON","stringify","audioTrackList","defaultSlot","textContent","sort","a","b","localeCompare","numeric","audioTrack","text","formatMenuItemText","label","item","type","checked","enabled","prepend","append","event","CustomEvent","MEDIA_AUDIO_TRACK_REQUEST","composed","bubbles","detail","dispatchEvent","customElements","define","media_audio_track_menu_default","default"],"sources":["/app/frontend/node_modules/media-chrome/dist/menu/media-audio-track-menu.js"],"sourcesContent":["var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _audioTrackList, _prevState, _render, render_fn, _onChange, onChange_fn;\nimport { globalThis } from \"../utils/server-safe-globals.js\";\nimport { MediaUIAttributes, MediaUIEvents } from \"../constants.js\";\nimport { parseAudioTrackList } from \"../utils/utils.js\";\nimport {\n  MediaChromeMenu,\n  createMenuItem,\n  createIndicator\n} from \"./media-chrome-menu.js\";\nimport {\n  getStringAttr,\n  setStringAttr,\n  getMediaController\n} from \"../utils/element-utils.js\";\nclass MediaAudioTrackMenu extends MediaChromeMenu {\n  constructor() {\n    super(...arguments);\n    __privateAdd(this, _render);\n    __privateAdd(this, _onChange);\n    __privateAdd(this, _audioTrackList, []);\n    __privateAdd(this, _prevState, void 0);\n  }\n  static get observedAttributes() {\n    return [\n      ...super.observedAttributes,\n      MediaUIAttributes.MEDIA_AUDIO_TRACK_LIST,\n      MediaUIAttributes.MEDIA_AUDIO_TRACK_ENABLED,\n      MediaUIAttributes.MEDIA_AUDIO_TRACK_UNAVAILABLE\n    ];\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === MediaUIAttributes.MEDIA_AUDIO_TRACK_ENABLED && oldValue !== newValue) {\n      this.value = newValue;\n    } else if (attrName === MediaUIAttributes.MEDIA_AUDIO_TRACK_LIST && oldValue !== newValue) {\n      __privateSet(this, _audioTrackList, parseAudioTrackList(newValue != null ? newValue : \"\"));\n      __privateMethod(this, _render, render_fn).call(this);\n    }\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.addEventListener(\"change\", __privateMethod(this, _onChange, onChange_fn));\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.removeEventListener(\"change\", __privateMethod(this, _onChange, onChange_fn));\n  }\n  /**\n   * Returns the anchor element when it is a floating menu.\n   */\n  get anchorElement() {\n    var _a;\n    if (this.anchor !== \"auto\")\n      return super.anchorElement;\n    return (_a = getMediaController(this)) == null ? void 0 : _a.querySelector(\n      \"media-audio-track-menu-button\"\n    );\n  }\n  get mediaAudioTrackList() {\n    return __privateGet(this, _audioTrackList);\n  }\n  set mediaAudioTrackList(list) {\n    __privateSet(this, _audioTrackList, list);\n    __privateMethod(this, _render, render_fn).call(this);\n  }\n  /**\n   * Get enabled audio track id.\n   */\n  get mediaAudioTrackEnabled() {\n    var _a;\n    return (_a = getStringAttr(this, MediaUIAttributes.MEDIA_AUDIO_TRACK_ENABLED)) != null ? _a : \"\";\n  }\n  set mediaAudioTrackEnabled(id) {\n    setStringAttr(this, MediaUIAttributes.MEDIA_AUDIO_TRACK_ENABLED, id);\n  }\n}\n_audioTrackList = new WeakMap();\n_prevState = new WeakMap();\n_render = new WeakSet();\nrender_fn = function() {\n  if (__privateGet(this, _prevState) === JSON.stringify(this.mediaAudioTrackList))\n    return;\n  __privateSet(this, _prevState, JSON.stringify(this.mediaAudioTrackList));\n  const audioTrackList = this.mediaAudioTrackList;\n  this.defaultSlot.textContent = \"\";\n  audioTrackList.sort((a, b) => a.id.localeCompare(b.id, void 0, { numeric: true }));\n  for (const audioTrack of audioTrackList) {\n    const text = this.formatMenuItemText(audioTrack.label, audioTrack);\n    const item = createMenuItem({\n      type: \"radio\",\n      text,\n      value: `${audioTrack.id}`,\n      checked: audioTrack.enabled\n    });\n    item.prepend(createIndicator(this, \"checked-indicator\"));\n    this.defaultSlot.append(item);\n  }\n};\n_onChange = new WeakSet();\nonChange_fn = function() {\n  if (this.value == null)\n    return;\n  const event = new globalThis.CustomEvent(\n    MediaUIEvents.MEDIA_AUDIO_TRACK_REQUEST,\n    {\n      composed: true,\n      bubbles: true,\n      detail: this.value\n    }\n  );\n  this.dispatchEvent(event);\n};\nif (!globalThis.customElements.get(\"media-audio-track-menu\")) {\n  globalThis.customElements.define(\n    \"media-audio-track-menu\",\n    MediaAudioTrackMenu\n  );\n}\nvar media_audio_track_menu_default = MediaAudioTrackMenu;\nexport {\n  MediaAudioTrackMenu,\n  media_audio_track_menu_default as default\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}