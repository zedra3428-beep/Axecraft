{"ast":null,"code":"var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _pointerDownTimeStamp, _currentMedia, _inactiveTimeout, _autohide, _mutationObserver, _handleMutation, handleMutation_fn, _isResizePending, _handleResize, _handlePointerMove, handlePointerMove_fn, _handlePointerUp, handlePointerUp_fn, _setInactive, setInactive_fn, _setActive, setActive_fn, _scheduleInactive, scheduleInactive_fn;\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport { MediaUIAttributes, MediaStateChangeEvents } from \"./constants.js\";\nimport { observeResize, unobserveResize } from \"./utils/resize-observer.js\";\nimport \"./media-gesture-receiver.js\";\nimport { t } from \"./utils/i18n.js\";\nimport { getBooleanAttr, getStringAttr, namedNodeMapToObject, setBooleanAttr, setStringAttr } from \"./utils/element-utils.js\";\nimport MediaGestureReceiver from \"./media-gesture-receiver.js\";\nconst Attributes = {\n  AUDIO: \"audio\",\n  AUTOHIDE: \"autohide\",\n  BREAKPOINTS: \"breakpoints\",\n  GESTURES_DISABLED: \"gesturesdisabled\",\n  KEYBOARD_CONTROL: \"keyboardcontrol\",\n  NO_AUTOHIDE: \"noautohide\",\n  USER_INACTIVE: \"userinactive\",\n  AUTOHIDE_OVER_CONTROLS: \"autohideovercontrols\"\n};\nfunction getTemplateHTML(_attrs) {\n  return /*html*/`\n    <style>\n      ${\n  /*\n  * outline on media is turned off because it is allowed to get focus to faciliate hotkeys.\n  * However, on keyboard interactions, the focus outline is shown,\n  * which is particularly noticeable when going fullscreen via hotkeys.\n  */\n  \"\"}\n      :host([${MediaUIAttributes.MEDIA_IS_FULLSCREEN}]) ::slotted([slot=media]) {\n        outline: none;\n      }\n\n      :host {\n        box-sizing: border-box;\n        position: relative;\n        display: inline-block;\n        line-height: 0;\n        background-color: var(--media-background-color, #000);\n        overflow: hidden;\n      }\n\n      :host(:not([${Attributes.AUDIO}])) [part~=layer]:not([part~=media-layer]) {\n        position: absolute;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        display: flex;\n        flex-flow: column nowrap;\n        align-items: start;\n        pointer-events: none;\n        background: none;\n      }\n\n      slot[name=media] {\n        display: var(--media-slot-display, contents);\n      }\n\n      ${\n  /*\n  * when in audio mode, hide the slotted media element by default\n  */\n  \"\"}\n      :host([${Attributes.AUDIO}]) slot[name=media] {\n        display: var(--media-slot-display, none);\n      }\n\n      ${\n  /*\n  * when in audio mode, hide the gesture-layer which causes media-controller to be taller than the control bar\n  */\n  \"\"}\n      :host([${Attributes.AUDIO}]) [part~=layer][part~=gesture-layer] {\n        height: 0;\n        display: block;\n      }\n\n      ${\n  /*\n  * if gestures are disabled, don't accept pointer-events\n  */\n  \"\"}\n      :host(:not([${Attributes.AUDIO}])[${Attributes.GESTURES_DISABLED}]) ::slotted([slot=gestures-chrome]),\n          :host(:not([${Attributes.AUDIO}])[${Attributes.GESTURES_DISABLED}]) media-gesture-receiver[slot=gestures-chrome] {\n        display: none;\n      }\n\n      ${\n  /*\n  * any slotted element that isn't a poster or media slot should be pointer-events auto\n  * we'll want to add here any slotted elements that shouldn't get pointer-events by default when slotted\n  */\n  \"\"}\n      ::slotted(:not([slot=media]):not([slot=poster]):not(media-loading-indicator):not([role=dialog]):not([hidden])) {\n        pointer-events: auto;\n      }\n\n      :host(:not([${Attributes.AUDIO}])) *[part~=layer][part~=centered-layer] {\n        align-items: center;\n        justify-content: center;\n      }\n\n      :host(:not([${Attributes.AUDIO}])) ::slotted(media-gesture-receiver[slot=gestures-chrome]),\n      :host(:not([${Attributes.AUDIO}])) media-gesture-receiver[slot=gestures-chrome] {\n        align-self: stretch;\n        flex-grow: 1;\n      }\n\n      slot[name=middle-chrome] {\n        display: inline;\n        flex-grow: 1;\n        pointer-events: none;\n        background: none;\n      }\n\n      ${/* Position the media and poster elements to fill the container */\n  \"\"}\n      ::slotted([slot=media]),\n      ::slotted([slot=poster]) {\n        width: 100%;\n        height: 100%;\n      }\n\n      ${/* Video specific styles */\n  \"\"}\n      :host(:not([${Attributes.AUDIO}])) .spacer {\n        flex-grow: 1;\n      }\n\n      ${/* Safari needs this to actually make the element fill the window */\n  \"\"}\n      :host(:-webkit-full-screen) {\n        ${/* Needs to use !important otherwise easy to break */\n  \"\"}\n        width: 100% !important;\n        height: 100% !important;\n      }\n\n      ${/* Only add these if auto hide is not disabled */\n  \"\"}\n      ::slotted(:not([slot=media]):not([slot=poster]):not([${Attributes.NO_AUTOHIDE}]):not([hidden]):not([role=dialog])) {\n        opacity: 1;\n        transition: var(--media-control-transition-in, opacity 0.25s);\n      }\n\n      ${/* Hide controls when inactive, not paused, not audio and auto hide not disabled */\n  \"\"}\n      :host([${Attributes.USER_INACTIVE}]:not([${MediaUIAttributes.MEDIA_PAUSED}]):not([${MediaUIAttributes.MEDIA_IS_AIRPLAYING}]):not([${MediaUIAttributes.MEDIA_IS_CASTING}]):not([${Attributes.AUDIO}])) ::slotted(:not([slot=media]):not([slot=poster]):not([${Attributes.NO_AUTOHIDE}]):not([role=dialog])) {\n        opacity: 0;\n        transition: var(--media-control-transition-out, opacity 1s);\n      }\n\n      :host([${Attributes.USER_INACTIVE}]:not([${Attributes.NO_AUTOHIDE}]):not([${MediaUIAttributes.MEDIA_PAUSED}]):not([${MediaUIAttributes.MEDIA_IS_CASTING}]):not([${Attributes.AUDIO}])) ::slotted([slot=media]) {\n        cursor: none;\n      }\n\n      :host([${Attributes.USER_INACTIVE}][${Attributes.AUTOHIDE_OVER_CONTROLS}]:not([${Attributes.NO_AUTOHIDE}]):not([${MediaUIAttributes.MEDIA_PAUSED}]):not([${MediaUIAttributes.MEDIA_IS_CASTING}]):not([${Attributes.AUDIO}])) * {\n        --media-cursor: none;\n        cursor: none;\n      }\n\n\n      ::slotted(media-control-bar)  {\n        align-self: stretch;\n      }\n\n      ${/* ::slotted([slot=poster]) doesn't work for slot fallback content so hide parent slot instead */\n  \"\"}\n      :host(:not([${Attributes.AUDIO}])[${MediaUIAttributes.MEDIA_HAS_PLAYED}]) slot[name=poster] {\n        display: none;\n      }\n\n      ::slotted([role=dialog]) {\n        width: 100%;\n        height: 100%;\n        align-self: center;\n      }\n\n      ::slotted([role=menu]) {\n        align-self: end;\n      }\n    </style>\n\n    <slot name=\"media\" part=\"layer media-layer\"></slot>\n    <slot name=\"poster\" part=\"layer poster-layer\"></slot>\n    <slot name=\"gestures-chrome\" part=\"layer gesture-layer\">\n      <media-gesture-receiver slot=\"gestures-chrome\">\n        <template shadowrootmode=\"${MediaGestureReceiver.shadowRootOptions.mode}\">\n          ${MediaGestureReceiver.getTemplateHTML({})}\n        </template>\n      </media-gesture-receiver>\n    </slot>\n    <span part=\"layer vertical-layer\">\n      <slot name=\"top-chrome\" part=\"top chrome\"></slot>\n      <slot name=\"middle-chrome\" part=\"middle chrome\"></slot>\n      <slot name=\"centered-chrome\" part=\"layer centered-layer center centered chrome\"></slot>\n      ${/* default, effectively \"bottom-chrome\" */\n  \"\"}\n      <slot part=\"bottom chrome\"></slot>\n    </span>\n    <slot name=\"dialog\" part=\"layer dialog-layer\"></slot>\n  `;\n}\nconst MEDIA_UI_ATTRIBUTE_NAMES = Object.values(MediaUIAttributes);\nconst defaultBreakpoints = \"sm:384 md:576 lg:768 xl:960\";\nfunction resizeCallback(entry) {\n  setBreakpoints(entry.target, entry.contentRect.width);\n}\nfunction setBreakpoints(container, width) {\n  var _a;\n  if (!container.isConnected) return;\n  const breakpoints = (_a = container.getAttribute(Attributes.BREAKPOINTS)) != null ? _a : defaultBreakpoints;\n  const ranges = createBreakpointMap(breakpoints);\n  const activeBreakpoints = getBreakpoints(ranges, width);\n  let changed = false;\n  Object.keys(ranges).forEach(name => {\n    if (activeBreakpoints.includes(name)) {\n      if (!container.hasAttribute(`breakpoint${name}`)) {\n        container.setAttribute(`breakpoint${name}`, \"\");\n        changed = true;\n      }\n      return;\n    }\n    if (container.hasAttribute(`breakpoint${name}`)) {\n      container.removeAttribute(`breakpoint${name}`);\n      changed = true;\n    }\n  });\n  if (changed) {\n    const evt = new CustomEvent(MediaStateChangeEvents.BREAKPOINTS_CHANGE, {\n      detail: activeBreakpoints\n    });\n    container.dispatchEvent(evt);\n  }\n  if (!container.breakpointsComputed) {\n    container.breakpointsComputed = true;\n    container.dispatchEvent(new CustomEvent(MediaStateChangeEvents.BREAKPOINTS_COMPUTED, {\n      bubbles: true,\n      composed: true\n    }));\n  }\n}\nfunction createBreakpointMap(breakpoints) {\n  const pairs = breakpoints.split(/\\s+/);\n  return Object.fromEntries(pairs.map(pair => pair.split(\":\")));\n}\nfunction getBreakpoints(breakpoints, width) {\n  return Object.keys(breakpoints).filter(name => {\n    return width >= parseInt(breakpoints[name]);\n  });\n}\nclass MediaContainer extends globalThis.HTMLElement {\n  constructor() {\n    super();\n    __privateAdd(this, _handleMutation);\n    __privateAdd(this, _handlePointerMove);\n    __privateAdd(this, _handlePointerUp);\n    __privateAdd(this, _setInactive);\n    __privateAdd(this, _setActive);\n    __privateAdd(this, _scheduleInactive);\n    __privateAdd(this, _pointerDownTimeStamp, 0);\n    __privateAdd(this, _currentMedia, null);\n    __privateAdd(this, _inactiveTimeout, null);\n    __privateAdd(this, _autohide, void 0);\n    this.breakpointsComputed = false;\n    __privateAdd(this, _mutationObserver, new MutationObserver(__privateMethod(this, _handleMutation, handleMutation_fn).bind(this)));\n    __privateAdd(this, _isResizePending, false);\n    __privateAdd(this, _handleResize, entry => {\n      if (__privateGet(this, _isResizePending)) return;\n      setTimeout(() => {\n        resizeCallback(entry);\n        __privateSet(this, _isResizePending, false);\n      }, 0);\n      __privateSet(this, _isResizePending, true);\n    });\n    if (!this.shadowRoot) {\n      this.attachShadow(this.constructor.shadowRootOptions);\n      const attrs = namedNodeMapToObject(this.attributes);\n      const html = this.constructor.getTemplateHTML(attrs);\n      this.shadowRoot.setHTMLUnsafe ? this.shadowRoot.setHTMLUnsafe(html) : this.shadowRoot.innerHTML = html;\n    }\n    const chainedSlot = this.querySelector(\":scope > slot[slot=media]\");\n    if (chainedSlot) {\n      chainedSlot.addEventListener(\"slotchange\", () => {\n        const slotEls = chainedSlot.assignedElements({\n          flatten: true\n        });\n        if (!slotEls.length) {\n          if (__privateGet(this, _currentMedia)) {\n            this.mediaUnsetCallback(__privateGet(this, _currentMedia));\n          }\n          return;\n        }\n        this.handleMediaUpdated(this.media);\n      });\n    }\n  }\n  static get observedAttributes() {\n    return [Attributes.AUTOHIDE, Attributes.GESTURES_DISABLED].concat(MEDIA_UI_ATTRIBUTE_NAMES).filter(name => ![MediaUIAttributes.MEDIA_RENDITION_LIST, MediaUIAttributes.MEDIA_AUDIO_TRACK_LIST, MediaUIAttributes.MEDIA_CHAPTERS_CUES, MediaUIAttributes.MEDIA_WIDTH, MediaUIAttributes.MEDIA_HEIGHT, MediaUIAttributes.MEDIA_ERROR, MediaUIAttributes.MEDIA_ERROR_MESSAGE].includes(name));\n  }\n  // Could share this code with media-chrome-html-element instead\n  attributeChangedCallback(attrName, _oldValue, newValue) {\n    if (attrName.toLowerCase() == Attributes.AUTOHIDE) {\n      this.autohide = newValue;\n    }\n  }\n  // First direct child with slot=media, or null\n  get media() {\n    let media = this.querySelector(\":scope > [slot=media]\");\n    if ((media == null ? void 0 : media.nodeName) == \"SLOT\") media = media.assignedElements({\n      flatten: true\n    })[0];\n    return media;\n  }\n  async handleMediaUpdated(media) {\n    if (!media) return;\n    __privateSet(this, _currentMedia, media);\n    if (media.localName.includes(\"-\")) {\n      await globalThis.customElements.whenDefined(media.localName);\n    }\n    this.mediaSetCallback(media);\n  }\n  connectedCallback() {\n    var _a;\n    __privateGet(this, _mutationObserver).observe(this, {\n      childList: true,\n      subtree: true\n    });\n    observeResize(this, __privateGet(this, _handleResize));\n    const isAudioChrome = this.getAttribute(Attributes.AUDIO) != null;\n    const label = isAudioChrome ? t(\"audio player\") : t(\"video player\");\n    this.setAttribute(\"role\", \"region\");\n    this.setAttribute(\"aria-label\", label);\n    this.handleMediaUpdated(this.media);\n    this.setAttribute(Attributes.USER_INACTIVE, \"\");\n    setBreakpoints(this, this.getBoundingClientRect().width);\n    this.addEventListener(\"pointerdown\", this);\n    this.addEventListener(\"pointermove\", this);\n    this.addEventListener(\"pointerup\", this);\n    this.addEventListener(\"mouseleave\", this);\n    this.addEventListener(\"keyup\", this);\n    (_a = globalThis.window) == null ? void 0 : _a.addEventListener(\"mouseup\", this);\n  }\n  disconnectedCallback() {\n    var _a;\n    __privateGet(this, _mutationObserver).disconnect();\n    unobserveResize(this, __privateGet(this, _handleResize));\n    if (this.media) {\n      this.mediaUnsetCallback(this.media);\n    }\n    (_a = globalThis.window) == null ? void 0 : _a.removeEventListener(\"mouseup\", this);\n  }\n  /**\n   * @abstract\n   */\n  mediaSetCallback(_media) {}\n  mediaUnsetCallback(_media) {\n    __privateSet(this, _currentMedia, null);\n  }\n  handleEvent(event) {\n    switch (event.type) {\n      case \"pointerdown\":\n        __privateSet(this, _pointerDownTimeStamp, event.timeStamp);\n        break;\n      case \"pointermove\":\n        __privateMethod(this, _handlePointerMove, handlePointerMove_fn).call(this, event);\n        break;\n      case \"pointerup\":\n        __privateMethod(this, _handlePointerUp, handlePointerUp_fn).call(this, event);\n        break;\n      case \"mouseleave\":\n        __privateMethod(this, _setInactive, setInactive_fn).call(this);\n        break;\n      case \"mouseup\":\n        this.removeAttribute(Attributes.KEYBOARD_CONTROL);\n        break;\n      case \"keyup\":\n        __privateMethod(this, _scheduleInactive, scheduleInactive_fn).call(this);\n        this.setAttribute(Attributes.KEYBOARD_CONTROL, \"\");\n        break;\n    }\n  }\n  set autohide(seconds) {\n    const parsedSeconds = Number(seconds);\n    __privateSet(this, _autohide, isNaN(parsedSeconds) ? 0 : parsedSeconds);\n  }\n  get autohide() {\n    return (__privateGet(this, _autohide) === void 0 ? 2 : __privateGet(this, _autohide)).toString();\n  }\n  get breakpoints() {\n    return getStringAttr(this, Attributes.BREAKPOINTS);\n  }\n  set breakpoints(value) {\n    setStringAttr(this, Attributes.BREAKPOINTS, value);\n  }\n  get audio() {\n    return getBooleanAttr(this, Attributes.AUDIO);\n  }\n  set audio(value) {\n    setBooleanAttr(this, Attributes.AUDIO, value);\n  }\n  get gesturesDisabled() {\n    return getBooleanAttr(this, Attributes.GESTURES_DISABLED);\n  }\n  set gesturesDisabled(value) {\n    setBooleanAttr(this, Attributes.GESTURES_DISABLED, value);\n  }\n  get keyboardControl() {\n    return getBooleanAttr(this, Attributes.KEYBOARD_CONTROL);\n  }\n  set keyboardControl(value) {\n    setBooleanAttr(this, Attributes.KEYBOARD_CONTROL, value);\n  }\n  get noAutohide() {\n    return getBooleanAttr(this, Attributes.NO_AUTOHIDE);\n  }\n  set noAutohide(value) {\n    setBooleanAttr(this, Attributes.NO_AUTOHIDE, value);\n  }\n  get autohideOverControls() {\n    return getBooleanAttr(this, Attributes.AUTOHIDE_OVER_CONTROLS);\n  }\n  set autohideOverControls(value) {\n    setBooleanAttr(this, Attributes.AUTOHIDE_OVER_CONTROLS, value);\n  }\n  get userInteractive() {\n    return getBooleanAttr(this, Attributes.USER_INACTIVE);\n  }\n  set userInteractive(value) {\n    setBooleanAttr(this, Attributes.USER_INACTIVE, value);\n  }\n}\n_pointerDownTimeStamp = new WeakMap();\n_currentMedia = new WeakMap();\n_inactiveTimeout = new WeakMap();\n_autohide = new WeakMap();\n_mutationObserver = new WeakMap();\n_handleMutation = new WeakSet();\nhandleMutation_fn = function (mutationsList) {\n  const media = this.media;\n  for (const mutation of mutationsList) {\n    if (mutation.type !== \"childList\") continue;\n    const removedNodes = mutation.removedNodes;\n    for (const node of removedNodes) {\n      if (node.slot != \"media\" || mutation.target != this) continue;\n      let previousSibling = mutation.previousSibling && mutation.previousSibling.previousElementSibling;\n      if (!previousSibling || !media) {\n        this.mediaUnsetCallback(node);\n      } else {\n        let wasFirst = previousSibling.slot !== \"media\";\n        while ((previousSibling = previousSibling.previousSibling) !== null) {\n          if (previousSibling.slot == \"media\") wasFirst = false;\n        }\n        if (wasFirst) this.mediaUnsetCallback(node);\n      }\n    }\n    if (media) {\n      for (const node of mutation.addedNodes) {\n        if (node === media) this.handleMediaUpdated(media);\n      }\n    }\n  }\n};\n_isResizePending = new WeakMap();\n_handleResize = new WeakMap();\n_handlePointerMove = new WeakSet();\nhandlePointerMove_fn = function (event) {\n  if (event.pointerType !== \"mouse\") {\n    const MAX_TAP_DURATION = 250;\n    if (event.timeStamp - __privateGet(this, _pointerDownTimeStamp) < MAX_TAP_DURATION) return;\n  }\n  __privateMethod(this, _setActive, setActive_fn).call(this);\n  clearTimeout(__privateGet(this, _inactiveTimeout));\n  const autohideOverControls = this.hasAttribute(Attributes.AUTOHIDE_OVER_CONTROLS);\n  if ([this, this.media].includes(event.target) || autohideOverControls) {\n    __privateMethod(this, _scheduleInactive, scheduleInactive_fn).call(this);\n  }\n};\n_handlePointerUp = new WeakSet();\nhandlePointerUp_fn = function (event) {\n  if (event.pointerType === \"touch\") {\n    const controlsVisible = !this.hasAttribute(Attributes.USER_INACTIVE);\n    if ([this, this.media].includes(event.target) && controlsVisible) {\n      __privateMethod(this, _setInactive, setInactive_fn).call(this);\n    } else {\n      __privateMethod(this, _scheduleInactive, scheduleInactive_fn).call(this);\n    }\n  } else if (event.composedPath().some(el => [\"media-play-button\", \"media-fullscreen-button\"].includes(el == null ? void 0 : el.localName))) {\n    __privateMethod(this, _scheduleInactive, scheduleInactive_fn).call(this);\n  }\n};\n_setInactive = new WeakSet();\nsetInactive_fn = function () {\n  if (__privateGet(this, _autohide) < 0) return;\n  if (this.hasAttribute(Attributes.USER_INACTIVE)) return;\n  this.setAttribute(Attributes.USER_INACTIVE, \"\");\n  const evt = new globalThis.CustomEvent(MediaStateChangeEvents.USER_INACTIVE_CHANGE, {\n    composed: true,\n    bubbles: true,\n    detail: true\n  });\n  this.dispatchEvent(evt);\n};\n_setActive = new WeakSet();\nsetActive_fn = function () {\n  if (!this.hasAttribute(Attributes.USER_INACTIVE)) return;\n  this.removeAttribute(Attributes.USER_INACTIVE);\n  const evt = new globalThis.CustomEvent(MediaStateChangeEvents.USER_INACTIVE_CHANGE, {\n    composed: true,\n    bubbles: true,\n    detail: false\n  });\n  this.dispatchEvent(evt);\n};\n_scheduleInactive = new WeakSet();\nscheduleInactive_fn = function () {\n  __privateMethod(this, _setActive, setActive_fn).call(this);\n  clearTimeout(__privateGet(this, _inactiveTimeout));\n  const autohide = parseInt(this.autohide);\n  if (autohide < 0) return;\n  __privateSet(this, _inactiveTimeout, setTimeout(() => {\n    __privateMethod(this, _setInactive, setInactive_fn).call(this);\n  }, autohide * 1e3));\n};\nMediaContainer.shadowRootOptions = {\n  mode: \"open\"\n};\nMediaContainer.getTemplateHTML = getTemplateHTML;\nif (!globalThis.customElements.get(\"media-container\")) {\n  globalThis.customElements.define(\"media-container\", MediaContainer);\n}\nvar media_container_default = MediaContainer;\nexport { Attributes, MediaContainer, media_container_default as default };","map":{"version":3,"names":["__accessCheck","obj","member","msg","has","TypeError","__privateGet","getter","call","get","__privateAdd","value","WeakSet","add","set","__privateSet","setter","__privateMethod","method","_pointerDownTimeStamp","_currentMedia","_inactiveTimeout","_autohide","_mutationObserver","_handleMutation","handleMutation_fn","_isResizePending","_handleResize","_handlePointerMove","handlePointerMove_fn","_handlePointerUp","handlePointerUp_fn","_setInactive","setInactive_fn","_setActive","setActive_fn","_scheduleInactive","scheduleInactive_fn","globalThis","MediaUIAttributes","MediaStateChangeEvents","observeResize","unobserveResize","t","getBooleanAttr","getStringAttr","namedNodeMapToObject","setBooleanAttr","setStringAttr","MediaGestureReceiver","Attributes","AUDIO","AUTOHIDE","BREAKPOINTS","GESTURES_DISABLED","KEYBOARD_CONTROL","NO_AUTOHIDE","USER_INACTIVE","AUTOHIDE_OVER_CONTROLS","getTemplateHTML","_attrs","MEDIA_IS_FULLSCREEN","MEDIA_PAUSED","MEDIA_IS_AIRPLAYING","MEDIA_IS_CASTING","MEDIA_HAS_PLAYED","shadowRootOptions","mode","MEDIA_UI_ATTRIBUTE_NAMES","Object","values","defaultBreakpoints","resizeCallback","entry","setBreakpoints","target","contentRect","width","container","_a","isConnected","breakpoints","getAttribute","ranges","createBreakpointMap","activeBreakpoints","getBreakpoints","changed","keys","forEach","name","includes","hasAttribute","setAttribute","removeAttribute","evt","CustomEvent","BREAKPOINTS_CHANGE","detail","dispatchEvent","breakpointsComputed","BREAKPOINTS_COMPUTED","bubbles","composed","pairs","split","fromEntries","map","pair","filter","parseInt","MediaContainer","HTMLElement","constructor","MutationObserver","bind","setTimeout","shadowRoot","attachShadow","attrs","attributes","html","setHTMLUnsafe","innerHTML","chainedSlot","querySelector","addEventListener","slotEls","assignedElements","flatten","length","mediaUnsetCallback","handleMediaUpdated","media","observedAttributes","concat","MEDIA_RENDITION_LIST","MEDIA_AUDIO_TRACK_LIST","MEDIA_CHAPTERS_CUES","MEDIA_WIDTH","MEDIA_HEIGHT","MEDIA_ERROR","MEDIA_ERROR_MESSAGE","attributeChangedCallback","attrName","_oldValue","newValue","toLowerCase","autohide","nodeName","localName","customElements","whenDefined","mediaSetCallback","connectedCallback","observe","childList","subtree","isAudioChrome","label","getBoundingClientRect","window","disconnectedCallback","disconnect","removeEventListener","_media","handleEvent","event","type","timeStamp","seconds","parsedSeconds","Number","isNaN","toString","audio","gesturesDisabled","keyboardControl","noAutohide","autohideOverControls","userInteractive","WeakMap","mutationsList","mutation","removedNodes","node","slot","previousSibling","previousElementSibling","wasFirst","addedNodes","pointerType","MAX_TAP_DURATION","clearTimeout","controlsVisible","composedPath","some","el","USER_INACTIVE_CHANGE","define","media_container_default","default"],"sources":["/app/frontend/node_modules/media-chrome/dist/media-container.js"],"sourcesContent":["var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _pointerDownTimeStamp, _currentMedia, _inactiveTimeout, _autohide, _mutationObserver, _handleMutation, handleMutation_fn, _isResizePending, _handleResize, _handlePointerMove, handlePointerMove_fn, _handlePointerUp, handlePointerUp_fn, _setInactive, setInactive_fn, _setActive, setActive_fn, _scheduleInactive, scheduleInactive_fn;\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport { MediaUIAttributes, MediaStateChangeEvents } from \"./constants.js\";\nimport { observeResize, unobserveResize } from \"./utils/resize-observer.js\";\nimport \"./media-gesture-receiver.js\";\nimport { t } from \"./utils/i18n.js\";\nimport {\n  getBooleanAttr,\n  getStringAttr,\n  namedNodeMapToObject,\n  setBooleanAttr,\n  setStringAttr\n} from \"./utils/element-utils.js\";\nimport MediaGestureReceiver from \"./media-gesture-receiver.js\";\nconst Attributes = {\n  AUDIO: \"audio\",\n  AUTOHIDE: \"autohide\",\n  BREAKPOINTS: \"breakpoints\",\n  GESTURES_DISABLED: \"gesturesdisabled\",\n  KEYBOARD_CONTROL: \"keyboardcontrol\",\n  NO_AUTOHIDE: \"noautohide\",\n  USER_INACTIVE: \"userinactive\",\n  AUTOHIDE_OVER_CONTROLS: \"autohideovercontrols\"\n};\nfunction getTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      ${/*\n    * outline on media is turned off because it is allowed to get focus to faciliate hotkeys.\n    * However, on keyboard interactions, the focus outline is shown,\n    * which is particularly noticeable when going fullscreen via hotkeys.\n    */\n    \"\"}\n      :host([${MediaUIAttributes.MEDIA_IS_FULLSCREEN}]) ::slotted([slot=media]) {\n        outline: none;\n      }\n\n      :host {\n        box-sizing: border-box;\n        position: relative;\n        display: inline-block;\n        line-height: 0;\n        background-color: var(--media-background-color, #000);\n        overflow: hidden;\n      }\n\n      :host(:not([${Attributes.AUDIO}])) [part~=layer]:not([part~=media-layer]) {\n        position: absolute;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        display: flex;\n        flex-flow: column nowrap;\n        align-items: start;\n        pointer-events: none;\n        background: none;\n      }\n\n      slot[name=media] {\n        display: var(--media-slot-display, contents);\n      }\n\n      ${/*\n    * when in audio mode, hide the slotted media element by default\n    */\n    \"\"}\n      :host([${Attributes.AUDIO}]) slot[name=media] {\n        display: var(--media-slot-display, none);\n      }\n\n      ${/*\n    * when in audio mode, hide the gesture-layer which causes media-controller to be taller than the control bar\n    */\n    \"\"}\n      :host([${Attributes.AUDIO}]) [part~=layer][part~=gesture-layer] {\n        height: 0;\n        display: block;\n      }\n\n      ${/*\n    * if gestures are disabled, don't accept pointer-events\n    */\n    \"\"}\n      :host(:not([${Attributes.AUDIO}])[${Attributes.GESTURES_DISABLED}]) ::slotted([slot=gestures-chrome]),\n          :host(:not([${Attributes.AUDIO}])[${Attributes.GESTURES_DISABLED}]) media-gesture-receiver[slot=gestures-chrome] {\n        display: none;\n      }\n\n      ${/*\n    * any slotted element that isn't a poster or media slot should be pointer-events auto\n    * we'll want to add here any slotted elements that shouldn't get pointer-events by default when slotted\n    */\n    \"\"}\n      ::slotted(:not([slot=media]):not([slot=poster]):not(media-loading-indicator):not([role=dialog]):not([hidden])) {\n        pointer-events: auto;\n      }\n\n      :host(:not([${Attributes.AUDIO}])) *[part~=layer][part~=centered-layer] {\n        align-items: center;\n        justify-content: center;\n      }\n\n      :host(:not([${Attributes.AUDIO}])) ::slotted(media-gesture-receiver[slot=gestures-chrome]),\n      :host(:not([${Attributes.AUDIO}])) media-gesture-receiver[slot=gestures-chrome] {\n        align-self: stretch;\n        flex-grow: 1;\n      }\n\n      slot[name=middle-chrome] {\n        display: inline;\n        flex-grow: 1;\n        pointer-events: none;\n        background: none;\n      }\n\n      ${/* Position the media and poster elements to fill the container */\n    \"\"}\n      ::slotted([slot=media]),\n      ::slotted([slot=poster]) {\n        width: 100%;\n        height: 100%;\n      }\n\n      ${/* Video specific styles */\n    \"\"}\n      :host(:not([${Attributes.AUDIO}])) .spacer {\n        flex-grow: 1;\n      }\n\n      ${/* Safari needs this to actually make the element fill the window */\n    \"\"}\n      :host(:-webkit-full-screen) {\n        ${/* Needs to use !important otherwise easy to break */\n    \"\"}\n        width: 100% !important;\n        height: 100% !important;\n      }\n\n      ${/* Only add these if auto hide is not disabled */\n    \"\"}\n      ::slotted(:not([slot=media]):not([slot=poster]):not([${Attributes.NO_AUTOHIDE}]):not([hidden]):not([role=dialog])) {\n        opacity: 1;\n        transition: var(--media-control-transition-in, opacity 0.25s);\n      }\n\n      ${/* Hide controls when inactive, not paused, not audio and auto hide not disabled */\n    \"\"}\n      :host([${Attributes.USER_INACTIVE}]:not([${MediaUIAttributes.MEDIA_PAUSED}]):not([${MediaUIAttributes.MEDIA_IS_AIRPLAYING}]):not([${MediaUIAttributes.MEDIA_IS_CASTING}]):not([${Attributes.AUDIO}])) ::slotted(:not([slot=media]):not([slot=poster]):not([${Attributes.NO_AUTOHIDE}]):not([role=dialog])) {\n        opacity: 0;\n        transition: var(--media-control-transition-out, opacity 1s);\n      }\n\n      :host([${Attributes.USER_INACTIVE}]:not([${Attributes.NO_AUTOHIDE}]):not([${MediaUIAttributes.MEDIA_PAUSED}]):not([${MediaUIAttributes.MEDIA_IS_CASTING}]):not([${Attributes.AUDIO}])) ::slotted([slot=media]) {\n        cursor: none;\n      }\n\n      :host([${Attributes.USER_INACTIVE}][${Attributes.AUTOHIDE_OVER_CONTROLS}]:not([${Attributes.NO_AUTOHIDE}]):not([${MediaUIAttributes.MEDIA_PAUSED}]):not([${MediaUIAttributes.MEDIA_IS_CASTING}]):not([${Attributes.AUDIO}])) * {\n        --media-cursor: none;\n        cursor: none;\n      }\n\n\n      ::slotted(media-control-bar)  {\n        align-self: stretch;\n      }\n\n      ${/* ::slotted([slot=poster]) doesn't work for slot fallback content so hide parent slot instead */\n    \"\"}\n      :host(:not([${Attributes.AUDIO}])[${MediaUIAttributes.MEDIA_HAS_PLAYED}]) slot[name=poster] {\n        display: none;\n      }\n\n      ::slotted([role=dialog]) {\n        width: 100%;\n        height: 100%;\n        align-self: center;\n      }\n\n      ::slotted([role=menu]) {\n        align-self: end;\n      }\n    </style>\n\n    <slot name=\"media\" part=\"layer media-layer\"></slot>\n    <slot name=\"poster\" part=\"layer poster-layer\"></slot>\n    <slot name=\"gestures-chrome\" part=\"layer gesture-layer\">\n      <media-gesture-receiver slot=\"gestures-chrome\">\n        <template shadowrootmode=\"${MediaGestureReceiver.shadowRootOptions.mode}\">\n          ${MediaGestureReceiver.getTemplateHTML({})}\n        </template>\n      </media-gesture-receiver>\n    </slot>\n    <span part=\"layer vertical-layer\">\n      <slot name=\"top-chrome\" part=\"top chrome\"></slot>\n      <slot name=\"middle-chrome\" part=\"middle chrome\"></slot>\n      <slot name=\"centered-chrome\" part=\"layer centered-layer center centered chrome\"></slot>\n      ${/* default, effectively \"bottom-chrome\" */\n    \"\"}\n      <slot part=\"bottom chrome\"></slot>\n    </span>\n    <slot name=\"dialog\" part=\"layer dialog-layer\"></slot>\n  `\n  );\n}\nconst MEDIA_UI_ATTRIBUTE_NAMES = Object.values(MediaUIAttributes);\nconst defaultBreakpoints = \"sm:384 md:576 lg:768 xl:960\";\nfunction resizeCallback(entry) {\n  setBreakpoints(entry.target, entry.contentRect.width);\n}\nfunction setBreakpoints(container, width) {\n  var _a;\n  if (!container.isConnected)\n    return;\n  const breakpoints = (_a = container.getAttribute(Attributes.BREAKPOINTS)) != null ? _a : defaultBreakpoints;\n  const ranges = createBreakpointMap(breakpoints);\n  const activeBreakpoints = getBreakpoints(ranges, width);\n  let changed = false;\n  Object.keys(ranges).forEach((name) => {\n    if (activeBreakpoints.includes(name)) {\n      if (!container.hasAttribute(`breakpoint${name}`)) {\n        container.setAttribute(`breakpoint${name}`, \"\");\n        changed = true;\n      }\n      return;\n    }\n    if (container.hasAttribute(`breakpoint${name}`)) {\n      container.removeAttribute(`breakpoint${name}`);\n      changed = true;\n    }\n  });\n  if (changed) {\n    const evt = new CustomEvent(MediaStateChangeEvents.BREAKPOINTS_CHANGE, {\n      detail: activeBreakpoints\n    });\n    container.dispatchEvent(evt);\n  }\n  if (!container.breakpointsComputed) {\n    container.breakpointsComputed = true;\n    container.dispatchEvent(\n      new CustomEvent(MediaStateChangeEvents.BREAKPOINTS_COMPUTED, {\n        bubbles: true,\n        composed: true\n      })\n    );\n  }\n}\nfunction createBreakpointMap(breakpoints) {\n  const pairs = breakpoints.split(/\\s+/);\n  return Object.fromEntries(pairs.map((pair) => pair.split(\":\")));\n}\nfunction getBreakpoints(breakpoints, width) {\n  return Object.keys(breakpoints).filter((name) => {\n    return width >= parseInt(breakpoints[name]);\n  });\n}\nclass MediaContainer extends globalThis.HTMLElement {\n  constructor() {\n    super();\n    __privateAdd(this, _handleMutation);\n    __privateAdd(this, _handlePointerMove);\n    __privateAdd(this, _handlePointerUp);\n    __privateAdd(this, _setInactive);\n    __privateAdd(this, _setActive);\n    __privateAdd(this, _scheduleInactive);\n    __privateAdd(this, _pointerDownTimeStamp, 0);\n    __privateAdd(this, _currentMedia, null);\n    __privateAdd(this, _inactiveTimeout, null);\n    __privateAdd(this, _autohide, void 0);\n    this.breakpointsComputed = false;\n    __privateAdd(this, _mutationObserver, new MutationObserver(__privateMethod(this, _handleMutation, handleMutation_fn).bind(this)));\n    __privateAdd(this, _isResizePending, false);\n    __privateAdd(this, _handleResize, (entry) => {\n      if (__privateGet(this, _isResizePending))\n        return;\n      setTimeout(() => {\n        resizeCallback(entry);\n        __privateSet(this, _isResizePending, false);\n      }, 0);\n      __privateSet(this, _isResizePending, true);\n    });\n    if (!this.shadowRoot) {\n      this.attachShadow(this.constructor.shadowRootOptions);\n      const attrs = namedNodeMapToObject(this.attributes);\n      const html = this.constructor.getTemplateHTML(attrs);\n      this.shadowRoot.setHTMLUnsafe ? this.shadowRoot.setHTMLUnsafe(html) : this.shadowRoot.innerHTML = html;\n    }\n    const chainedSlot = this.querySelector(\n      \":scope > slot[slot=media]\"\n    );\n    if (chainedSlot) {\n      chainedSlot.addEventListener(\"slotchange\", () => {\n        const slotEls = chainedSlot.assignedElements({ flatten: true });\n        if (!slotEls.length) {\n          if (__privateGet(this, _currentMedia)) {\n            this.mediaUnsetCallback(__privateGet(this, _currentMedia));\n          }\n          return;\n        }\n        this.handleMediaUpdated(this.media);\n      });\n    }\n  }\n  static get observedAttributes() {\n    return [Attributes.AUTOHIDE, Attributes.GESTURES_DISABLED].concat(MEDIA_UI_ATTRIBUTE_NAMES).filter(\n      (name) => ![\n        MediaUIAttributes.MEDIA_RENDITION_LIST,\n        MediaUIAttributes.MEDIA_AUDIO_TRACK_LIST,\n        MediaUIAttributes.MEDIA_CHAPTERS_CUES,\n        MediaUIAttributes.MEDIA_WIDTH,\n        MediaUIAttributes.MEDIA_HEIGHT,\n        MediaUIAttributes.MEDIA_ERROR,\n        MediaUIAttributes.MEDIA_ERROR_MESSAGE\n      ].includes(name)\n    );\n  }\n  // Could share this code with media-chrome-html-element instead\n  attributeChangedCallback(attrName, _oldValue, newValue) {\n    if (attrName.toLowerCase() == Attributes.AUTOHIDE) {\n      this.autohide = newValue;\n    }\n  }\n  // First direct child with slot=media, or null\n  get media() {\n    let media = this.querySelector(\":scope > [slot=media]\");\n    if ((media == null ? void 0 : media.nodeName) == \"SLOT\")\n      media = media.assignedElements({ flatten: true })[0];\n    return media;\n  }\n  async handleMediaUpdated(media) {\n    if (!media)\n      return;\n    __privateSet(this, _currentMedia, media);\n    if (media.localName.includes(\"-\")) {\n      await globalThis.customElements.whenDefined(media.localName);\n    }\n    this.mediaSetCallback(media);\n  }\n  connectedCallback() {\n    var _a;\n    __privateGet(this, _mutationObserver).observe(this, { childList: true, subtree: true });\n    observeResize(this, __privateGet(this, _handleResize));\n    const isAudioChrome = this.getAttribute(Attributes.AUDIO) != null;\n    const label = isAudioChrome ? t(\"audio player\") : t(\"video player\");\n    this.setAttribute(\"role\", \"region\");\n    this.setAttribute(\"aria-label\", label);\n    this.handleMediaUpdated(this.media);\n    this.setAttribute(Attributes.USER_INACTIVE, \"\");\n    setBreakpoints(this, this.getBoundingClientRect().width);\n    this.addEventListener(\"pointerdown\", this);\n    this.addEventListener(\"pointermove\", this);\n    this.addEventListener(\"pointerup\", this);\n    this.addEventListener(\"mouseleave\", this);\n    this.addEventListener(\"keyup\", this);\n    (_a = globalThis.window) == null ? void 0 : _a.addEventListener(\"mouseup\", this);\n  }\n  disconnectedCallback() {\n    var _a;\n    __privateGet(this, _mutationObserver).disconnect();\n    unobserveResize(this, __privateGet(this, _handleResize));\n    if (this.media) {\n      this.mediaUnsetCallback(this.media);\n    }\n    (_a = globalThis.window) == null ? void 0 : _a.removeEventListener(\"mouseup\", this);\n  }\n  /**\n   * @abstract\n   */\n  mediaSetCallback(_media) {\n  }\n  mediaUnsetCallback(_media) {\n    __privateSet(this, _currentMedia, null);\n  }\n  handleEvent(event) {\n    switch (event.type) {\n      case \"pointerdown\":\n        __privateSet(this, _pointerDownTimeStamp, event.timeStamp);\n        break;\n      case \"pointermove\":\n        __privateMethod(this, _handlePointerMove, handlePointerMove_fn).call(this, event);\n        break;\n      case \"pointerup\":\n        __privateMethod(this, _handlePointerUp, handlePointerUp_fn).call(this, event);\n        break;\n      case \"mouseleave\":\n        __privateMethod(this, _setInactive, setInactive_fn).call(this);\n        break;\n      case \"mouseup\":\n        this.removeAttribute(Attributes.KEYBOARD_CONTROL);\n        break;\n      case \"keyup\":\n        __privateMethod(this, _scheduleInactive, scheduleInactive_fn).call(this);\n        this.setAttribute(Attributes.KEYBOARD_CONTROL, \"\");\n        break;\n    }\n  }\n  set autohide(seconds) {\n    const parsedSeconds = Number(seconds);\n    __privateSet(this, _autohide, isNaN(parsedSeconds) ? 0 : parsedSeconds);\n  }\n  get autohide() {\n    return (__privateGet(this, _autohide) === void 0 ? 2 : __privateGet(this, _autohide)).toString();\n  }\n  get breakpoints() {\n    return getStringAttr(this, Attributes.BREAKPOINTS);\n  }\n  set breakpoints(value) {\n    setStringAttr(this, Attributes.BREAKPOINTS, value);\n  }\n  get audio() {\n    return getBooleanAttr(this, Attributes.AUDIO);\n  }\n  set audio(value) {\n    setBooleanAttr(this, Attributes.AUDIO, value);\n  }\n  get gesturesDisabled() {\n    return getBooleanAttr(this, Attributes.GESTURES_DISABLED);\n  }\n  set gesturesDisabled(value) {\n    setBooleanAttr(this, Attributes.GESTURES_DISABLED, value);\n  }\n  get keyboardControl() {\n    return getBooleanAttr(this, Attributes.KEYBOARD_CONTROL);\n  }\n  set keyboardControl(value) {\n    setBooleanAttr(this, Attributes.KEYBOARD_CONTROL, value);\n  }\n  get noAutohide() {\n    return getBooleanAttr(this, Attributes.NO_AUTOHIDE);\n  }\n  set noAutohide(value) {\n    setBooleanAttr(this, Attributes.NO_AUTOHIDE, value);\n  }\n  get autohideOverControls() {\n    return getBooleanAttr(this, Attributes.AUTOHIDE_OVER_CONTROLS);\n  }\n  set autohideOverControls(value) {\n    setBooleanAttr(this, Attributes.AUTOHIDE_OVER_CONTROLS, value);\n  }\n  get userInteractive() {\n    return getBooleanAttr(this, Attributes.USER_INACTIVE);\n  }\n  set userInteractive(value) {\n    setBooleanAttr(this, Attributes.USER_INACTIVE, value);\n  }\n}\n_pointerDownTimeStamp = new WeakMap();\n_currentMedia = new WeakMap();\n_inactiveTimeout = new WeakMap();\n_autohide = new WeakMap();\n_mutationObserver = new WeakMap();\n_handleMutation = new WeakSet();\nhandleMutation_fn = function(mutationsList) {\n  const media = this.media;\n  for (const mutation of mutationsList) {\n    if (mutation.type !== \"childList\")\n      continue;\n    const removedNodes = mutation.removedNodes;\n    for (const node of removedNodes) {\n      if (node.slot != \"media\" || mutation.target != this)\n        continue;\n      let previousSibling = mutation.previousSibling && mutation.previousSibling.previousElementSibling;\n      if (!previousSibling || !media) {\n        this.mediaUnsetCallback(node);\n      } else {\n        let wasFirst = previousSibling.slot !== \"media\";\n        while ((previousSibling = previousSibling.previousSibling) !== null) {\n          if (previousSibling.slot == \"media\")\n            wasFirst = false;\n        }\n        if (wasFirst)\n          this.mediaUnsetCallback(node);\n      }\n    }\n    if (media) {\n      for (const node of mutation.addedNodes) {\n        if (node === media)\n          this.handleMediaUpdated(media);\n      }\n    }\n  }\n};\n_isResizePending = new WeakMap();\n_handleResize = new WeakMap();\n_handlePointerMove = new WeakSet();\nhandlePointerMove_fn = function(event) {\n  if (event.pointerType !== \"mouse\") {\n    const MAX_TAP_DURATION = 250;\n    if (event.timeStamp - __privateGet(this, _pointerDownTimeStamp) < MAX_TAP_DURATION)\n      return;\n  }\n  __privateMethod(this, _setActive, setActive_fn).call(this);\n  clearTimeout(__privateGet(this, _inactiveTimeout));\n  const autohideOverControls = this.hasAttribute(\n    Attributes.AUTOHIDE_OVER_CONTROLS\n  );\n  if ([this, this.media].includes(event.target) || autohideOverControls) {\n    __privateMethod(this, _scheduleInactive, scheduleInactive_fn).call(this);\n  }\n};\n_handlePointerUp = new WeakSet();\nhandlePointerUp_fn = function(event) {\n  if (event.pointerType === \"touch\") {\n    const controlsVisible = !this.hasAttribute(Attributes.USER_INACTIVE);\n    if ([this, this.media].includes(event.target) && controlsVisible) {\n      __privateMethod(this, _setInactive, setInactive_fn).call(this);\n    } else {\n      __privateMethod(this, _scheduleInactive, scheduleInactive_fn).call(this);\n    }\n  } else if (event.composedPath().some(\n    (el) => [\"media-play-button\", \"media-fullscreen-button\"].includes(\n      el == null ? void 0 : el.localName\n    )\n  )) {\n    __privateMethod(this, _scheduleInactive, scheduleInactive_fn).call(this);\n  }\n};\n_setInactive = new WeakSet();\nsetInactive_fn = function() {\n  if (__privateGet(this, _autohide) < 0)\n    return;\n  if (this.hasAttribute(Attributes.USER_INACTIVE))\n    return;\n  this.setAttribute(Attributes.USER_INACTIVE, \"\");\n  const evt = new globalThis.CustomEvent(\n    MediaStateChangeEvents.USER_INACTIVE_CHANGE,\n    { composed: true, bubbles: true, detail: true }\n  );\n  this.dispatchEvent(evt);\n};\n_setActive = new WeakSet();\nsetActive_fn = function() {\n  if (!this.hasAttribute(Attributes.USER_INACTIVE))\n    return;\n  this.removeAttribute(Attributes.USER_INACTIVE);\n  const evt = new globalThis.CustomEvent(\n    MediaStateChangeEvents.USER_INACTIVE_CHANGE,\n    { composed: true, bubbles: true, detail: false }\n  );\n  this.dispatchEvent(evt);\n};\n_scheduleInactive = new WeakSet();\nscheduleInactive_fn = function() {\n  __privateMethod(this, _setActive, setActive_fn).call(this);\n  clearTimeout(__privateGet(this, _inactiveTimeout));\n  const autohide = parseInt(this.autohide);\n  if (autohide < 0)\n    return;\n  __privateSet(this, _inactiveTimeout, setTimeout(() => {\n    __privateMethod(this, _setInactive, setInactive_fn).call(this);\n  }, autohide * 1e3));\n};\nMediaContainer.shadowRootOptions = { mode: \"open\" };\nMediaContainer.getTemplateHTML = getTemplateHTML;\nif (!globalThis.customElements.get(\"media-container\")) {\n  globalThis.customElements.define(\"media-container\", MediaContainer);\n}\nvar media_container_default = MediaContainer;\nexport {\n  Attributes,\n  MediaContainer,\n  media_container_default as default\n};\n"],"mappings":"AAAA,IAAIA,aAAa,GAAGA,CAACC,GAAG,EAAEC,MAAM,EAAEC,GAAG,KAAK;EACxC,IAAI,CAACD,MAAM,CAACE,GAAG,CAACH,GAAG,CAAC,EAClB,MAAMI,SAAS,CAAC,SAAS,GAAGF,GAAG,CAAC;AACpC,CAAC;AACD,IAAIG,YAAY,GAAGA,CAACL,GAAG,EAAEC,MAAM,EAAEK,MAAM,KAAK;EAC1CP,aAAa,CAACC,GAAG,EAAEC,MAAM,EAAE,yBAAyB,CAAC;EACrD,OAAOK,MAAM,GAAGA,MAAM,CAACC,IAAI,CAACP,GAAG,CAAC,GAAGC,MAAM,CAACO,GAAG,CAACR,GAAG,CAAC;AACpD,CAAC;AACD,IAAIS,YAAY,GAAGA,CAACT,GAAG,EAAEC,MAAM,EAAES,KAAK,KAAK;EACzC,IAAIT,MAAM,CAACE,GAAG,CAACH,GAAG,CAAC,EACjB,MAAMI,SAAS,CAAC,mDAAmD,CAAC;EACtEH,MAAM,YAAYU,OAAO,GAAGV,MAAM,CAACW,GAAG,CAACZ,GAAG,CAAC,GAAGC,MAAM,CAACY,GAAG,CAACb,GAAG,EAAEU,KAAK,CAAC;AACtE,CAAC;AACD,IAAII,YAAY,GAAGA,CAACd,GAAG,EAAEC,MAAM,EAAES,KAAK,EAAEK,MAAM,KAAK;EACjDhB,aAAa,CAACC,GAAG,EAAEC,MAAM,EAAE,wBAAwB,CAAC;EACpDc,MAAM,GAAGA,MAAM,CAACR,IAAI,CAACP,GAAG,EAAEU,KAAK,CAAC,GAAGT,MAAM,CAACY,GAAG,CAACb,GAAG,EAAEU,KAAK,CAAC;EACzD,OAAOA,KAAK;AACd,CAAC;AACD,IAAIM,eAAe,GAAGA,CAAChB,GAAG,EAAEC,MAAM,EAAEgB,MAAM,KAAK;EAC7ClB,aAAa,CAACC,GAAG,EAAEC,MAAM,EAAE,uBAAuB,CAAC;EACnD,OAAOgB,MAAM;AACf,CAAC;AACD,IAAIC,qBAAqB,EAAEC,aAAa,EAAEC,gBAAgB,EAAEC,SAAS,EAAEC,iBAAiB,EAAEC,eAAe,EAAEC,iBAAiB,EAAEC,gBAAgB,EAAEC,aAAa,EAAEC,kBAAkB,EAAEC,oBAAoB,EAAEC,gBAAgB,EAAEC,kBAAkB,EAAEC,YAAY,EAAEC,cAAc,EAAEC,UAAU,EAAEC,YAAY,EAAEC,iBAAiB,EAAEC,mBAAmB;AAC7U,SAASC,UAAU,QAAQ,gCAAgC;AAC3D,SAASC,iBAAiB,EAAEC,sBAAsB,QAAQ,gBAAgB;AAC1E,SAASC,aAAa,EAAEC,eAAe,QAAQ,4BAA4B;AAC3E,OAAO,6BAA6B;AACpC,SAASC,CAAC,QAAQ,iBAAiB;AACnC,SACEC,cAAc,EACdC,aAAa,EACbC,oBAAoB,EACpBC,cAAc,EACdC,aAAa,QACR,0BAA0B;AACjC,OAAOC,oBAAoB,MAAM,6BAA6B;AAC9D,MAAMC,UAAU,GAAG;EACjBC,KAAK,EAAE,OAAO;EACdC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,aAAa;EAC1BC,iBAAiB,EAAE,kBAAkB;EACrCC,gBAAgB,EAAE,iBAAiB;EACnCC,WAAW,EAAE,YAAY;EACzBC,aAAa,EAAE,cAAc;EAC7BC,sBAAsB,EAAE;AAC1B,CAAC;AACD,SAASC,eAAeA,CAACC,MAAM,EAAE;EAC/B,OACE,QACA;AACJ;AACA;EAAQ;AACR;AACA;AACA;AACA;EACI,EAAE;AACN,eAAerB,iBAAiB,CAACsB,mBAAmB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoBX,UAAU,CAACC,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAAQ;AACR;AACA;EACI,EAAE;AACN,eAAeD,UAAU,CAACC,KAAK;AAC/B;AACA;AACA;AACA;EAAQ;AACR;AACA;EACI,EAAE;AACN,eAAeD,UAAU,CAACC,KAAK;AAC/B;AACA;AACA;AACA;AACA;EAAQ;AACR;AACA;EACI,EAAE;AACN,oBAAoBD,UAAU,CAACC,KAAK,MAAMD,UAAU,CAACI,iBAAiB;AACtE,wBAAwBJ,UAAU,CAACC,KAAK,MAAMD,UAAU,CAACI,iBAAiB;AAC1E;AACA;AACA;AACA;EAAQ;AACR;AACA;AACA;EACI,EAAE;AACN;AACA;AACA;AACA;AACA,oBAAoBJ,UAAU,CAACC,KAAK;AACpC;AACA;AACA;AACA;AACA,oBAAoBD,UAAU,CAACC,KAAK;AACpC,oBAAoBD,UAAU,CAACC,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;EACJ,EAAE;AACN;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;EACJ,EAAE;AACN,oBAAoBD,UAAU,CAACC,KAAK;AACpC;AACA;AACA;AACA,QAAQ;EACJ,EAAE;AACN;AACA,UAAU;EACN,EAAE;AACN;AACA;AACA;AACA;AACA,QAAQ;EACJ,EAAE;AACN,6DAA6DD,UAAU,CAACM,WAAW;AACnF;AACA;AACA;AACA;AACA,QAAQ;EACJ,EAAE;AACN,eAAeN,UAAU,CAACO,aAAa,UAAUlB,iBAAiB,CAACuB,YAAY,WAAWvB,iBAAiB,CAACwB,mBAAmB,WAAWxB,iBAAiB,CAACyB,gBAAgB,WAAWd,UAAU,CAACC,KAAK,4DAA4DD,UAAU,CAACM,WAAW;AACzR;AACA;AACA;AACA;AACA,eAAeN,UAAU,CAACO,aAAa,UAAUP,UAAU,CAACM,WAAW,WAAWjB,iBAAiB,CAACuB,YAAY,WAAWvB,iBAAiB,CAACyB,gBAAgB,WAAWd,UAAU,CAACC,KAAK;AACxL;AACA;AACA;AACA,eAAeD,UAAU,CAACO,aAAa,KAAKP,UAAU,CAACQ,sBAAsB,UAAUR,UAAU,CAACM,WAAW,WAAWjB,iBAAiB,CAACuB,YAAY,WAAWvB,iBAAiB,CAACyB,gBAAgB,WAAWd,UAAU,CAACC,KAAK;AAC9N;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;EACJ,EAAE;AACN,oBAAoBD,UAAU,CAACC,KAAK,MAAMZ,iBAAiB,CAAC0B,gBAAgB;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoChB,oBAAoB,CAACiB,iBAAiB,CAACC,IAAI;AAC/E,YAAYlB,oBAAoB,CAACU,eAAe,CAAC,CAAC,CAAC,CAAC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;EACJ,EAAE;AACN;AACA;AACA;AACA,GAAG;AAEH;AACA,MAAMS,wBAAwB,GAAGC,MAAM,CAACC,MAAM,CAAC/B,iBAAiB,CAAC;AACjE,MAAMgC,kBAAkB,GAAG,6BAA6B;AACxD,SAASC,cAAcA,CAACC,KAAK,EAAE;EAC7BC,cAAc,CAACD,KAAK,CAACE,MAAM,EAAEF,KAAK,CAACG,WAAW,CAACC,KAAK,CAAC;AACvD;AACA,SAASH,cAAcA,CAACI,SAAS,EAAED,KAAK,EAAE;EACxC,IAAIE,EAAE;EACN,IAAI,CAACD,SAAS,CAACE,WAAW,EACxB;EACF,MAAMC,WAAW,GAAG,CAACF,EAAE,GAAGD,SAAS,CAACI,YAAY,CAAChC,UAAU,CAACG,WAAW,CAAC,KAAK,IAAI,GAAG0B,EAAE,GAAGR,kBAAkB;EAC3G,MAAMY,MAAM,GAAGC,mBAAmB,CAACH,WAAW,CAAC;EAC/C,MAAMI,iBAAiB,GAAGC,cAAc,CAACH,MAAM,EAAEN,KAAK,CAAC;EACvD,IAAIU,OAAO,GAAG,KAAK;EACnBlB,MAAM,CAACmB,IAAI,CAACL,MAAM,CAAC,CAACM,OAAO,CAAEC,IAAI,IAAK;IACpC,IAAIL,iBAAiB,CAACM,QAAQ,CAACD,IAAI,CAAC,EAAE;MACpC,IAAI,CAACZ,SAAS,CAACc,YAAY,CAAC,aAAaF,IAAI,EAAE,CAAC,EAAE;QAChDZ,SAAS,CAACe,YAAY,CAAC,aAAaH,IAAI,EAAE,EAAE,EAAE,CAAC;QAC/CH,OAAO,GAAG,IAAI;MAChB;MACA;IACF;IACA,IAAIT,SAAS,CAACc,YAAY,CAAC,aAAaF,IAAI,EAAE,CAAC,EAAE;MAC/CZ,SAAS,CAACgB,eAAe,CAAC,aAAaJ,IAAI,EAAE,CAAC;MAC9CH,OAAO,GAAG,IAAI;IAChB;EACF,CAAC,CAAC;EACF,IAAIA,OAAO,EAAE;IACX,MAAMQ,GAAG,GAAG,IAAIC,WAAW,CAACxD,sBAAsB,CAACyD,kBAAkB,EAAE;MACrEC,MAAM,EAAEb;IACV,CAAC,CAAC;IACFP,SAAS,CAACqB,aAAa,CAACJ,GAAG,CAAC;EAC9B;EACA,IAAI,CAACjB,SAAS,CAACsB,mBAAmB,EAAE;IAClCtB,SAAS,CAACsB,mBAAmB,GAAG,IAAI;IACpCtB,SAAS,CAACqB,aAAa,CACrB,IAAIH,WAAW,CAACxD,sBAAsB,CAAC6D,oBAAoB,EAAE;MAC3DC,OAAO,EAAE,IAAI;MACbC,QAAQ,EAAE;IACZ,CAAC,CACH,CAAC;EACH;AACF;AACA,SAASnB,mBAAmBA,CAACH,WAAW,EAAE;EACxC,MAAMuB,KAAK,GAAGvB,WAAW,CAACwB,KAAK,CAAC,KAAK,CAAC;EACtC,OAAOpC,MAAM,CAACqC,WAAW,CAACF,KAAK,CAACG,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACH,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;AACjE;AACA,SAASnB,cAAcA,CAACL,WAAW,EAAEJ,KAAK,EAAE;EAC1C,OAAOR,MAAM,CAACmB,IAAI,CAACP,WAAW,CAAC,CAAC4B,MAAM,CAAEnB,IAAI,IAAK;IAC/C,OAAOb,KAAK,IAAIiC,QAAQ,CAAC7B,WAAW,CAACS,IAAI,CAAC,CAAC;EAC7C,CAAC,CAAC;AACJ;AACA,MAAMqB,cAAc,SAASzE,UAAU,CAAC0E,WAAW,CAAC;EAClDC,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,CAAC;IACPvG,YAAY,CAAC,IAAI,EAAEc,eAAe,CAAC;IACnCd,YAAY,CAAC,IAAI,EAAEkB,kBAAkB,CAAC;IACtClB,YAAY,CAAC,IAAI,EAAEoB,gBAAgB,CAAC;IACpCpB,YAAY,CAAC,IAAI,EAAEsB,YAAY,CAAC;IAChCtB,YAAY,CAAC,IAAI,EAAEwB,UAAU,CAAC;IAC9BxB,YAAY,CAAC,IAAI,EAAE0B,iBAAiB,CAAC;IACrC1B,YAAY,CAAC,IAAI,EAAES,qBAAqB,EAAE,CAAC,CAAC;IAC5CT,YAAY,CAAC,IAAI,EAAEU,aAAa,EAAE,IAAI,CAAC;IACvCV,YAAY,CAAC,IAAI,EAAEW,gBAAgB,EAAE,IAAI,CAAC;IAC1CX,YAAY,CAAC,IAAI,EAAEY,SAAS,EAAE,KAAK,CAAC,CAAC;IACrC,IAAI,CAAC8E,mBAAmB,GAAG,KAAK;IAChC1F,YAAY,CAAC,IAAI,EAAEa,iBAAiB,EAAE,IAAI2F,gBAAgB,CAACjG,eAAe,CAAC,IAAI,EAAEO,eAAe,EAAEC,iBAAiB,CAAC,CAAC0F,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACjIzG,YAAY,CAAC,IAAI,EAAEgB,gBAAgB,EAAE,KAAK,CAAC;IAC3ChB,YAAY,CAAC,IAAI,EAAEiB,aAAa,EAAG8C,KAAK,IAAK;MAC3C,IAAInE,YAAY,CAAC,IAAI,EAAEoB,gBAAgB,CAAC,EACtC;MACF0F,UAAU,CAAC,MAAM;QACf5C,cAAc,CAACC,KAAK,CAAC;QACrB1D,YAAY,CAAC,IAAI,EAAEW,gBAAgB,EAAE,KAAK,CAAC;MAC7C,CAAC,EAAE,CAAC,CAAC;MACLX,YAAY,CAAC,IAAI,EAAEW,gBAAgB,EAAE,IAAI,CAAC;IAC5C,CAAC,CAAC;IACF,IAAI,CAAC,IAAI,CAAC2F,UAAU,EAAE;MACpB,IAAI,CAACC,YAAY,CAAC,IAAI,CAACL,WAAW,CAAC/C,iBAAiB,CAAC;MACrD,MAAMqD,KAAK,GAAGzE,oBAAoB,CAAC,IAAI,CAAC0E,UAAU,CAAC;MACnD,MAAMC,IAAI,GAAG,IAAI,CAACR,WAAW,CAACtD,eAAe,CAAC4D,KAAK,CAAC;MACpD,IAAI,CAACF,UAAU,CAACK,aAAa,GAAG,IAAI,CAACL,UAAU,CAACK,aAAa,CAACD,IAAI,CAAC,GAAG,IAAI,CAACJ,UAAU,CAACM,SAAS,GAAGF,IAAI;IACxG;IACA,MAAMG,WAAW,GAAG,IAAI,CAACC,aAAa,CACpC,2BACF,CAAC;IACD,IAAID,WAAW,EAAE;MACfA,WAAW,CAACE,gBAAgB,CAAC,YAAY,EAAE,MAAM;QAC/C,MAAMC,OAAO,GAAGH,WAAW,CAACI,gBAAgB,CAAC;UAAEC,OAAO,EAAE;QAAK,CAAC,CAAC;QAC/D,IAAI,CAACF,OAAO,CAACG,MAAM,EAAE;UACnB,IAAI5H,YAAY,CAAC,IAAI,EAAEc,aAAa,CAAC,EAAE;YACrC,IAAI,CAAC+G,kBAAkB,CAAC7H,YAAY,CAAC,IAAI,EAAEc,aAAa,CAAC,CAAC;UAC5D;UACA;QACF;QACA,IAAI,CAACgH,kBAAkB,CAAC,IAAI,CAACC,KAAK,CAAC;MACrC,CAAC,CAAC;IACJ;EACF;EACA,WAAWC,kBAAkBA,CAAA,EAAG;IAC9B,OAAO,CAACpF,UAAU,CAACE,QAAQ,EAAEF,UAAU,CAACI,iBAAiB,CAAC,CAACiF,MAAM,CAACnE,wBAAwB,CAAC,CAACyC,MAAM,CAC/FnB,IAAI,IAAK,CAAC,CACTnD,iBAAiB,CAACiG,oBAAoB,EACtCjG,iBAAiB,CAACkG,sBAAsB,EACxClG,iBAAiB,CAACmG,mBAAmB,EACrCnG,iBAAiB,CAACoG,WAAW,EAC7BpG,iBAAiB,CAACqG,YAAY,EAC9BrG,iBAAiB,CAACsG,WAAW,EAC7BtG,iBAAiB,CAACuG,mBAAmB,CACtC,CAACnD,QAAQ,CAACD,IAAI,CACjB,CAAC;EACH;EACA;EACAqD,wBAAwBA,CAACC,QAAQ,EAAEC,SAAS,EAAEC,QAAQ,EAAE;IACtD,IAAIF,QAAQ,CAACG,WAAW,CAAC,CAAC,IAAIjG,UAAU,CAACE,QAAQ,EAAE;MACjD,IAAI,CAACgG,QAAQ,GAAGF,QAAQ;IAC1B;EACF;EACA;EACA,IAAIb,KAAKA,CAAA,EAAG;IACV,IAAIA,KAAK,GAAG,IAAI,CAACR,aAAa,CAAC,uBAAuB,CAAC;IACvD,IAAI,CAACQ,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACgB,QAAQ,KAAK,MAAM,EACrDhB,KAAK,GAAGA,KAAK,CAACL,gBAAgB,CAAC;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IACtD,OAAOI,KAAK;EACd;EACA,MAAMD,kBAAkBA,CAACC,KAAK,EAAE;IAC9B,IAAI,CAACA,KAAK,EACR;IACFtH,YAAY,CAAC,IAAI,EAAEK,aAAa,EAAEiH,KAAK,CAAC;IACxC,IAAIA,KAAK,CAACiB,SAAS,CAAC3D,QAAQ,CAAC,GAAG,CAAC,EAAE;MACjC,MAAMrD,UAAU,CAACiH,cAAc,CAACC,WAAW,CAACnB,KAAK,CAACiB,SAAS,CAAC;IAC9D;IACA,IAAI,CAACG,gBAAgB,CAACpB,KAAK,CAAC;EAC9B;EACAqB,iBAAiBA,CAAA,EAAG;IAClB,IAAI3E,EAAE;IACNzE,YAAY,CAAC,IAAI,EAAEiB,iBAAiB,CAAC,CAACoI,OAAO,CAAC,IAAI,EAAE;MAAEC,SAAS,EAAE,IAAI;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC;IACvFpH,aAAa,CAAC,IAAI,EAAEnC,YAAY,CAAC,IAAI,EAAEqB,aAAa,CAAC,CAAC;IACtD,MAAMmI,aAAa,GAAG,IAAI,CAAC5E,YAAY,CAAChC,UAAU,CAACC,KAAK,CAAC,IAAI,IAAI;IACjE,MAAM4G,KAAK,GAAGD,aAAa,GAAGnH,CAAC,CAAC,cAAc,CAAC,GAAGA,CAAC,CAAC,cAAc,CAAC;IACnE,IAAI,CAACkD,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC;IACnC,IAAI,CAACA,YAAY,CAAC,YAAY,EAAEkE,KAAK,CAAC;IACtC,IAAI,CAAC3B,kBAAkB,CAAC,IAAI,CAACC,KAAK,CAAC;IACnC,IAAI,CAACxC,YAAY,CAAC3C,UAAU,CAACO,aAAa,EAAE,EAAE,CAAC;IAC/CiB,cAAc,CAAC,IAAI,EAAE,IAAI,CAACsF,qBAAqB,CAAC,CAAC,CAACnF,KAAK,CAAC;IACxD,IAAI,CAACiD,gBAAgB,CAAC,aAAa,EAAE,IAAI,CAAC;IAC1C,IAAI,CAACA,gBAAgB,CAAC,aAAa,EAAE,IAAI,CAAC;IAC1C,IAAI,CAACA,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC;IACxC,IAAI,CAACA,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC;IACzC,IAAI,CAACA,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC;IACpC,CAAC/C,EAAE,GAAGzC,UAAU,CAAC2H,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGlF,EAAE,CAAC+C,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC;EAClF;EACAoC,oBAAoBA,CAAA,EAAG;IACrB,IAAInF,EAAE;IACNzE,YAAY,CAAC,IAAI,EAAEiB,iBAAiB,CAAC,CAAC4I,UAAU,CAAC,CAAC;IAClDzH,eAAe,CAAC,IAAI,EAAEpC,YAAY,CAAC,IAAI,EAAEqB,aAAa,CAAC,CAAC;IACxD,IAAI,IAAI,CAAC0G,KAAK,EAAE;MACd,IAAI,CAACF,kBAAkB,CAAC,IAAI,CAACE,KAAK,CAAC;IACrC;IACA,CAACtD,EAAE,GAAGzC,UAAU,CAAC2H,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGlF,EAAE,CAACqF,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC;EACrF;EACA;AACF;AACA;EACEX,gBAAgBA,CAACY,MAAM,EAAE,CACzB;EACAlC,kBAAkBA,CAACkC,MAAM,EAAE;IACzBtJ,YAAY,CAAC,IAAI,EAAEK,aAAa,EAAE,IAAI,CAAC;EACzC;EACAkJ,WAAWA,CAACC,KAAK,EAAE;IACjB,QAAQA,KAAK,CAACC,IAAI;MAChB,KAAK,aAAa;QAChBzJ,YAAY,CAAC,IAAI,EAAEI,qBAAqB,EAAEoJ,KAAK,CAACE,SAAS,CAAC;QAC1D;MACF,KAAK,aAAa;QAChBxJ,eAAe,CAAC,IAAI,EAAEW,kBAAkB,EAAEC,oBAAoB,CAAC,CAACrB,IAAI,CAAC,IAAI,EAAE+J,KAAK,CAAC;QACjF;MACF,KAAK,WAAW;QACdtJ,eAAe,CAAC,IAAI,EAAEa,gBAAgB,EAAEC,kBAAkB,CAAC,CAACvB,IAAI,CAAC,IAAI,EAAE+J,KAAK,CAAC;QAC7E;MACF,KAAK,YAAY;QACftJ,eAAe,CAAC,IAAI,EAAEe,YAAY,EAAEC,cAAc,CAAC,CAACzB,IAAI,CAAC,IAAI,CAAC;QAC9D;MACF,KAAK,SAAS;QACZ,IAAI,CAACsF,eAAe,CAAC5C,UAAU,CAACK,gBAAgB,CAAC;QACjD;MACF,KAAK,OAAO;QACVtC,eAAe,CAAC,IAAI,EAAEmB,iBAAiB,EAAEC,mBAAmB,CAAC,CAAC7B,IAAI,CAAC,IAAI,CAAC;QACxE,IAAI,CAACqF,YAAY,CAAC3C,UAAU,CAACK,gBAAgB,EAAE,EAAE,CAAC;QAClD;IACJ;EACF;EACA,IAAI6F,QAAQA,CAACsB,OAAO,EAAE;IACpB,MAAMC,aAAa,GAAGC,MAAM,CAACF,OAAO,CAAC;IACrC3J,YAAY,CAAC,IAAI,EAAEO,SAAS,EAAEuJ,KAAK,CAACF,aAAa,CAAC,GAAG,CAAC,GAAGA,aAAa,CAAC;EACzE;EACA,IAAIvB,QAAQA,CAAA,EAAG;IACb,OAAO,CAAC9I,YAAY,CAAC,IAAI,EAAEgB,SAAS,CAAC,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGhB,YAAY,CAAC,IAAI,EAAEgB,SAAS,CAAC,EAAEwJ,QAAQ,CAAC,CAAC;EAClG;EACA,IAAI7F,WAAWA,CAAA,EAAG;IAChB,OAAOpC,aAAa,CAAC,IAAI,EAAEK,UAAU,CAACG,WAAW,CAAC;EACpD;EACA,IAAI4B,WAAWA,CAACtE,KAAK,EAAE;IACrBqC,aAAa,CAAC,IAAI,EAAEE,UAAU,CAACG,WAAW,EAAE1C,KAAK,CAAC;EACpD;EACA,IAAIoK,KAAKA,CAAA,EAAG;IACV,OAAOnI,cAAc,CAAC,IAAI,EAAEM,UAAU,CAACC,KAAK,CAAC;EAC/C;EACA,IAAI4H,KAAKA,CAACpK,KAAK,EAAE;IACfoC,cAAc,CAAC,IAAI,EAAEG,UAAU,CAACC,KAAK,EAAExC,KAAK,CAAC;EAC/C;EACA,IAAIqK,gBAAgBA,CAAA,EAAG;IACrB,OAAOpI,cAAc,CAAC,IAAI,EAAEM,UAAU,CAACI,iBAAiB,CAAC;EAC3D;EACA,IAAI0H,gBAAgBA,CAACrK,KAAK,EAAE;IAC1BoC,cAAc,CAAC,IAAI,EAAEG,UAAU,CAACI,iBAAiB,EAAE3C,KAAK,CAAC;EAC3D;EACA,IAAIsK,eAAeA,CAAA,EAAG;IACpB,OAAOrI,cAAc,CAAC,IAAI,EAAEM,UAAU,CAACK,gBAAgB,CAAC;EAC1D;EACA,IAAI0H,eAAeA,CAACtK,KAAK,EAAE;IACzBoC,cAAc,CAAC,IAAI,EAAEG,UAAU,CAACK,gBAAgB,EAAE5C,KAAK,CAAC;EAC1D;EACA,IAAIuK,UAAUA,CAAA,EAAG;IACf,OAAOtI,cAAc,CAAC,IAAI,EAAEM,UAAU,CAACM,WAAW,CAAC;EACrD;EACA,IAAI0H,UAAUA,CAACvK,KAAK,EAAE;IACpBoC,cAAc,CAAC,IAAI,EAAEG,UAAU,CAACM,WAAW,EAAE7C,KAAK,CAAC;EACrD;EACA,IAAIwK,oBAAoBA,CAAA,EAAG;IACzB,OAAOvI,cAAc,CAAC,IAAI,EAAEM,UAAU,CAACQ,sBAAsB,CAAC;EAChE;EACA,IAAIyH,oBAAoBA,CAACxK,KAAK,EAAE;IAC9BoC,cAAc,CAAC,IAAI,EAAEG,UAAU,CAACQ,sBAAsB,EAAE/C,KAAK,CAAC;EAChE;EACA,IAAIyK,eAAeA,CAAA,EAAG;IACpB,OAAOxI,cAAc,CAAC,IAAI,EAAEM,UAAU,CAACO,aAAa,CAAC;EACvD;EACA,IAAI2H,eAAeA,CAACzK,KAAK,EAAE;IACzBoC,cAAc,CAAC,IAAI,EAAEG,UAAU,CAACO,aAAa,EAAE9C,KAAK,CAAC;EACvD;AACF;AACAQ,qBAAqB,GAAG,IAAIkK,OAAO,CAAC,CAAC;AACrCjK,aAAa,GAAG,IAAIiK,OAAO,CAAC,CAAC;AAC7BhK,gBAAgB,GAAG,IAAIgK,OAAO,CAAC,CAAC;AAChC/J,SAAS,GAAG,IAAI+J,OAAO,CAAC,CAAC;AACzB9J,iBAAiB,GAAG,IAAI8J,OAAO,CAAC,CAAC;AACjC7J,eAAe,GAAG,IAAIZ,OAAO,CAAC,CAAC;AAC/Ba,iBAAiB,GAAG,SAAAA,CAAS6J,aAAa,EAAE;EAC1C,MAAMjD,KAAK,GAAG,IAAI,CAACA,KAAK;EACxB,KAAK,MAAMkD,QAAQ,IAAID,aAAa,EAAE;IACpC,IAAIC,QAAQ,CAACf,IAAI,KAAK,WAAW,EAC/B;IACF,MAAMgB,YAAY,GAAGD,QAAQ,CAACC,YAAY;IAC1C,KAAK,MAAMC,IAAI,IAAID,YAAY,EAAE;MAC/B,IAAIC,IAAI,CAACC,IAAI,IAAI,OAAO,IAAIH,QAAQ,CAAC5G,MAAM,IAAI,IAAI,EACjD;MACF,IAAIgH,eAAe,GAAGJ,QAAQ,CAACI,eAAe,IAAIJ,QAAQ,CAACI,eAAe,CAACC,sBAAsB;MACjG,IAAI,CAACD,eAAe,IAAI,CAACtD,KAAK,EAAE;QAC9B,IAAI,CAACF,kBAAkB,CAACsD,IAAI,CAAC;MAC/B,CAAC,MAAM;QACL,IAAII,QAAQ,GAAGF,eAAe,CAACD,IAAI,KAAK,OAAO;QAC/C,OAAO,CAACC,eAAe,GAAGA,eAAe,CAACA,eAAe,MAAM,IAAI,EAAE;UACnE,IAAIA,eAAe,CAACD,IAAI,IAAI,OAAO,EACjCG,QAAQ,GAAG,KAAK;QACpB;QACA,IAAIA,QAAQ,EACV,IAAI,CAAC1D,kBAAkB,CAACsD,IAAI,CAAC;MACjC;IACF;IACA,IAAIpD,KAAK,EAAE;MACT,KAAK,MAAMoD,IAAI,IAAIF,QAAQ,CAACO,UAAU,EAAE;QACtC,IAAIL,IAAI,KAAKpD,KAAK,EAChB,IAAI,CAACD,kBAAkB,CAACC,KAAK,CAAC;MAClC;IACF;EACF;AACF,CAAC;AACD3G,gBAAgB,GAAG,IAAI2J,OAAO,CAAC,CAAC;AAChC1J,aAAa,GAAG,IAAI0J,OAAO,CAAC,CAAC;AAC7BzJ,kBAAkB,GAAG,IAAIhB,OAAO,CAAC,CAAC;AAClCiB,oBAAoB,GAAG,SAAAA,CAAS0I,KAAK,EAAE;EACrC,IAAIA,KAAK,CAACwB,WAAW,KAAK,OAAO,EAAE;IACjC,MAAMC,gBAAgB,GAAG,GAAG;IAC5B,IAAIzB,KAAK,CAACE,SAAS,GAAGnK,YAAY,CAAC,IAAI,EAAEa,qBAAqB,CAAC,GAAG6K,gBAAgB,EAChF;EACJ;EACA/K,eAAe,CAAC,IAAI,EAAEiB,UAAU,EAAEC,YAAY,CAAC,CAAC3B,IAAI,CAAC,IAAI,CAAC;EAC1DyL,YAAY,CAAC3L,YAAY,CAAC,IAAI,EAAEe,gBAAgB,CAAC,CAAC;EAClD,MAAM8J,oBAAoB,GAAG,IAAI,CAACvF,YAAY,CAC5C1C,UAAU,CAACQ,sBACb,CAAC;EACD,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC2E,KAAK,CAAC,CAAC1C,QAAQ,CAAC4E,KAAK,CAAC5F,MAAM,CAAC,IAAIwG,oBAAoB,EAAE;IACrElK,eAAe,CAAC,IAAI,EAAEmB,iBAAiB,EAAEC,mBAAmB,CAAC,CAAC7B,IAAI,CAAC,IAAI,CAAC;EAC1E;AACF,CAAC;AACDsB,gBAAgB,GAAG,IAAIlB,OAAO,CAAC,CAAC;AAChCmB,kBAAkB,GAAG,SAAAA,CAASwI,KAAK,EAAE;EACnC,IAAIA,KAAK,CAACwB,WAAW,KAAK,OAAO,EAAE;IACjC,MAAMG,eAAe,GAAG,CAAC,IAAI,CAACtG,YAAY,CAAC1C,UAAU,CAACO,aAAa,CAAC;IACpE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC4E,KAAK,CAAC,CAAC1C,QAAQ,CAAC4E,KAAK,CAAC5F,MAAM,CAAC,IAAIuH,eAAe,EAAE;MAChEjL,eAAe,CAAC,IAAI,EAAEe,YAAY,EAAEC,cAAc,CAAC,CAACzB,IAAI,CAAC,IAAI,CAAC;IAChE,CAAC,MAAM;MACLS,eAAe,CAAC,IAAI,EAAEmB,iBAAiB,EAAEC,mBAAmB,CAAC,CAAC7B,IAAI,CAAC,IAAI,CAAC;IAC1E;EACF,CAAC,MAAM,IAAI+J,KAAK,CAAC4B,YAAY,CAAC,CAAC,CAACC,IAAI,CACjCC,EAAE,IAAK,CAAC,mBAAmB,EAAE,yBAAyB,CAAC,CAAC1G,QAAQ,CAC/D0G,EAAE,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC/C,SAC3B,CACF,CAAC,EAAE;IACDrI,eAAe,CAAC,IAAI,EAAEmB,iBAAiB,EAAEC,mBAAmB,CAAC,CAAC7B,IAAI,CAAC,IAAI,CAAC;EAC1E;AACF,CAAC;AACDwB,YAAY,GAAG,IAAIpB,OAAO,CAAC,CAAC;AAC5BqB,cAAc,GAAG,SAAAA,CAAA,EAAW;EAC1B,IAAI3B,YAAY,CAAC,IAAI,EAAEgB,SAAS,CAAC,GAAG,CAAC,EACnC;EACF,IAAI,IAAI,CAACsE,YAAY,CAAC1C,UAAU,CAACO,aAAa,CAAC,EAC7C;EACF,IAAI,CAACoC,YAAY,CAAC3C,UAAU,CAACO,aAAa,EAAE,EAAE,CAAC;EAC/C,MAAMsC,GAAG,GAAG,IAAIzD,UAAU,CAAC0D,WAAW,CACpCxD,sBAAsB,CAAC8J,oBAAoB,EAC3C;IAAE/F,QAAQ,EAAE,IAAI;IAAED,OAAO,EAAE,IAAI;IAAEJ,MAAM,EAAE;EAAK,CAChD,CAAC;EACD,IAAI,CAACC,aAAa,CAACJ,GAAG,CAAC;AACzB,CAAC;AACD7D,UAAU,GAAG,IAAItB,OAAO,CAAC,CAAC;AAC1BuB,YAAY,GAAG,SAAAA,CAAA,EAAW;EACxB,IAAI,CAAC,IAAI,CAACyD,YAAY,CAAC1C,UAAU,CAACO,aAAa,CAAC,EAC9C;EACF,IAAI,CAACqC,eAAe,CAAC5C,UAAU,CAACO,aAAa,CAAC;EAC9C,MAAMsC,GAAG,GAAG,IAAIzD,UAAU,CAAC0D,WAAW,CACpCxD,sBAAsB,CAAC8J,oBAAoB,EAC3C;IAAE/F,QAAQ,EAAE,IAAI;IAAED,OAAO,EAAE,IAAI;IAAEJ,MAAM,EAAE;EAAM,CACjD,CAAC;EACD,IAAI,CAACC,aAAa,CAACJ,GAAG,CAAC;AACzB,CAAC;AACD3D,iBAAiB,GAAG,IAAIxB,OAAO,CAAC,CAAC;AACjCyB,mBAAmB,GAAG,SAAAA,CAAA,EAAW;EAC/BpB,eAAe,CAAC,IAAI,EAAEiB,UAAU,EAAEC,YAAY,CAAC,CAAC3B,IAAI,CAAC,IAAI,CAAC;EAC1DyL,YAAY,CAAC3L,YAAY,CAAC,IAAI,EAAEe,gBAAgB,CAAC,CAAC;EAClD,MAAM+H,QAAQ,GAAGtC,QAAQ,CAAC,IAAI,CAACsC,QAAQ,CAAC;EACxC,IAAIA,QAAQ,GAAG,CAAC,EACd;EACFrI,YAAY,CAAC,IAAI,EAAEM,gBAAgB,EAAE+F,UAAU,CAAC,MAAM;IACpDnG,eAAe,CAAC,IAAI,EAAEe,YAAY,EAAEC,cAAc,CAAC,CAACzB,IAAI,CAAC,IAAI,CAAC;EAChE,CAAC,EAAE4I,QAAQ,GAAG,GAAG,CAAC,CAAC;AACrB,CAAC;AACDrC,cAAc,CAAC7C,iBAAiB,GAAG;EAAEC,IAAI,EAAE;AAAO,CAAC;AACnD4C,cAAc,CAACpD,eAAe,GAAGA,eAAe;AAChD,IAAI,CAACrB,UAAU,CAACiH,cAAc,CAAC9I,GAAG,CAAC,iBAAiB,CAAC,EAAE;EACrD6B,UAAU,CAACiH,cAAc,CAACgD,MAAM,CAAC,iBAAiB,EAAExF,cAAc,CAAC;AACrE;AACA,IAAIyF,uBAAuB,GAAGzF,cAAc;AAC5C,SACE7D,UAAU,EACV6D,cAAc,EACdyF,uBAAuB,IAAIC,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}