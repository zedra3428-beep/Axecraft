{"ast":null,"code":"import { globalThis } from \"./utils/server-safe-globals.js\";\nimport { MediaChromeRange } from \"./media-chrome-range.js\";\nimport { MediaUIAttributes, MediaUIEvents } from \"./constants.js\";\nimport { t } from \"./utils/i18n.js\";\nimport { getBooleanAttr, getNumericAttr, getStringAttr, setBooleanAttr, setNumericAttr, setStringAttr } from \"./utils/element-utils.js\";\nconst DEFAULT_VOLUME = 1;\nconst toVolume = el => {\n  if (el.mediaMuted) return 0;\n  return el.mediaVolume;\n};\nconst formatAsPercentString = value => `${Math.round(value * 100)}%`;\nclass MediaVolumeRange extends MediaChromeRange {\n  static get observedAttributes() {\n    return [...super.observedAttributes, MediaUIAttributes.MEDIA_VOLUME, MediaUIAttributes.MEDIA_MUTED, MediaUIAttributes.MEDIA_VOLUME_UNAVAILABLE];\n  }\n  constructor() {\n    super();\n    this.range.addEventListener(\"input\", () => {\n      const detail = this.range.value;\n      const evt = new globalThis.CustomEvent(MediaUIEvents.MEDIA_VOLUME_REQUEST, {\n        composed: true,\n        bubbles: true,\n        detail\n      });\n      this.dispatchEvent(evt);\n    });\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.range.setAttribute(\"aria-label\", t(\"volume\"));\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === MediaUIAttributes.MEDIA_VOLUME || attrName === MediaUIAttributes.MEDIA_MUTED) {\n      this.range.valueAsNumber = toVolume(this);\n      this.range.setAttribute(\"aria-valuetext\", formatAsPercentString(this.range.valueAsNumber));\n      this.updateBar();\n    }\n  }\n  /**\n   *\n   */\n  get mediaVolume() {\n    return getNumericAttr(this, MediaUIAttributes.MEDIA_VOLUME, DEFAULT_VOLUME);\n  }\n  set mediaVolume(value) {\n    setNumericAttr(this, MediaUIAttributes.MEDIA_VOLUME, value);\n  }\n  /**\n   * Is the media currently muted\n   */\n  get mediaMuted() {\n    return getBooleanAttr(this, MediaUIAttributes.MEDIA_MUTED);\n  }\n  set mediaMuted(value) {\n    setBooleanAttr(this, MediaUIAttributes.MEDIA_MUTED, value);\n  }\n  /**\n   * The volume unavailability state\n   */\n  get mediaVolumeUnavailable() {\n    return getStringAttr(this, MediaUIAttributes.MEDIA_VOLUME_UNAVAILABLE);\n  }\n  set mediaVolumeUnavailable(value) {\n    setStringAttr(this, MediaUIAttributes.MEDIA_VOLUME_UNAVAILABLE, value);\n  }\n}\nif (!globalThis.customElements.get(\"media-volume-range\")) {\n  globalThis.customElements.define(\"media-volume-range\", MediaVolumeRange);\n}\nvar media_volume_range_default = MediaVolumeRange;\nexport { media_volume_range_default as default };","map":{"version":3,"names":["globalThis","MediaChromeRange","MediaUIAttributes","MediaUIEvents","t","getBooleanAttr","getNumericAttr","getStringAttr","setBooleanAttr","setNumericAttr","setStringAttr","DEFAULT_VOLUME","toVolume","el","mediaMuted","mediaVolume","formatAsPercentString","value","Math","round","MediaVolumeRange","observedAttributes","MEDIA_VOLUME","MEDIA_MUTED","MEDIA_VOLUME_UNAVAILABLE","constructor","range","addEventListener","detail","evt","CustomEvent","MEDIA_VOLUME_REQUEST","composed","bubbles","dispatchEvent","connectedCallback","setAttribute","attributeChangedCallback","attrName","oldValue","newValue","valueAsNumber","updateBar","mediaVolumeUnavailable","customElements","get","define","media_volume_range_default","default"],"sources":["/app/frontend/node_modules/media-chrome/dist/media-volume-range.js"],"sourcesContent":["import { globalThis } from \"./utils/server-safe-globals.js\";\nimport { MediaChromeRange } from \"./media-chrome-range.js\";\nimport { MediaUIAttributes, MediaUIEvents } from \"./constants.js\";\nimport { t } from \"./utils/i18n.js\";\nimport {\n  getBooleanAttr,\n  getNumericAttr,\n  getStringAttr,\n  setBooleanAttr,\n  setNumericAttr,\n  setStringAttr\n} from \"./utils/element-utils.js\";\nconst DEFAULT_VOLUME = 1;\nconst toVolume = (el) => {\n  if (el.mediaMuted)\n    return 0;\n  return el.mediaVolume;\n};\nconst formatAsPercentString = (value) => `${Math.round(value * 100)}%`;\nclass MediaVolumeRange extends MediaChromeRange {\n  static get observedAttributes() {\n    return [\n      ...super.observedAttributes,\n      MediaUIAttributes.MEDIA_VOLUME,\n      MediaUIAttributes.MEDIA_MUTED,\n      MediaUIAttributes.MEDIA_VOLUME_UNAVAILABLE\n    ];\n  }\n  constructor() {\n    super();\n    this.range.addEventListener(\"input\", () => {\n      const detail = this.range.value;\n      const evt = new globalThis.CustomEvent(\n        MediaUIEvents.MEDIA_VOLUME_REQUEST,\n        {\n          composed: true,\n          bubbles: true,\n          detail\n        }\n      );\n      this.dispatchEvent(evt);\n    });\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.range.setAttribute(\"aria-label\", t(\"volume\"));\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === MediaUIAttributes.MEDIA_VOLUME || attrName === MediaUIAttributes.MEDIA_MUTED) {\n      this.range.valueAsNumber = toVolume(this);\n      this.range.setAttribute(\n        \"aria-valuetext\",\n        formatAsPercentString(this.range.valueAsNumber)\n      );\n      this.updateBar();\n    }\n  }\n  /**\n   *\n   */\n  get mediaVolume() {\n    return getNumericAttr(this, MediaUIAttributes.MEDIA_VOLUME, DEFAULT_VOLUME);\n  }\n  set mediaVolume(value) {\n    setNumericAttr(this, MediaUIAttributes.MEDIA_VOLUME, value);\n  }\n  /**\n   * Is the media currently muted\n   */\n  get mediaMuted() {\n    return getBooleanAttr(this, MediaUIAttributes.MEDIA_MUTED);\n  }\n  set mediaMuted(value) {\n    setBooleanAttr(this, MediaUIAttributes.MEDIA_MUTED, value);\n  }\n  /**\n   * The volume unavailability state\n   */\n  get mediaVolumeUnavailable() {\n    return getStringAttr(this, MediaUIAttributes.MEDIA_VOLUME_UNAVAILABLE);\n  }\n  set mediaVolumeUnavailable(value) {\n    setStringAttr(this, MediaUIAttributes.MEDIA_VOLUME_UNAVAILABLE, value);\n  }\n}\nif (!globalThis.customElements.get(\"media-volume-range\")) {\n  globalThis.customElements.define(\"media-volume-range\", MediaVolumeRange);\n}\nvar media_volume_range_default = MediaVolumeRange;\nexport {\n  media_volume_range_default as default\n};\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,gCAAgC;AAC3D,SAASC,gBAAgB,QAAQ,yBAAyB;AAC1D,SAASC,iBAAiB,EAAEC,aAAa,QAAQ,gBAAgB;AACjE,SAASC,CAAC,QAAQ,iBAAiB;AACnC,SACEC,cAAc,EACdC,cAAc,EACdC,aAAa,EACbC,cAAc,EACdC,cAAc,EACdC,aAAa,QACR,0BAA0B;AACjC,MAAMC,cAAc,GAAG,CAAC;AACxB,MAAMC,QAAQ,GAAIC,EAAE,IAAK;EACvB,IAAIA,EAAE,CAACC,UAAU,EACf,OAAO,CAAC;EACV,OAAOD,EAAE,CAACE,WAAW;AACvB,CAAC;AACD,MAAMC,qBAAqB,GAAIC,KAAK,IAAK,GAAGC,IAAI,CAACC,KAAK,CAACF,KAAK,GAAG,GAAG,CAAC,GAAG;AACtE,MAAMG,gBAAgB,SAASnB,gBAAgB,CAAC;EAC9C,WAAWoB,kBAAkBA,CAAA,EAAG;IAC9B,OAAO,CACL,GAAG,KAAK,CAACA,kBAAkB,EAC3BnB,iBAAiB,CAACoB,YAAY,EAC9BpB,iBAAiB,CAACqB,WAAW,EAC7BrB,iBAAiB,CAACsB,wBAAwB,CAC3C;EACH;EACAC,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,CAAC;IACP,IAAI,CAACC,KAAK,CAACC,gBAAgB,CAAC,OAAO,EAAE,MAAM;MACzC,MAAMC,MAAM,GAAG,IAAI,CAACF,KAAK,CAACT,KAAK;MAC/B,MAAMY,GAAG,GAAG,IAAI7B,UAAU,CAAC8B,WAAW,CACpC3B,aAAa,CAAC4B,oBAAoB,EAClC;QACEC,QAAQ,EAAE,IAAI;QACdC,OAAO,EAAE,IAAI;QACbL;MACF,CACF,CAAC;MACD,IAAI,CAACM,aAAa,CAACL,GAAG,CAAC;IACzB,CAAC,CAAC;EACJ;EACAM,iBAAiBA,CAAA,EAAG;IAClB,KAAK,CAACA,iBAAiB,CAAC,CAAC;IACzB,IAAI,CAACT,KAAK,CAACU,YAAY,CAAC,YAAY,EAAEhC,CAAC,CAAC,QAAQ,CAAC,CAAC;EACpD;EACAiC,wBAAwBA,CAACC,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;IACrD,KAAK,CAACH,wBAAwB,CAACC,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,CAAC;IAC5D,IAAIF,QAAQ,KAAKpC,iBAAiB,CAACoB,YAAY,IAAIgB,QAAQ,KAAKpC,iBAAiB,CAACqB,WAAW,EAAE;MAC7F,IAAI,CAACG,KAAK,CAACe,aAAa,GAAG7B,QAAQ,CAAC,IAAI,CAAC;MACzC,IAAI,CAACc,KAAK,CAACU,YAAY,CACrB,gBAAgB,EAChBpB,qBAAqB,CAAC,IAAI,CAACU,KAAK,CAACe,aAAa,CAChD,CAAC;MACD,IAAI,CAACC,SAAS,CAAC,CAAC;IAClB;EACF;EACA;AACF;AACA;EACE,IAAI3B,WAAWA,CAAA,EAAG;IAChB,OAAOT,cAAc,CAAC,IAAI,EAAEJ,iBAAiB,CAACoB,YAAY,EAAEX,cAAc,CAAC;EAC7E;EACA,IAAII,WAAWA,CAACE,KAAK,EAAE;IACrBR,cAAc,CAAC,IAAI,EAAEP,iBAAiB,CAACoB,YAAY,EAAEL,KAAK,CAAC;EAC7D;EACA;AACF;AACA;EACE,IAAIH,UAAUA,CAAA,EAAG;IACf,OAAOT,cAAc,CAAC,IAAI,EAAEH,iBAAiB,CAACqB,WAAW,CAAC;EAC5D;EACA,IAAIT,UAAUA,CAACG,KAAK,EAAE;IACpBT,cAAc,CAAC,IAAI,EAAEN,iBAAiB,CAACqB,WAAW,EAAEN,KAAK,CAAC;EAC5D;EACA;AACF;AACA;EACE,IAAI0B,sBAAsBA,CAAA,EAAG;IAC3B,OAAOpC,aAAa,CAAC,IAAI,EAAEL,iBAAiB,CAACsB,wBAAwB,CAAC;EACxE;EACA,IAAImB,sBAAsBA,CAAC1B,KAAK,EAAE;IAChCP,aAAa,CAAC,IAAI,EAAER,iBAAiB,CAACsB,wBAAwB,EAAEP,KAAK,CAAC;EACxE;AACF;AACA,IAAI,CAACjB,UAAU,CAAC4C,cAAc,CAACC,GAAG,CAAC,oBAAoB,CAAC,EAAE;EACxD7C,UAAU,CAAC4C,cAAc,CAACE,MAAM,CAAC,oBAAoB,EAAE1B,gBAAgB,CAAC;AAC1E;AACA,IAAI2B,0BAA0B,GAAG3B,gBAAgB;AACjD,SACE2B,0BAA0B,IAAIC,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}