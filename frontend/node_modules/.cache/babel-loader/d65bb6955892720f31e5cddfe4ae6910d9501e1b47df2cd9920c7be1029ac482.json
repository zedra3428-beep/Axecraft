{"ast":null,"code":"var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _mediaController;\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport { MediaUIAttributes, MediaStateReceiverAttributes } from \"./constants.js\";\nimport { getOrInsertCSSRule, getStringAttr, namedNodeMapToObject, setStringAttr } from \"./utils/element-utils.js\";\nfunction getTemplateHTML(_attrs) {\n  return /*html*/\"\\n    <style>\\n      :host {\\n        box-sizing: border-box;\\n        display: var(--media-control-display, var(--media-preview-thumbnail-display, inline-block));\\n        overflow: hidden;\\n      }\\n\\n      img {\\n        display: none;\\n        position: relative;\\n      }\\n    </style>\\n    <img crossorigin loading=\\\"eager\\\" decoding=\\\"async\\\">\\n  \";\n}\nclass MediaPreviewThumbnail extends globalThis.HTMLElement {\n  constructor() {\n    super();\n    __privateAdd(this, _mediaController, void 0);\n    if (!this.shadowRoot) {\n      this.attachShadow(this.constructor.shadowRootOptions);\n      const attrs = namedNodeMapToObject(this.attributes);\n      this.shadowRoot.innerHTML = this.constructor.getTemplateHTML(attrs);\n    }\n  }\n  static get observedAttributes() {\n    return [MediaStateReceiverAttributes.MEDIA_CONTROLLER, MediaUIAttributes.MEDIA_PREVIEW_IMAGE, MediaUIAttributes.MEDIA_PREVIEW_COORDS];\n  }\n  connectedCallback() {\n    var _a, _b, _c;\n    const mediaControllerId = this.getAttribute(MediaStateReceiverAttributes.MEDIA_CONTROLLER);\n    if (mediaControllerId) {\n      __privateSet(this, _mediaController,\n      // @ts-ignore\n      (_a = this.getRootNode()) == null ? void 0 : _a.getElementById(mediaControllerId));\n      (_c = (_b = __privateGet(this, _mediaController)) == null ? void 0 : _b.associateElement) == null ? void 0 : _c.call(_b, this);\n    }\n  }\n  disconnectedCallback() {\n    var _a, _b;\n    (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n    __privateSet(this, _mediaController, null);\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    var _a, _b, _c, _d, _e;\n    if ([MediaUIAttributes.MEDIA_PREVIEW_IMAGE, MediaUIAttributes.MEDIA_PREVIEW_COORDS].includes(attrName)) {\n      this.update();\n    }\n    if (attrName === MediaStateReceiverAttributes.MEDIA_CONTROLLER) {\n      if (oldValue) {\n        (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n        __privateSet(this, _mediaController, null);\n      }\n      if (newValue && this.isConnected) {\n        __privateSet(this, _mediaController, (_c = this.getRootNode()) == null ? void 0 : _c.getElementById(newValue));\n        (_e = (_d = __privateGet(this, _mediaController)) == null ? void 0 : _d.associateElement) == null ? void 0 : _e.call(_d, this);\n      }\n    }\n  }\n  /**\n   * @type {string | undefined} The url of the preview image\n   */\n  get mediaPreviewImage() {\n    return getStringAttr(this, MediaUIAttributes.MEDIA_PREVIEW_IMAGE);\n  }\n  set mediaPreviewImage(value) {\n    setStringAttr(this, MediaUIAttributes.MEDIA_PREVIEW_IMAGE, value);\n  }\n  /**\n   * @type {Array<number> | undefined} Fixed length array [x, y, width, height] or undefined\n   */\n  get mediaPreviewCoords() {\n    const attrVal = this.getAttribute(MediaUIAttributes.MEDIA_PREVIEW_COORDS);\n    if (!attrVal) return void 0;\n    return attrVal.split(/\\s+/).map(coord => +coord);\n  }\n  set mediaPreviewCoords(value) {\n    if (!value) {\n      this.removeAttribute(MediaUIAttributes.MEDIA_PREVIEW_COORDS);\n      return;\n    }\n    this.setAttribute(MediaUIAttributes.MEDIA_PREVIEW_COORDS, value.join(\" \"));\n  }\n  update() {\n    const coords = this.mediaPreviewCoords;\n    const previewImage = this.mediaPreviewImage;\n    if (!(coords && previewImage)) return;\n    const [x, y, w, h] = coords;\n    const src = previewImage.split(\"#\")[0];\n    const computedStyle = getComputedStyle(this);\n    const {\n      maxWidth,\n      maxHeight,\n      minWidth,\n      minHeight\n    } = computedStyle;\n    const maxRatio = Math.min(parseInt(maxWidth) / w, parseInt(maxHeight) / h);\n    const minRatio = Math.max(parseInt(minWidth) / w, parseInt(minHeight) / h);\n    const isScalingDown = maxRatio < 1;\n    const scale = isScalingDown ? maxRatio : minRatio > 1 ? minRatio : 1;\n    const {\n      style\n    } = getOrInsertCSSRule(this.shadowRoot, \":host\");\n    const imgStyle = getOrInsertCSSRule(this.shadowRoot, \"img\").style;\n    const img = this.shadowRoot.querySelector(\"img\");\n    const extremum = isScalingDown ? \"min\" : \"max\";\n    style.setProperty(\"\".concat(extremum, \"-width\"), \"initial\", \"important\");\n    style.setProperty(\"\".concat(extremum, \"-height\"), \"initial\", \"important\");\n    style.width = \"\".concat(w * scale, \"px\");\n    style.height = \"\".concat(h * scale, \"px\");\n    const resize = () => {\n      imgStyle.width = \"\".concat(this.imgWidth * scale, \"px\");\n      imgStyle.height = \"\".concat(this.imgHeight * scale, \"px\");\n      imgStyle.display = \"block\";\n    };\n    if (img.src !== src) {\n      img.onload = () => {\n        this.imgWidth = img.naturalWidth;\n        this.imgHeight = img.naturalHeight;\n        resize();\n      };\n      img.src = src;\n      resize();\n    }\n    resize();\n    imgStyle.transform = \"translate(-\".concat(x * scale, \"px, -\").concat(y * scale, \"px)\");\n  }\n}\n_mediaController = new WeakMap();\nMediaPreviewThumbnail.shadowRootOptions = {\n  mode: \"open\"\n};\nMediaPreviewThumbnail.getTemplateHTML = getTemplateHTML;\nif (!globalThis.customElements.get(\"media-preview-thumbnail\")) {\n  globalThis.customElements.define(\"media-preview-thumbnail\", MediaPreviewThumbnail);\n}\nvar media_preview_thumbnail_default = MediaPreviewThumbnail;\nexport { media_preview_thumbnail_default as default };","map":{"version":3,"names":["__accessCheck","obj","member","msg","has","TypeError","__privateGet","getter","call","get","__privateAdd","value","WeakSet","add","set","__privateSet","setter","_mediaController","globalThis","MediaUIAttributes","MediaStateReceiverAttributes","getOrInsertCSSRule","getStringAttr","namedNodeMapToObject","setStringAttr","getTemplateHTML","_attrs","MediaPreviewThumbnail","HTMLElement","constructor","shadowRoot","attachShadow","shadowRootOptions","attrs","attributes","innerHTML","observedAttributes","MEDIA_CONTROLLER","MEDIA_PREVIEW_IMAGE","MEDIA_PREVIEW_COORDS","connectedCallback","_a","_b","_c","mediaControllerId","getAttribute","getRootNode","getElementById","associateElement","disconnectedCallback","unassociateElement","attributeChangedCallback","attrName","oldValue","newValue","_d","_e","includes","update","isConnected","mediaPreviewImage","mediaPreviewCoords","attrVal","split","map","coord","removeAttribute","setAttribute","join","coords","previewImage","x","y","w","h","src","computedStyle","getComputedStyle","maxWidth","maxHeight","minWidth","minHeight","maxRatio","Math","min","parseInt","minRatio","max","isScalingDown","scale","style","imgStyle","img","querySelector","extremum","setProperty","concat","width","height","resize","imgWidth","imgHeight","display","onload","naturalWidth","naturalHeight","transform","WeakMap","mode","customElements","define","media_preview_thumbnail_default","default"],"sources":["/app/frontend/node_modules/media-chrome/dist/media-preview-thumbnail.js"],"sourcesContent":["var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _mediaController;\nimport { globalThis } from \"./utils/server-safe-globals.js\";\nimport {\n  MediaUIAttributes,\n  MediaStateReceiverAttributes\n} from \"./constants.js\";\nimport {\n  getOrInsertCSSRule,\n  getStringAttr,\n  namedNodeMapToObject,\n  setStringAttr\n} from \"./utils/element-utils.js\";\nfunction getTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host {\n        box-sizing: border-box;\n        display: var(--media-control-display, var(--media-preview-thumbnail-display, inline-block));\n        overflow: hidden;\n      }\n\n      img {\n        display: none;\n        position: relative;\n      }\n    </style>\n    <img crossorigin loading=\"eager\" decoding=\"async\">\n  `\n  );\n}\nclass MediaPreviewThumbnail extends globalThis.HTMLElement {\n  constructor() {\n    super();\n    __privateAdd(this, _mediaController, void 0);\n    if (!this.shadowRoot) {\n      this.attachShadow(this.constructor.shadowRootOptions);\n      const attrs = namedNodeMapToObject(this.attributes);\n      this.shadowRoot.innerHTML = this.constructor.getTemplateHTML(attrs);\n    }\n  }\n  static get observedAttributes() {\n    return [\n      MediaStateReceiverAttributes.MEDIA_CONTROLLER,\n      MediaUIAttributes.MEDIA_PREVIEW_IMAGE,\n      MediaUIAttributes.MEDIA_PREVIEW_COORDS\n    ];\n  }\n  connectedCallback() {\n    var _a, _b, _c;\n    const mediaControllerId = this.getAttribute(\n      MediaStateReceiverAttributes.MEDIA_CONTROLLER\n    );\n    if (mediaControllerId) {\n      __privateSet(\n        this,\n        _mediaController,\n        // @ts-ignore\n        (_a = this.getRootNode()) == null ? void 0 : _a.getElementById(mediaControllerId)\n      );\n      (_c = (_b = __privateGet(this, _mediaController)) == null ? void 0 : _b.associateElement) == null ? void 0 : _c.call(_b, this);\n    }\n  }\n  disconnectedCallback() {\n    var _a, _b;\n    (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n    __privateSet(this, _mediaController, null);\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    var _a, _b, _c, _d, _e;\n    if ([\n      MediaUIAttributes.MEDIA_PREVIEW_IMAGE,\n      MediaUIAttributes.MEDIA_PREVIEW_COORDS\n    ].includes(attrName)) {\n      this.update();\n    }\n    if (attrName === MediaStateReceiverAttributes.MEDIA_CONTROLLER) {\n      if (oldValue) {\n        (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n        __privateSet(this, _mediaController, null);\n      }\n      if (newValue && this.isConnected) {\n        __privateSet(this, _mediaController, (_c = this.getRootNode()) == null ? void 0 : _c.getElementById(newValue));\n        (_e = (_d = __privateGet(this, _mediaController)) == null ? void 0 : _d.associateElement) == null ? void 0 : _e.call(_d, this);\n      }\n    }\n  }\n  /**\n   * @type {string | undefined} The url of the preview image\n   */\n  get mediaPreviewImage() {\n    return getStringAttr(this, MediaUIAttributes.MEDIA_PREVIEW_IMAGE);\n  }\n  set mediaPreviewImage(value) {\n    setStringAttr(this, MediaUIAttributes.MEDIA_PREVIEW_IMAGE, value);\n  }\n  /**\n   * @type {Array<number> | undefined} Fixed length array [x, y, width, height] or undefined\n   */\n  get mediaPreviewCoords() {\n    const attrVal = this.getAttribute(MediaUIAttributes.MEDIA_PREVIEW_COORDS);\n    if (!attrVal)\n      return void 0;\n    return attrVal.split(/\\s+/).map((coord) => +coord);\n  }\n  set mediaPreviewCoords(value) {\n    if (!value) {\n      this.removeAttribute(MediaUIAttributes.MEDIA_PREVIEW_COORDS);\n      return;\n    }\n    this.setAttribute(MediaUIAttributes.MEDIA_PREVIEW_COORDS, value.join(\" \"));\n  }\n  update() {\n    const coords = this.mediaPreviewCoords;\n    const previewImage = this.mediaPreviewImage;\n    if (!(coords && previewImage))\n      return;\n    const [x, y, w, h] = coords;\n    const src = previewImage.split(\"#\")[0];\n    const computedStyle = getComputedStyle(this);\n    const { maxWidth, maxHeight, minWidth, minHeight } = computedStyle;\n    const maxRatio = Math.min(parseInt(maxWidth) / w, parseInt(maxHeight) / h);\n    const minRatio = Math.max(parseInt(minWidth) / w, parseInt(minHeight) / h);\n    const isScalingDown = maxRatio < 1;\n    const scale = isScalingDown ? maxRatio : minRatio > 1 ? minRatio : 1;\n    const { style } = getOrInsertCSSRule(this.shadowRoot, \":host\");\n    const imgStyle = getOrInsertCSSRule(this.shadowRoot, \"img\").style;\n    const img = this.shadowRoot.querySelector(\"img\");\n    const extremum = isScalingDown ? \"min\" : \"max\";\n    style.setProperty(`${extremum}-width`, \"initial\", \"important\");\n    style.setProperty(`${extremum}-height`, \"initial\", \"important\");\n    style.width = `${w * scale}px`;\n    style.height = `${h * scale}px`;\n    const resize = () => {\n      imgStyle.width = `${this.imgWidth * scale}px`;\n      imgStyle.height = `${this.imgHeight * scale}px`;\n      imgStyle.display = \"block\";\n    };\n    if (img.src !== src) {\n      img.onload = () => {\n        this.imgWidth = img.naturalWidth;\n        this.imgHeight = img.naturalHeight;\n        resize();\n      };\n      img.src = src;\n      resize();\n    }\n    resize();\n    imgStyle.transform = `translate(-${x * scale}px, -${y * scale}px)`;\n  }\n}\n_mediaController = new WeakMap();\nMediaPreviewThumbnail.shadowRootOptions = { mode: \"open\" };\nMediaPreviewThumbnail.getTemplateHTML = getTemplateHTML;\nif (!globalThis.customElements.get(\"media-preview-thumbnail\")) {\n  globalThis.customElements.define(\n    \"media-preview-thumbnail\",\n    MediaPreviewThumbnail\n  );\n}\nvar media_preview_thumbnail_default = MediaPreviewThumbnail;\nexport {\n  media_preview_thumbnail_default as default\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}