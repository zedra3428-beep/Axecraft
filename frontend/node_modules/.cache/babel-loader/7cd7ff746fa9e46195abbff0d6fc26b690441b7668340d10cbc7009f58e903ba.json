{"ast":null,"code":"var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _hotKeys, _fullscreenElement, _mediaStore, _keyboardShortcutsDialog, _mediaStateCallback, _mediaStoreUnsubscribe, _mediaStateEventHandler, _subtitlesState, _setupDefaultStore, setupDefaultStore_fn, _keyUpHandler, keyUpHandler_fn, _keyDownHandler, keyDownHandler_fn, _showKeyboardShortcutsDialog, showKeyboardShortcutsDialog_fn;\nimport { MediaContainer } from \"./media-container.js\";\nimport { document, globalThis } from \"./utils/server-safe-globals.js\";\nimport { AttributeTokenList } from \"./utils/attribute-token-list.js\";\nimport { delay, stringifyRenditionList, stringifyAudioTrackList } from \"./utils/utils.js\";\nimport { stringifyTextTrackList } from \"./utils/captions.js\";\nimport { MediaUIEvents, MediaUIAttributes, MediaStateReceiverAttributes, AttributeToStateChangeEventMap, MediaUIProps } from \"./constants.js\";\nimport { getBooleanAttr, getNumericAttr, getStringAttr, setBooleanAttr, setNumericAttr, setStringAttr } from \"./utils/element-utils.js\";\nimport { createMediaStore } from \"./media-store/media-store.js\";\nimport { setLanguage } from \"./utils/i18n.js\";\nconst ButtonPressedKeys = [\"ArrowLeft\", \"ArrowRight\", \"ArrowUp\", \"ArrowDown\", \"Enter\", \" \", \"f\", \"m\", \"k\", \"c\", \"l\", \"j\", \">\", \"<\", \"p\"];\nconst DEFAULT_SEEK_OFFSET = 10;\nconst DEFAULT_VOLUME_STEP = 0.025;\nconst DEFAULT_PLAYBACK_RATE_STEP = 0.25;\nconst MIN_PLAYBACK_RATE = 0.25;\nconst MAX_PLAYBACK_RATE = 2;\nconst Attributes = {\n  DEFAULT_SUBTITLES: \"defaultsubtitles\",\n  DEFAULT_STREAM_TYPE: \"defaultstreamtype\",\n  DEFAULT_DURATION: \"defaultduration\",\n  FULLSCREEN_ELEMENT: \"fullscreenelement\",\n  HOTKEYS: \"hotkeys\",\n  KEYBOARD_BACKWARD_SEEK_OFFSET: \"keyboardbackwardseekoffset\",\n  KEYBOARD_FORWARD_SEEK_OFFSET: \"keyboardforwardseekoffset\",\n  KEYBOARD_DOWN_VOLUME_STEP: \"keyboarddownvolumestep\",\n  KEYBOARD_UP_VOLUME_STEP: \"keyboardupvolumestep\",\n  KEYS_USED: \"keysused\",\n  LANG: \"lang\",\n  LOOP: \"loop\",\n  LIVE_EDGE_OFFSET: \"liveedgeoffset\",\n  NO_AUTO_SEEK_TO_LIVE: \"noautoseektolive\",\n  NO_DEFAULT_STORE: \"nodefaultstore\",\n  NO_HOTKEYS: \"nohotkeys\",\n  NO_MUTED_PREF: \"nomutedpref\",\n  NO_SUBTITLES_LANG_PREF: \"nosubtitleslangpref\",\n  NO_VOLUME_PREF: \"novolumepref\",\n  SEEK_TO_LIVE_OFFSET: \"seektoliveoffset\"\n};\nclass MediaController extends MediaContainer {\n  constructor() {\n    super();\n    __privateAdd(this, _setupDefaultStore);\n    __privateAdd(this, _keyUpHandler);\n    __privateAdd(this, _keyDownHandler);\n    __privateAdd(this, _showKeyboardShortcutsDialog);\n    this.mediaStateReceivers = [];\n    this.associatedElementSubscriptions = /* @__PURE__ */new Map();\n    __privateAdd(this, _hotKeys, new AttributeTokenList(this, Attributes.HOTKEYS));\n    __privateAdd(this, _fullscreenElement, void 0);\n    __privateAdd(this, _mediaStore, void 0);\n    __privateAdd(this, _keyboardShortcutsDialog, null);\n    __privateAdd(this, _mediaStateCallback, void 0);\n    __privateAdd(this, _mediaStoreUnsubscribe, void 0);\n    __privateAdd(this, _mediaStateEventHandler, event => {\n      var _a;\n      (_a = __privateGet(this, _mediaStore)) == null ? void 0 : _a.dispatch(event);\n    });\n    __privateAdd(this, _subtitlesState, void 0);\n    this.associateElement(this);\n    let prevState = {};\n    __privateSet(this, _mediaStateCallback, nextState => {\n      Object.entries(nextState).forEach(([stateName, stateValue]) => {\n        if (stateName in prevState && prevState[stateName] === stateValue) return;\n        this.propagateMediaState(stateName, stateValue);\n        const attrName = stateName.toLowerCase();\n        const evt = new globalThis.CustomEvent(AttributeToStateChangeEventMap[attrName], {\n          composed: true,\n          detail: stateValue\n        });\n        this.dispatchEvent(evt);\n      });\n      prevState = nextState;\n    });\n    this.hasAttribute(Attributes.NO_HOTKEYS) ? this.disableHotkeys() : this.enableHotkeys();\n  }\n  static get observedAttributes() {\n    return super.observedAttributes.concat(Attributes.NO_HOTKEYS, Attributes.HOTKEYS, Attributes.DEFAULT_STREAM_TYPE, Attributes.DEFAULT_SUBTITLES, Attributes.DEFAULT_DURATION, Attributes.NO_MUTED_PREF, Attributes.NO_VOLUME_PREF, Attributes.LANG, Attributes.LOOP);\n  }\n  get mediaStore() {\n    return __privateGet(this, _mediaStore);\n  }\n  set mediaStore(value) {\n    var _a, _b;\n    if (__privateGet(this, _mediaStore)) {\n      (_a = __privateGet(this, _mediaStoreUnsubscribe)) == null ? void 0 : _a.call(this);\n      __privateSet(this, _mediaStoreUnsubscribe, void 0);\n    }\n    __privateSet(this, _mediaStore, value);\n    if (!__privateGet(this, _mediaStore) && !this.hasAttribute(Attributes.NO_DEFAULT_STORE)) {\n      __privateMethod(this, _setupDefaultStore, setupDefaultStore_fn).call(this);\n      return;\n    }\n    __privateSet(this, _mediaStoreUnsubscribe, (_b = __privateGet(this, _mediaStore)) == null ? void 0 : _b.subscribe(__privateGet(this, _mediaStateCallback)));\n  }\n  get fullscreenElement() {\n    var _a;\n    return (_a = __privateGet(this, _fullscreenElement)) != null ? _a : this;\n  }\n  set fullscreenElement(element) {\n    var _a;\n    if (this.hasAttribute(Attributes.FULLSCREEN_ELEMENT)) {\n      this.removeAttribute(Attributes.FULLSCREEN_ELEMENT);\n    }\n    __privateSet(this, _fullscreenElement, element);\n    (_a = __privateGet(this, _mediaStore)) == null ? void 0 : _a.dispatch({\n      type: \"fullscreenelementchangerequest\",\n      detail: this.fullscreenElement\n    });\n  }\n  get defaultSubtitles() {\n    return getBooleanAttr(this, Attributes.DEFAULT_SUBTITLES);\n  }\n  set defaultSubtitles(value) {\n    setBooleanAttr(this, Attributes.DEFAULT_SUBTITLES, value);\n  }\n  get defaultStreamType() {\n    return getStringAttr(this, Attributes.DEFAULT_STREAM_TYPE);\n  }\n  set defaultStreamType(value) {\n    setStringAttr(this, Attributes.DEFAULT_STREAM_TYPE, value);\n  }\n  get defaultDuration() {\n    return getNumericAttr(this, Attributes.DEFAULT_DURATION);\n  }\n  set defaultDuration(value) {\n    setNumericAttr(this, Attributes.DEFAULT_DURATION, value);\n  }\n  get noHotkeys() {\n    return getBooleanAttr(this, Attributes.NO_HOTKEYS);\n  }\n  set noHotkeys(value) {\n    setBooleanAttr(this, Attributes.NO_HOTKEYS, value);\n  }\n  get keysUsed() {\n    return getStringAttr(this, Attributes.KEYS_USED);\n  }\n  set keysUsed(value) {\n    setStringAttr(this, Attributes.KEYS_USED, value);\n  }\n  get liveEdgeOffset() {\n    return getNumericAttr(this, Attributes.LIVE_EDGE_OFFSET);\n  }\n  set liveEdgeOffset(value) {\n    setNumericAttr(this, Attributes.LIVE_EDGE_OFFSET, value);\n  }\n  get noAutoSeekToLive() {\n    return getBooleanAttr(this, Attributes.NO_AUTO_SEEK_TO_LIVE);\n  }\n  set noAutoSeekToLive(value) {\n    setBooleanAttr(this, Attributes.NO_AUTO_SEEK_TO_LIVE, value);\n  }\n  get noVolumePref() {\n    return getBooleanAttr(this, Attributes.NO_VOLUME_PREF);\n  }\n  set noVolumePref(value) {\n    setBooleanAttr(this, Attributes.NO_VOLUME_PREF, value);\n  }\n  get noMutedPref() {\n    return getBooleanAttr(this, Attributes.NO_MUTED_PREF);\n  }\n  set noMutedPref(value) {\n    setBooleanAttr(this, Attributes.NO_MUTED_PREF, value);\n  }\n  get noSubtitlesLangPref() {\n    return getBooleanAttr(this, Attributes.NO_SUBTITLES_LANG_PREF);\n  }\n  set noSubtitlesLangPref(value) {\n    setBooleanAttr(this, Attributes.NO_SUBTITLES_LANG_PREF, value);\n  }\n  get noDefaultStore() {\n    return getBooleanAttr(this, Attributes.NO_DEFAULT_STORE);\n  }\n  set noDefaultStore(value) {\n    setBooleanAttr(this, Attributes.NO_DEFAULT_STORE, value);\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l;\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === Attributes.NO_HOTKEYS) {\n      if (newValue !== oldValue && newValue === \"\") {\n        if (this.hasAttribute(Attributes.HOTKEYS)) {\n          console.warn(\"Media Chrome: Both `hotkeys` and `nohotkeys` have been set. All hotkeys will be disabled.\");\n        }\n        this.disableHotkeys();\n      } else if (newValue !== oldValue && newValue === null) {\n        this.enableHotkeys();\n      }\n    } else if (attrName === Attributes.HOTKEYS) {\n      __privateGet(this, _hotKeys).value = newValue;\n    } else if (attrName === Attributes.DEFAULT_SUBTITLES && newValue !== oldValue) {\n      (_a = __privateGet(this, _mediaStore)) == null ? void 0 : _a.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          defaultSubtitles: this.hasAttribute(Attributes.DEFAULT_SUBTITLES)\n        }\n      });\n    } else if (attrName === Attributes.DEFAULT_STREAM_TYPE) {\n      (_c = __privateGet(this, _mediaStore)) == null ? void 0 : _c.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          defaultStreamType: (_b = this.getAttribute(Attributes.DEFAULT_STREAM_TYPE)) != null ? _b : void 0\n        }\n      });\n    } else if (attrName === Attributes.LIVE_EDGE_OFFSET) {\n      (_d = __privateGet(this, _mediaStore)) == null ? void 0 : _d.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          liveEdgeOffset: this.hasAttribute(Attributes.LIVE_EDGE_OFFSET) ? +this.getAttribute(Attributes.LIVE_EDGE_OFFSET) : void 0,\n          seekToLiveOffset: !this.hasAttribute(Attributes.SEEK_TO_LIVE_OFFSET) ? +this.getAttribute(Attributes.LIVE_EDGE_OFFSET) : void 0\n        }\n      });\n    } else if (attrName === Attributes.SEEK_TO_LIVE_OFFSET) {\n      (_e = __privateGet(this, _mediaStore)) == null ? void 0 : _e.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          seekToLiveOffset: this.hasAttribute(Attributes.SEEK_TO_LIVE_OFFSET) ? +this.getAttribute(Attributes.SEEK_TO_LIVE_OFFSET) : void 0\n        }\n      });\n    } else if (attrName === Attributes.NO_AUTO_SEEK_TO_LIVE) {\n      (_f = __privateGet(this, _mediaStore)) == null ? void 0 : _f.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          noAutoSeekToLive: this.hasAttribute(Attributes.NO_AUTO_SEEK_TO_LIVE)\n        }\n      });\n    } else if (attrName === Attributes.FULLSCREEN_ELEMENT) {\n      const el = newValue ? (_g = this.getRootNode()) == null ? void 0 : _g.getElementById(newValue) : void 0;\n      __privateSet(this, _fullscreenElement, el);\n      (_h = __privateGet(this, _mediaStore)) == null ? void 0 : _h.dispatch({\n        type: \"fullscreenelementchangerequest\",\n        detail: this.fullscreenElement\n      });\n    } else if (attrName === Attributes.LANG && newValue !== oldValue) {\n      setLanguage(newValue);\n      (_i = __privateGet(this, _mediaStore)) == null ? void 0 : _i.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          mediaLang: newValue\n        }\n      });\n    } else if (attrName === Attributes.LOOP && newValue !== oldValue) {\n      (_j = __privateGet(this, _mediaStore)) == null ? void 0 : _j.dispatch({\n        type: MediaUIEvents.MEDIA_LOOP_REQUEST,\n        detail: newValue != null\n      });\n    } else if (attrName === Attributes.NO_VOLUME_PREF && newValue !== oldValue) {\n      (_k = __privateGet(this, _mediaStore)) == null ? void 0 : _k.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          noVolumePref: this.hasAttribute(Attributes.NO_VOLUME_PREF)\n        }\n      });\n    } else if (attrName === Attributes.NO_MUTED_PREF && newValue !== oldValue) {\n      (_l = __privateGet(this, _mediaStore)) == null ? void 0 : _l.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          noMutedPref: this.hasAttribute(Attributes.NO_MUTED_PREF)\n        }\n      });\n    }\n  }\n  connectedCallback() {\n    var _a, _b;\n    if (!__privateGet(this, _mediaStore) && !this.hasAttribute(Attributes.NO_DEFAULT_STORE)) {\n      __privateMethod(this, _setupDefaultStore, setupDefaultStore_fn).call(this);\n    }\n    (_a = __privateGet(this, _mediaStore)) == null ? void 0 : _a.dispatch({\n      type: \"documentelementchangerequest\",\n      detail: document\n    });\n    super.connectedCallback();\n    if (__privateGet(this, _mediaStore) && !__privateGet(this, _mediaStoreUnsubscribe)) {\n      __privateSet(this, _mediaStoreUnsubscribe, (_b = __privateGet(this, _mediaStore)) == null ? void 0 : _b.subscribe(__privateGet(this, _mediaStateCallback)));\n    }\n    if (__privateGet(this, _subtitlesState) !== void 0 && __privateGet(this, _mediaStore) && this.media) {\n      setTimeout(() => {\n        var _a2, _b2, _c;\n        if ((_b2 = (_a2 = this.media) == null ? void 0 : _a2.textTracks) == null ? void 0 : _b2.length) {\n          (_c = __privateGet(this, _mediaStore)) == null ? void 0 : _c.dispatch({\n            type: MediaUIEvents.MEDIA_TOGGLE_SUBTITLES_REQUEST,\n            detail: __privateGet(this, _subtitlesState)\n          });\n        }\n      }, 0);\n    }\n    this.hasAttribute(Attributes.NO_HOTKEYS) ? this.disableHotkeys() : this.enableHotkeys();\n  }\n  disconnectedCallback() {\n    var _a, _b, _c, _d, _e;\n    (_a = super.disconnectedCallback) == null ? void 0 : _a.call(this);\n    if (__privateGet(this, _mediaStore)) {\n      const currentState = __privateGet(this, _mediaStore).getState();\n      __privateSet(this, _subtitlesState, !!((_b = currentState.mediaSubtitlesShowing) == null ? void 0 : _b.length));\n      (_c = __privateGet(this, _mediaStore)) == null ? void 0 : _c.dispatch({\n        type: \"documentelementchangerequest\",\n        detail: void 0\n      });\n      (_d = __privateGet(this, _mediaStore)) == null ? void 0 : _d.dispatch({\n        type: MediaUIEvents.MEDIA_TOGGLE_SUBTITLES_REQUEST,\n        detail: false\n      });\n    }\n    if (__privateGet(this, _mediaStoreUnsubscribe)) {\n      (_e = __privateGet(this, _mediaStoreUnsubscribe)) == null ? void 0 : _e.call(this);\n      __privateSet(this, _mediaStoreUnsubscribe, void 0);\n    }\n  }\n  /**\n   * @override\n   * @param {HTMLMediaElement} media\n   */\n  mediaSetCallback(media) {\n    var _a;\n    super.mediaSetCallback(media);\n    (_a = __privateGet(this, _mediaStore)) == null ? void 0 : _a.dispatch({\n      type: \"mediaelementchangerequest\",\n      detail: media\n    });\n    if (!media.hasAttribute(\"tabindex\")) {\n      media.tabIndex = -1;\n    }\n  }\n  /**\n   * @override\n   * @param {HTMLMediaElement} media\n   */\n  mediaUnsetCallback(media) {\n    var _a;\n    super.mediaUnsetCallback(media);\n    (_a = __privateGet(this, _mediaStore)) == null ? void 0 : _a.dispatch({\n      type: \"mediaelementchangerequest\",\n      detail: void 0\n    });\n  }\n  propagateMediaState(stateName, state) {\n    propagateMediaState(this.mediaStateReceivers, stateName, state);\n  }\n  associateElement(element) {\n    if (!element) return;\n    const {\n      associatedElementSubscriptions\n    } = this;\n    if (associatedElementSubscriptions.has(element)) return;\n    const registerMediaStateReceiver = this.registerMediaStateReceiver.bind(this);\n    const unregisterMediaStateReceiver = this.unregisterMediaStateReceiver.bind(this);\n    const unsubscribe = monitorForMediaStateReceivers(element, registerMediaStateReceiver, unregisterMediaStateReceiver);\n    Object.values(MediaUIEvents).forEach(eventName => {\n      element.addEventListener(eventName, __privateGet(this, _mediaStateEventHandler));\n    });\n    associatedElementSubscriptions.set(element, unsubscribe);\n  }\n  unassociateElement(element) {\n    if (!element) return;\n    const {\n      associatedElementSubscriptions\n    } = this;\n    if (!associatedElementSubscriptions.has(element)) return;\n    const unsubscribe = associatedElementSubscriptions.get(element);\n    unsubscribe();\n    associatedElementSubscriptions.delete(element);\n    Object.values(MediaUIEvents).forEach(eventName => {\n      element.removeEventListener(eventName, __privateGet(this, _mediaStateEventHandler));\n    });\n  }\n  registerMediaStateReceiver(el) {\n    if (!el) return;\n    const els = this.mediaStateReceivers;\n    const index = els.indexOf(el);\n    if (index > -1) return;\n    els.push(el);\n    if (__privateGet(this, _mediaStore)) {\n      Object.entries(__privateGet(this, _mediaStore).getState()).forEach(([stateName, stateValue]) => {\n        propagateMediaState([el], stateName, stateValue);\n      });\n    }\n  }\n  unregisterMediaStateReceiver(el) {\n    const els = this.mediaStateReceivers;\n    const index = els.indexOf(el);\n    if (index < 0) return;\n    els.splice(index, 1);\n  }\n  enableHotkeys() {\n    this.addEventListener(\"keydown\", __privateMethod(this, _keyDownHandler, keyDownHandler_fn));\n  }\n  disableHotkeys() {\n    this.removeEventListener(\"keydown\", __privateMethod(this, _keyDownHandler, keyDownHandler_fn));\n    this.removeEventListener(\"keyup\", __privateMethod(this, _keyUpHandler, keyUpHandler_fn));\n  }\n  get hotkeys() {\n    return getStringAttr(this, Attributes.HOTKEYS);\n  }\n  set hotkeys(value) {\n    setStringAttr(this, Attributes.HOTKEYS, value);\n  }\n  keyboardShortcutHandler(e) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n    const target = e.target;\n    const keysUsed = ((_c = (_b = (_a = target.getAttribute(Attributes.KEYS_USED)) == null ? void 0 : _a.split(\" \")) != null ? _b : target == null ? void 0 : target.keysUsed) != null ? _c : []).map(key => key === \"Space\" ? \" \" : key).filter(Boolean);\n    if (keysUsed.includes(e.key)) {\n      return;\n    }\n    let eventName, detail, evt;\n    if (__privateGet(this, _hotKeys).contains(`no${e.key.toLowerCase()}`)) return;\n    if (e.key === \" \" && __privateGet(this, _hotKeys).contains(`nospace`)) return;\n    const isShiftSlash = e.shiftKey && (e.key === \"/\" || e.key === \"?\");\n    if (isShiftSlash && __privateGet(this, _hotKeys).contains(\"noshift+/\")) return;\n    switch (e.key) {\n      case \" \":\n      case \"k\":\n        eventName = __privateGet(this, _mediaStore).getState().mediaPaused ? MediaUIEvents.MEDIA_PLAY_REQUEST : MediaUIEvents.MEDIA_PAUSE_REQUEST;\n        this.dispatchEvent(new globalThis.CustomEvent(eventName, {\n          composed: true,\n          bubbles: true\n        }));\n        break;\n      case \"m\":\n        eventName = this.mediaStore.getState().mediaVolumeLevel === \"off\" ? MediaUIEvents.MEDIA_UNMUTE_REQUEST : MediaUIEvents.MEDIA_MUTE_REQUEST;\n        this.dispatchEvent(new globalThis.CustomEvent(eventName, {\n          composed: true,\n          bubbles: true\n        }));\n        break;\n      case \"f\":\n        eventName = this.mediaStore.getState().mediaIsFullscreen ? MediaUIEvents.MEDIA_EXIT_FULLSCREEN_REQUEST : MediaUIEvents.MEDIA_ENTER_FULLSCREEN_REQUEST;\n        this.dispatchEvent(new globalThis.CustomEvent(eventName, {\n          composed: true,\n          bubbles: true\n        }));\n        break;\n      case \"c\":\n        this.dispatchEvent(new globalThis.CustomEvent(MediaUIEvents.MEDIA_TOGGLE_SUBTITLES_REQUEST, {\n          composed: true,\n          bubbles: true\n        }));\n        break;\n      case \"ArrowLeft\":\n      case \"j\":\n        {\n          const offsetValue = this.hasAttribute(Attributes.KEYBOARD_BACKWARD_SEEK_OFFSET) ? +this.getAttribute(Attributes.KEYBOARD_BACKWARD_SEEK_OFFSET) : DEFAULT_SEEK_OFFSET;\n          detail = Math.max(((_d = this.mediaStore.getState().mediaCurrentTime) != null ? _d : 0) - offsetValue, 0);\n          evt = new globalThis.CustomEvent(MediaUIEvents.MEDIA_SEEK_REQUEST, {\n            composed: true,\n            bubbles: true,\n            detail\n          });\n          this.dispatchEvent(evt);\n          break;\n        }\n      case \"ArrowRight\":\n      case \"l\":\n        {\n          const offsetValue = this.hasAttribute(Attributes.KEYBOARD_FORWARD_SEEK_OFFSET) ? +this.getAttribute(Attributes.KEYBOARD_FORWARD_SEEK_OFFSET) : DEFAULT_SEEK_OFFSET;\n          detail = Math.max(((_e = this.mediaStore.getState().mediaCurrentTime) != null ? _e : 0) + offsetValue, 0);\n          evt = new globalThis.CustomEvent(MediaUIEvents.MEDIA_SEEK_REQUEST, {\n            composed: true,\n            bubbles: true,\n            detail\n          });\n          this.dispatchEvent(evt);\n          break;\n        }\n      case \"ArrowUp\":\n        {\n          const step = this.hasAttribute(Attributes.KEYBOARD_UP_VOLUME_STEP) ? +this.getAttribute(Attributes.KEYBOARD_UP_VOLUME_STEP) : DEFAULT_VOLUME_STEP;\n          detail = Math.min(((_f = this.mediaStore.getState().mediaVolume) != null ? _f : 1) + step, 1);\n          evt = new globalThis.CustomEvent(MediaUIEvents.MEDIA_VOLUME_REQUEST, {\n            composed: true,\n            bubbles: true,\n            detail\n          });\n          this.dispatchEvent(evt);\n          break;\n        }\n      case \"ArrowDown\":\n        {\n          const step = this.hasAttribute(Attributes.KEYBOARD_DOWN_VOLUME_STEP) ? +this.getAttribute(Attributes.KEYBOARD_DOWN_VOLUME_STEP) : DEFAULT_VOLUME_STEP;\n          detail = Math.max(((_g = this.mediaStore.getState().mediaVolume) != null ? _g : 1) - step, 0);\n          evt = new globalThis.CustomEvent(MediaUIEvents.MEDIA_VOLUME_REQUEST, {\n            composed: true,\n            bubbles: true,\n            detail\n          });\n          this.dispatchEvent(evt);\n          break;\n        }\n      case \"<\":\n        {\n          const playbackRate = (_h = this.mediaStore.getState().mediaPlaybackRate) != null ? _h : 1;\n          detail = Math.max(playbackRate - DEFAULT_PLAYBACK_RATE_STEP, MIN_PLAYBACK_RATE).toFixed(2);\n          evt = new globalThis.CustomEvent(MediaUIEvents.MEDIA_PLAYBACK_RATE_REQUEST, {\n            composed: true,\n            bubbles: true,\n            detail\n          });\n          this.dispatchEvent(evt);\n          break;\n        }\n      case \">\":\n        {\n          const playbackRate = (_i = this.mediaStore.getState().mediaPlaybackRate) != null ? _i : 1;\n          detail = Math.min(playbackRate + DEFAULT_PLAYBACK_RATE_STEP, MAX_PLAYBACK_RATE).toFixed(2);\n          evt = new globalThis.CustomEvent(MediaUIEvents.MEDIA_PLAYBACK_RATE_REQUEST, {\n            composed: true,\n            bubbles: true,\n            detail\n          });\n          this.dispatchEvent(evt);\n          break;\n        }\n      case \"/\":\n      case \"?\":\n        {\n          if (e.shiftKey) {\n            __privateMethod(this, _showKeyboardShortcutsDialog, showKeyboardShortcutsDialog_fn).call(this);\n          }\n          break;\n        }\n      case \"p\":\n        {\n          eventName = this.mediaStore.getState().mediaIsPip ? MediaUIEvents.MEDIA_EXIT_PIP_REQUEST : MediaUIEvents.MEDIA_ENTER_PIP_REQUEST;\n          evt = new globalThis.CustomEvent(eventName, {\n            composed: true,\n            bubbles: true\n          });\n          this.dispatchEvent(evt);\n          break;\n        }\n      default:\n        break;\n    }\n  }\n}\n_hotKeys = new WeakMap();\n_fullscreenElement = new WeakMap();\n_mediaStore = new WeakMap();\n_keyboardShortcutsDialog = new WeakMap();\n_mediaStateCallback = new WeakMap();\n_mediaStoreUnsubscribe = new WeakMap();\n_mediaStateEventHandler = new WeakMap();\n_subtitlesState = new WeakMap();\n_setupDefaultStore = new WeakSet();\nsetupDefaultStore_fn = function () {\n  var _a;\n  this.mediaStore = createMediaStore({\n    media: this.media,\n    fullscreenElement: this.fullscreenElement,\n    options: {\n      defaultSubtitles: this.hasAttribute(Attributes.DEFAULT_SUBTITLES),\n      defaultDuration: this.hasAttribute(Attributes.DEFAULT_DURATION) ? +this.getAttribute(Attributes.DEFAULT_DURATION) : void 0,\n      defaultStreamType: (/** @type {import('./media-store/state-mediator.js').StreamTypeValue} */\n      (_a = this.getAttribute(Attributes.DEFAULT_STREAM_TYPE)) != null ? _a : void 0),\n      liveEdgeOffset: this.hasAttribute(Attributes.LIVE_EDGE_OFFSET) ? +this.getAttribute(Attributes.LIVE_EDGE_OFFSET) : void 0,\n      seekToLiveOffset: this.hasAttribute(Attributes.SEEK_TO_LIVE_OFFSET) ? +this.getAttribute(Attributes.SEEK_TO_LIVE_OFFSET) : this.hasAttribute(Attributes.LIVE_EDGE_OFFSET) ? +this.getAttribute(Attributes.LIVE_EDGE_OFFSET) : void 0,\n      noAutoSeekToLive: this.hasAttribute(Attributes.NO_AUTO_SEEK_TO_LIVE),\n      // NOTE: This wasn't updated if it was changed later. Should it be? (CJP)\n      noVolumePref: this.hasAttribute(Attributes.NO_VOLUME_PREF),\n      noMutedPref: this.hasAttribute(Attributes.NO_MUTED_PREF),\n      noSubtitlesLangPref: this.hasAttribute(Attributes.NO_SUBTITLES_LANG_PREF)\n    }\n  });\n};\n_keyUpHandler = new WeakSet();\nkeyUpHandler_fn = function (e) {\n  const {\n    key,\n    shiftKey\n  } = e;\n  const isShiftSlash = shiftKey && (key === \"/\" || key === \"?\");\n  const shouldHandle = isShiftSlash || ButtonPressedKeys.includes(key);\n  if (!shouldHandle) {\n    this.removeEventListener(\"keyup\", __privateMethod(this, _keyUpHandler, keyUpHandler_fn));\n    return;\n  }\n  this.keyboardShortcutHandler(e);\n};\n_keyDownHandler = new WeakSet();\nkeyDownHandler_fn = function (e) {\n  var _a;\n  const {\n    metaKey,\n    altKey,\n    key,\n    shiftKey\n  } = e;\n  const isShiftSlash = shiftKey && (key === \"/\" || key === \"?\");\n  if (isShiftSlash && ((_a = __privateGet(this, _keyboardShortcutsDialog)) == null ? void 0 : _a.open)) {\n    this.removeEventListener(\"keyup\", __privateMethod(this, _keyUpHandler, keyUpHandler_fn));\n    return;\n  }\n  if (metaKey || altKey || !isShiftSlash && !ButtonPressedKeys.includes(key)) {\n    this.removeEventListener(\"keyup\", __privateMethod(this, _keyUpHandler, keyUpHandler_fn));\n    return;\n  }\n  const target = e.target;\n  const isRangeInput = target instanceof HTMLElement && (target.tagName.toLowerCase() === \"media-volume-range\" || target.tagName.toLowerCase() === \"media-time-range\");\n  if ([\" \", \"ArrowLeft\", \"ArrowRight\", \"ArrowUp\", \"ArrowDown\"].includes(key) && !(__privateGet(this, _hotKeys).contains(`no${key.toLowerCase()}`) || key === \" \" && __privateGet(this, _hotKeys).contains(\"nospace\")) && !isRangeInput) {\n    e.preventDefault();\n  }\n  this.addEventListener(\"keyup\", __privateMethod(this, _keyUpHandler, keyUpHandler_fn), {\n    once: true\n  });\n};\n_showKeyboardShortcutsDialog = new WeakSet();\nshowKeyboardShortcutsDialog_fn = function () {\n  if (!__privateGet(this, _keyboardShortcutsDialog)) {\n    __privateSet(this, _keyboardShortcutsDialog, document.createElement(\"media-keyboard-shortcuts-dialog\"));\n    this.appendChild(__privateGet(this, _keyboardShortcutsDialog));\n  }\n  __privateGet(this, _keyboardShortcutsDialog).open = true;\n};\nconst MEDIA_UI_ATTRIBUTE_NAMES = Object.values(MediaUIAttributes);\nconst MEDIA_UI_PROP_NAMES = Object.values(MediaUIProps);\nconst getMediaUIAttributesFrom = child => {\n  var _a, _b, _c, _d;\n  let {\n    observedAttributes\n  } = child.constructor;\n  if (!observedAttributes && ((_a = child.nodeName) == null ? void 0 : _a.includes(\"-\"))) {\n    globalThis.customElements.upgrade(child);\n    ({\n      observedAttributes\n    } = child.constructor);\n  }\n  const mediaChromeAttributesList = (_d = (_c = (_b = child == null ? void 0 : child.getAttribute) == null ? void 0 : _b.call(child, MediaStateReceiverAttributes.MEDIA_CHROME_ATTRIBUTES)) == null ? void 0 : _c.split) == null ? void 0 : _d.call(_c, /\\s+/);\n  if (!Array.isArray(observedAttributes || mediaChromeAttributesList)) return [];\n  return (observedAttributes || mediaChromeAttributesList).filter(attrName => MEDIA_UI_ATTRIBUTE_NAMES.includes(attrName));\n};\nconst hasMediaUIProps = mediaStateReceiverCandidate => {\n  var _a, _b;\n  if (((_a = mediaStateReceiverCandidate.nodeName) == null ? void 0 : _a.includes(\"-\")) && !!globalThis.customElements.get((_b = mediaStateReceiverCandidate.nodeName) == null ? void 0 : _b.toLowerCase()) && !(mediaStateReceiverCandidate instanceof globalThis.customElements.get(mediaStateReceiverCandidate.nodeName.toLowerCase()))) {\n    globalThis.customElements.upgrade(mediaStateReceiverCandidate);\n  }\n  return MEDIA_UI_PROP_NAMES.some(propName => propName in mediaStateReceiverCandidate);\n};\nconst isMediaStateReceiver = child => {\n  return hasMediaUIProps(child) || !!getMediaUIAttributesFrom(child).length;\n};\nconst serializeTuple = tuple => {\n  var _a;\n  return (_a = tuple == null ? void 0 : tuple.join) == null ? void 0 : _a.call(tuple, \":\");\n};\nconst CustomAttrSerializer = {\n  [MediaUIAttributes.MEDIA_SUBTITLES_LIST]: stringifyTextTrackList,\n  [MediaUIAttributes.MEDIA_SUBTITLES_SHOWING]: stringifyTextTrackList,\n  [MediaUIAttributes.MEDIA_SEEKABLE]: serializeTuple,\n  [MediaUIAttributes.MEDIA_BUFFERED]: tuples => tuples == null ? void 0 : tuples.map(serializeTuple).join(\" \"),\n  [MediaUIAttributes.MEDIA_PREVIEW_COORDS]: coords => coords == null ? void 0 : coords.join(\" \"),\n  [MediaUIAttributes.MEDIA_RENDITION_LIST]: stringifyRenditionList,\n  [MediaUIAttributes.MEDIA_AUDIO_TRACK_LIST]: stringifyAudioTrackList\n};\nconst setAttr = async (child, attrName, attrValue) => {\n  var _a, _b;\n  if (!child.isConnected) {\n    await delay(0);\n  }\n  if (typeof attrValue === \"boolean\" || attrValue == null) {\n    return setBooleanAttr(child, attrName, attrValue);\n  }\n  if (typeof attrValue === \"number\") {\n    return setNumericAttr(child, attrName, attrValue);\n  }\n  if (typeof attrValue === \"string\") {\n    return setStringAttr(child, attrName, attrValue);\n  }\n  if (Array.isArray(attrValue) && !attrValue.length) {\n    return child.removeAttribute(attrName);\n  }\n  const val = (_b = (_a = CustomAttrSerializer[attrName]) == null ? void 0 : _a.call(CustomAttrSerializer, attrValue)) != null ? _b : attrValue;\n  return child.setAttribute(attrName, val);\n};\nconst isMediaSlotElementDescendant = el => {\n  var _a;\n  return !!((_a = el.closest) == null ? void 0 : _a.call(el, '*[slot=\"media\"]'));\n};\nconst traverseForMediaStateReceivers = (rootNode, mediaStateReceiverCallback) => {\n  if (isMediaSlotElementDescendant(rootNode)) {\n    return;\n  }\n  const traverseForMediaStateReceiversSync = (rootNode2, mediaStateReceiverCallback2) => {\n    var _a, _b;\n    if (isMediaStateReceiver(rootNode2)) {\n      mediaStateReceiverCallback2(rootNode2);\n    }\n    const {\n      children = []\n    } = rootNode2 != null ? rootNode2 : {};\n    const shadowChildren = (_b = (_a = rootNode2 == null ? void 0 : rootNode2.shadowRoot) == null ? void 0 : _a.children) != null ? _b : [];\n    const allChildren = [...children, ...shadowChildren];\n    allChildren.forEach(child => traverseForMediaStateReceivers(child, mediaStateReceiverCallback2));\n  };\n  const name = rootNode == null ? void 0 : rootNode.nodeName.toLowerCase();\n  if (name.includes(\"-\") && !isMediaStateReceiver(rootNode)) {\n    globalThis.customElements.whenDefined(name).then(() => {\n      traverseForMediaStateReceiversSync(rootNode, mediaStateReceiverCallback);\n    });\n    return;\n  }\n  traverseForMediaStateReceiversSync(rootNode, mediaStateReceiverCallback);\n};\nconst propagateMediaState = (els, stateName, val) => {\n  els.forEach(el => {\n    if (stateName in el) {\n      el[stateName] = val;\n      return;\n    }\n    const relevantAttrs = getMediaUIAttributesFrom(el);\n    const attrName = stateName.toLowerCase();\n    if (!relevantAttrs.includes(attrName)) return;\n    setAttr(el, attrName, val);\n  });\n};\nconst monitorForMediaStateReceivers = (rootNode, registerMediaStateReceiver, unregisterMediaStateReceiver) => {\n  traverseForMediaStateReceivers(rootNode, registerMediaStateReceiver);\n  const registerMediaStateReceiverHandler = evt => {\n    var _a;\n    const el = (_a = evt == null ? void 0 : evt.composedPath()[0]) != null ? _a : evt.target;\n    registerMediaStateReceiver(el);\n  };\n  const unregisterMediaStateReceiverHandler = evt => {\n    var _a;\n    const el = (_a = evt == null ? void 0 : evt.composedPath()[0]) != null ? _a : evt.target;\n    unregisterMediaStateReceiver(el);\n  };\n  rootNode.addEventListener(MediaUIEvents.REGISTER_MEDIA_STATE_RECEIVER, registerMediaStateReceiverHandler);\n  rootNode.addEventListener(MediaUIEvents.UNREGISTER_MEDIA_STATE_RECEIVER, unregisterMediaStateReceiverHandler);\n  const mutationCallback = mutationsList => {\n    mutationsList.forEach(mutationRecord => {\n      const {\n        addedNodes = [],\n        removedNodes = [],\n        type,\n        target,\n        attributeName\n      } = mutationRecord;\n      if (type === \"childList\") {\n        Array.prototype.forEach.call(addedNodes, node => traverseForMediaStateReceivers(node, registerMediaStateReceiver));\n        Array.prototype.forEach.call(removedNodes, node => traverseForMediaStateReceivers(node, unregisterMediaStateReceiver));\n      } else if (type === \"attributes\" && attributeName === MediaStateReceiverAttributes.MEDIA_CHROME_ATTRIBUTES) {\n        if (isMediaStateReceiver(target)) {\n          registerMediaStateReceiver(target);\n        } else {\n          unregisterMediaStateReceiver(target);\n        }\n      }\n    });\n  };\n  let prevSlotted = [];\n  const slotChangeHandler = event => {\n    const slotEl = event.target;\n    if (slotEl.name === \"media\") return;\n    prevSlotted.forEach(node => traverseForMediaStateReceivers(node, unregisterMediaStateReceiver));\n    prevSlotted = [...slotEl.assignedElements({\n      flatten: true\n    })];\n    prevSlotted.forEach(node => traverseForMediaStateReceivers(node, registerMediaStateReceiver));\n  };\n  rootNode.addEventListener(\"slotchange\", slotChangeHandler);\n  const observer = new MutationObserver(mutationCallback);\n  observer.observe(rootNode, {\n    childList: true,\n    attributes: true,\n    subtree: true\n  });\n  const unsubscribe = () => {\n    traverseForMediaStateReceivers(rootNode, unregisterMediaStateReceiver);\n    rootNode.removeEventListener(\"slotchange\", slotChangeHandler);\n    observer.disconnect();\n    rootNode.removeEventListener(MediaUIEvents.REGISTER_MEDIA_STATE_RECEIVER, registerMediaStateReceiverHandler);\n    rootNode.removeEventListener(MediaUIEvents.UNREGISTER_MEDIA_STATE_RECEIVER, unregisterMediaStateReceiverHandler);\n  };\n  return unsubscribe;\n};\nif (!globalThis.customElements.get(\"media-controller\")) {\n  globalThis.customElements.define(\"media-controller\", MediaController);\n}\nvar media_controller_default = MediaController;\nexport { Attributes, MediaController, media_controller_default as default };","map":{"version":3,"names":["__accessCheck","obj","member","msg","has","TypeError","__privateGet","getter","call","get","__privateAdd","value","WeakSet","add","set","__privateSet","setter","__privateMethod","method","_hotKeys","_fullscreenElement","_mediaStore","_keyboardShortcutsDialog","_mediaStateCallback","_mediaStoreUnsubscribe","_mediaStateEventHandler","_subtitlesState","_setupDefaultStore","setupDefaultStore_fn","_keyUpHandler","keyUpHandler_fn","_keyDownHandler","keyDownHandler_fn","_showKeyboardShortcutsDialog","showKeyboardShortcutsDialog_fn","MediaContainer","document","globalThis","AttributeTokenList","delay","stringifyRenditionList","stringifyAudioTrackList","stringifyTextTrackList","MediaUIEvents","MediaUIAttributes","MediaStateReceiverAttributes","AttributeToStateChangeEventMap","MediaUIProps","getBooleanAttr","getNumericAttr","getStringAttr","setBooleanAttr","setNumericAttr","setStringAttr","createMediaStore","setLanguage","ButtonPressedKeys","DEFAULT_SEEK_OFFSET","DEFAULT_VOLUME_STEP","DEFAULT_PLAYBACK_RATE_STEP","MIN_PLAYBACK_RATE","MAX_PLAYBACK_RATE","Attributes","DEFAULT_SUBTITLES","DEFAULT_STREAM_TYPE","DEFAULT_DURATION","FULLSCREEN_ELEMENT","HOTKEYS","KEYBOARD_BACKWARD_SEEK_OFFSET","KEYBOARD_FORWARD_SEEK_OFFSET","KEYBOARD_DOWN_VOLUME_STEP","KEYBOARD_UP_VOLUME_STEP","KEYS_USED","LANG","LOOP","LIVE_EDGE_OFFSET","NO_AUTO_SEEK_TO_LIVE","NO_DEFAULT_STORE","NO_HOTKEYS","NO_MUTED_PREF","NO_SUBTITLES_LANG_PREF","NO_VOLUME_PREF","SEEK_TO_LIVE_OFFSET","MediaController","constructor","mediaStateReceivers","associatedElementSubscriptions","Map","event","_a","dispatch","associateElement","prevState","nextState","Object","entries","forEach","stateName","stateValue","propagateMediaState","attrName","toLowerCase","evt","CustomEvent","composed","detail","dispatchEvent","hasAttribute","disableHotkeys","enableHotkeys","observedAttributes","concat","mediaStore","_b","subscribe","fullscreenElement","element","removeAttribute","type","defaultSubtitles","defaultStreamType","defaultDuration","noHotkeys","keysUsed","liveEdgeOffset","noAutoSeekToLive","noVolumePref","noMutedPref","noSubtitlesLangPref","noDefaultStore","attributeChangedCallback","oldValue","newValue","_c","_d","_e","_f","_g","_h","_i","_j","_k","_l","console","warn","getAttribute","seekToLiveOffset","el","getRootNode","getElementById","mediaLang","MEDIA_LOOP_REQUEST","connectedCallback","media","setTimeout","_a2","_b2","textTracks","length","MEDIA_TOGGLE_SUBTITLES_REQUEST","disconnectedCallback","currentState","getState","mediaSubtitlesShowing","mediaSetCallback","tabIndex","mediaUnsetCallback","state","registerMediaStateReceiver","bind","unregisterMediaStateReceiver","unsubscribe","monitorForMediaStateReceivers","values","eventName","addEventListener","unassociateElement","delete","removeEventListener","els","index","indexOf","push","splice","hotkeys","keyboardShortcutHandler","e","target","split","map","key","filter","Boolean","includes","contains","isShiftSlash","shiftKey","mediaPaused","MEDIA_PLAY_REQUEST","MEDIA_PAUSE_REQUEST","bubbles","mediaVolumeLevel","MEDIA_UNMUTE_REQUEST","MEDIA_MUTE_REQUEST","mediaIsFullscreen","MEDIA_EXIT_FULLSCREEN_REQUEST","MEDIA_ENTER_FULLSCREEN_REQUEST","offsetValue","Math","max","mediaCurrentTime","MEDIA_SEEK_REQUEST","step","min","mediaVolume","MEDIA_VOLUME_REQUEST","playbackRate","mediaPlaybackRate","toFixed","MEDIA_PLAYBACK_RATE_REQUEST","mediaIsPip","MEDIA_EXIT_PIP_REQUEST","MEDIA_ENTER_PIP_REQUEST","WeakMap","options","shouldHandle","metaKey","altKey","open","isRangeInput","HTMLElement","tagName","preventDefault","once","createElement","appendChild","MEDIA_UI_ATTRIBUTE_NAMES","MEDIA_UI_PROP_NAMES","getMediaUIAttributesFrom","child","nodeName","customElements","upgrade","mediaChromeAttributesList","MEDIA_CHROME_ATTRIBUTES","Array","isArray","hasMediaUIProps","mediaStateReceiverCandidate","some","propName","isMediaStateReceiver","serializeTuple","tuple","join","CustomAttrSerializer","MEDIA_SUBTITLES_LIST","MEDIA_SUBTITLES_SHOWING","MEDIA_SEEKABLE","MEDIA_BUFFERED","tuples","MEDIA_PREVIEW_COORDS","coords","MEDIA_RENDITION_LIST","MEDIA_AUDIO_TRACK_LIST","setAttr","attrValue","isConnected","val","setAttribute","isMediaSlotElementDescendant","closest","traverseForMediaStateReceivers","rootNode","mediaStateReceiverCallback","traverseForMediaStateReceiversSync","rootNode2","mediaStateReceiverCallback2","children","shadowChildren","shadowRoot","allChildren","name","whenDefined","then","relevantAttrs","registerMediaStateReceiverHandler","composedPath","unregisterMediaStateReceiverHandler","REGISTER_MEDIA_STATE_RECEIVER","UNREGISTER_MEDIA_STATE_RECEIVER","mutationCallback","mutationsList","mutationRecord","addedNodes","removedNodes","attributeName","prototype","node","prevSlotted","slotChangeHandler","slotEl","assignedElements","flatten","observer","MutationObserver","observe","childList","attributes","subtree","disconnect","define","media_controller_default","default"],"sources":["/app/frontend/node_modules/media-chrome/dist/media-controller.js"],"sourcesContent":["var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _hotKeys, _fullscreenElement, _mediaStore, _keyboardShortcutsDialog, _mediaStateCallback, _mediaStoreUnsubscribe, _mediaStateEventHandler, _subtitlesState, _setupDefaultStore, setupDefaultStore_fn, _keyUpHandler, keyUpHandler_fn, _keyDownHandler, keyDownHandler_fn, _showKeyboardShortcutsDialog, showKeyboardShortcutsDialog_fn;\nimport { MediaContainer } from \"./media-container.js\";\nimport { document, globalThis } from \"./utils/server-safe-globals.js\";\nimport { AttributeTokenList } from \"./utils/attribute-token-list.js\";\nimport {\n  delay,\n  stringifyRenditionList,\n  stringifyAudioTrackList\n} from \"./utils/utils.js\";\nimport { stringifyTextTrackList } from \"./utils/captions.js\";\nimport {\n  MediaUIEvents,\n  MediaUIAttributes,\n  MediaStateReceiverAttributes,\n  AttributeToStateChangeEventMap,\n  MediaUIProps\n} from \"./constants.js\";\nimport {\n  getBooleanAttr,\n  getNumericAttr,\n  getStringAttr,\n  setBooleanAttr,\n  setNumericAttr,\n  setStringAttr\n} from \"./utils/element-utils.js\";\nimport { createMediaStore } from \"./media-store/media-store.js\";\nimport { setLanguage } from \"./utils/i18n.js\";\nconst ButtonPressedKeys = [\n  \"ArrowLeft\",\n  \"ArrowRight\",\n  \"ArrowUp\",\n  \"ArrowDown\",\n  \"Enter\",\n  \" \",\n  \"f\",\n  \"m\",\n  \"k\",\n  \"c\",\n  \"l\",\n  \"j\",\n  \">\",\n  \"<\",\n  \"p\"\n];\nconst DEFAULT_SEEK_OFFSET = 10;\nconst DEFAULT_VOLUME_STEP = 0.025;\nconst DEFAULT_PLAYBACK_RATE_STEP = 0.25;\nconst MIN_PLAYBACK_RATE = 0.25;\nconst MAX_PLAYBACK_RATE = 2;\nconst Attributes = {\n  DEFAULT_SUBTITLES: \"defaultsubtitles\",\n  DEFAULT_STREAM_TYPE: \"defaultstreamtype\",\n  DEFAULT_DURATION: \"defaultduration\",\n  FULLSCREEN_ELEMENT: \"fullscreenelement\",\n  HOTKEYS: \"hotkeys\",\n  KEYBOARD_BACKWARD_SEEK_OFFSET: \"keyboardbackwardseekoffset\",\n  KEYBOARD_FORWARD_SEEK_OFFSET: \"keyboardforwardseekoffset\",\n  KEYBOARD_DOWN_VOLUME_STEP: \"keyboarddownvolumestep\",\n  KEYBOARD_UP_VOLUME_STEP: \"keyboardupvolumestep\",\n  KEYS_USED: \"keysused\",\n  LANG: \"lang\",\n  LOOP: \"loop\",\n  LIVE_EDGE_OFFSET: \"liveedgeoffset\",\n  NO_AUTO_SEEK_TO_LIVE: \"noautoseektolive\",\n  NO_DEFAULT_STORE: \"nodefaultstore\",\n  NO_HOTKEYS: \"nohotkeys\",\n  NO_MUTED_PREF: \"nomutedpref\",\n  NO_SUBTITLES_LANG_PREF: \"nosubtitleslangpref\",\n  NO_VOLUME_PREF: \"novolumepref\",\n  SEEK_TO_LIVE_OFFSET: \"seektoliveoffset\"\n};\nclass MediaController extends MediaContainer {\n  constructor() {\n    super();\n    __privateAdd(this, _setupDefaultStore);\n    __privateAdd(this, _keyUpHandler);\n    __privateAdd(this, _keyDownHandler);\n    __privateAdd(this, _showKeyboardShortcutsDialog);\n    this.mediaStateReceivers = [];\n    this.associatedElementSubscriptions = /* @__PURE__ */ new Map();\n    __privateAdd(this, _hotKeys, new AttributeTokenList(this, Attributes.HOTKEYS));\n    __privateAdd(this, _fullscreenElement, void 0);\n    __privateAdd(this, _mediaStore, void 0);\n    __privateAdd(this, _keyboardShortcutsDialog, null);\n    __privateAdd(this, _mediaStateCallback, void 0);\n    __privateAdd(this, _mediaStoreUnsubscribe, void 0);\n    __privateAdd(this, _mediaStateEventHandler, (event) => {\n      var _a;\n      (_a = __privateGet(this, _mediaStore)) == null ? void 0 : _a.dispatch(event);\n    });\n    __privateAdd(this, _subtitlesState, void 0);\n    this.associateElement(this);\n    let prevState = {};\n    __privateSet(this, _mediaStateCallback, (nextState) => {\n      Object.entries(nextState).forEach(([stateName, stateValue]) => {\n        if (stateName in prevState && prevState[stateName] === stateValue)\n          return;\n        this.propagateMediaState(stateName, stateValue);\n        const attrName = stateName.toLowerCase();\n        const evt = new globalThis.CustomEvent(\n          AttributeToStateChangeEventMap[attrName],\n          { composed: true, detail: stateValue }\n        );\n        this.dispatchEvent(evt);\n      });\n      prevState = nextState;\n    });\n    this.hasAttribute(Attributes.NO_HOTKEYS) ? this.disableHotkeys() : this.enableHotkeys();\n  }\n  static get observedAttributes() {\n    return super.observedAttributes.concat(\n      Attributes.NO_HOTKEYS,\n      Attributes.HOTKEYS,\n      Attributes.DEFAULT_STREAM_TYPE,\n      Attributes.DEFAULT_SUBTITLES,\n      Attributes.DEFAULT_DURATION,\n      Attributes.NO_MUTED_PREF,\n      Attributes.NO_VOLUME_PREF,\n      Attributes.LANG,\n      Attributes.LOOP\n    );\n  }\n  get mediaStore() {\n    return __privateGet(this, _mediaStore);\n  }\n  set mediaStore(value) {\n    var _a, _b;\n    if (__privateGet(this, _mediaStore)) {\n      (_a = __privateGet(this, _mediaStoreUnsubscribe)) == null ? void 0 : _a.call(this);\n      __privateSet(this, _mediaStoreUnsubscribe, void 0);\n    }\n    __privateSet(this, _mediaStore, value);\n    if (!__privateGet(this, _mediaStore) && !this.hasAttribute(Attributes.NO_DEFAULT_STORE)) {\n      __privateMethod(this, _setupDefaultStore, setupDefaultStore_fn).call(this);\n      return;\n    }\n    __privateSet(this, _mediaStoreUnsubscribe, (_b = __privateGet(this, _mediaStore)) == null ? void 0 : _b.subscribe(\n      __privateGet(this, _mediaStateCallback)\n    ));\n  }\n  get fullscreenElement() {\n    var _a;\n    return (_a = __privateGet(this, _fullscreenElement)) != null ? _a : this;\n  }\n  set fullscreenElement(element) {\n    var _a;\n    if (this.hasAttribute(Attributes.FULLSCREEN_ELEMENT)) {\n      this.removeAttribute(Attributes.FULLSCREEN_ELEMENT);\n    }\n    __privateSet(this, _fullscreenElement, element);\n    (_a = __privateGet(this, _mediaStore)) == null ? void 0 : _a.dispatch({\n      type: \"fullscreenelementchangerequest\",\n      detail: this.fullscreenElement\n    });\n  }\n  get defaultSubtitles() {\n    return getBooleanAttr(this, Attributes.DEFAULT_SUBTITLES);\n  }\n  set defaultSubtitles(value) {\n    setBooleanAttr(this, Attributes.DEFAULT_SUBTITLES, value);\n  }\n  get defaultStreamType() {\n    return getStringAttr(this, Attributes.DEFAULT_STREAM_TYPE);\n  }\n  set defaultStreamType(value) {\n    setStringAttr(this, Attributes.DEFAULT_STREAM_TYPE, value);\n  }\n  get defaultDuration() {\n    return getNumericAttr(this, Attributes.DEFAULT_DURATION);\n  }\n  set defaultDuration(value) {\n    setNumericAttr(this, Attributes.DEFAULT_DURATION, value);\n  }\n  get noHotkeys() {\n    return getBooleanAttr(this, Attributes.NO_HOTKEYS);\n  }\n  set noHotkeys(value) {\n    setBooleanAttr(this, Attributes.NO_HOTKEYS, value);\n  }\n  get keysUsed() {\n    return getStringAttr(this, Attributes.KEYS_USED);\n  }\n  set keysUsed(value) {\n    setStringAttr(this, Attributes.KEYS_USED, value);\n  }\n  get liveEdgeOffset() {\n    return getNumericAttr(this, Attributes.LIVE_EDGE_OFFSET);\n  }\n  set liveEdgeOffset(value) {\n    setNumericAttr(this, Attributes.LIVE_EDGE_OFFSET, value);\n  }\n  get noAutoSeekToLive() {\n    return getBooleanAttr(this, Attributes.NO_AUTO_SEEK_TO_LIVE);\n  }\n  set noAutoSeekToLive(value) {\n    setBooleanAttr(this, Attributes.NO_AUTO_SEEK_TO_LIVE, value);\n  }\n  get noVolumePref() {\n    return getBooleanAttr(this, Attributes.NO_VOLUME_PREF);\n  }\n  set noVolumePref(value) {\n    setBooleanAttr(this, Attributes.NO_VOLUME_PREF, value);\n  }\n  get noMutedPref() {\n    return getBooleanAttr(this, Attributes.NO_MUTED_PREF);\n  }\n  set noMutedPref(value) {\n    setBooleanAttr(this, Attributes.NO_MUTED_PREF, value);\n  }\n  get noSubtitlesLangPref() {\n    return getBooleanAttr(this, Attributes.NO_SUBTITLES_LANG_PREF);\n  }\n  set noSubtitlesLangPref(value) {\n    setBooleanAttr(this, Attributes.NO_SUBTITLES_LANG_PREF, value);\n  }\n  get noDefaultStore() {\n    return getBooleanAttr(this, Attributes.NO_DEFAULT_STORE);\n  }\n  set noDefaultStore(value) {\n    setBooleanAttr(this, Attributes.NO_DEFAULT_STORE, value);\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l;\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === Attributes.NO_HOTKEYS) {\n      if (newValue !== oldValue && newValue === \"\") {\n        if (this.hasAttribute(Attributes.HOTKEYS)) {\n          console.warn(\n            \"Media Chrome: Both `hotkeys` and `nohotkeys` have been set. All hotkeys will be disabled.\"\n          );\n        }\n        this.disableHotkeys();\n      } else if (newValue !== oldValue && newValue === null) {\n        this.enableHotkeys();\n      }\n    } else if (attrName === Attributes.HOTKEYS) {\n      __privateGet(this, _hotKeys).value = newValue;\n    } else if (attrName === Attributes.DEFAULT_SUBTITLES && newValue !== oldValue) {\n      (_a = __privateGet(this, _mediaStore)) == null ? void 0 : _a.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          defaultSubtitles: this.hasAttribute(Attributes.DEFAULT_SUBTITLES)\n        }\n      });\n    } else if (attrName === Attributes.DEFAULT_STREAM_TYPE) {\n      (_c = __privateGet(this, _mediaStore)) == null ? void 0 : _c.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          defaultStreamType: (_b = this.getAttribute(Attributes.DEFAULT_STREAM_TYPE)) != null ? _b : void 0\n        }\n      });\n    } else if (attrName === Attributes.LIVE_EDGE_OFFSET) {\n      (_d = __privateGet(this, _mediaStore)) == null ? void 0 : _d.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          liveEdgeOffset: this.hasAttribute(Attributes.LIVE_EDGE_OFFSET) ? +this.getAttribute(Attributes.LIVE_EDGE_OFFSET) : void 0,\n          seekToLiveOffset: !this.hasAttribute(Attributes.SEEK_TO_LIVE_OFFSET) ? +this.getAttribute(Attributes.LIVE_EDGE_OFFSET) : void 0\n        }\n      });\n    } else if (attrName === Attributes.SEEK_TO_LIVE_OFFSET) {\n      (_e = __privateGet(this, _mediaStore)) == null ? void 0 : _e.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          seekToLiveOffset: this.hasAttribute(Attributes.SEEK_TO_LIVE_OFFSET) ? +this.getAttribute(Attributes.SEEK_TO_LIVE_OFFSET) : void 0\n        }\n      });\n    } else if (attrName === Attributes.NO_AUTO_SEEK_TO_LIVE) {\n      (_f = __privateGet(this, _mediaStore)) == null ? void 0 : _f.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          noAutoSeekToLive: this.hasAttribute(Attributes.NO_AUTO_SEEK_TO_LIVE)\n        }\n      });\n    } else if (attrName === Attributes.FULLSCREEN_ELEMENT) {\n      const el = newValue ? (_g = this.getRootNode()) == null ? void 0 : _g.getElementById(newValue) : void 0;\n      __privateSet(this, _fullscreenElement, el);\n      (_h = __privateGet(this, _mediaStore)) == null ? void 0 : _h.dispatch({\n        type: \"fullscreenelementchangerequest\",\n        detail: this.fullscreenElement\n      });\n    } else if (attrName === Attributes.LANG && newValue !== oldValue) {\n      setLanguage(newValue);\n      (_i = __privateGet(this, _mediaStore)) == null ? void 0 : _i.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          mediaLang: newValue\n        }\n      });\n    } else if (attrName === Attributes.LOOP && newValue !== oldValue) {\n      (_j = __privateGet(this, _mediaStore)) == null ? void 0 : _j.dispatch({\n        type: MediaUIEvents.MEDIA_LOOP_REQUEST,\n        detail: newValue != null\n      });\n    } else if (attrName === Attributes.NO_VOLUME_PREF && newValue !== oldValue) {\n      (_k = __privateGet(this, _mediaStore)) == null ? void 0 : _k.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          noVolumePref: this.hasAttribute(Attributes.NO_VOLUME_PREF)\n        }\n      });\n    } else if (attrName === Attributes.NO_MUTED_PREF && newValue !== oldValue) {\n      (_l = __privateGet(this, _mediaStore)) == null ? void 0 : _l.dispatch({\n        type: \"optionschangerequest\",\n        detail: {\n          noMutedPref: this.hasAttribute(Attributes.NO_MUTED_PREF)\n        }\n      });\n    }\n  }\n  connectedCallback() {\n    var _a, _b;\n    if (!__privateGet(this, _mediaStore) && !this.hasAttribute(Attributes.NO_DEFAULT_STORE)) {\n      __privateMethod(this, _setupDefaultStore, setupDefaultStore_fn).call(this);\n    }\n    (_a = __privateGet(this, _mediaStore)) == null ? void 0 : _a.dispatch({\n      type: \"documentelementchangerequest\",\n      detail: document\n    });\n    super.connectedCallback();\n    if (__privateGet(this, _mediaStore) && !__privateGet(this, _mediaStoreUnsubscribe)) {\n      __privateSet(this, _mediaStoreUnsubscribe, (_b = __privateGet(this, _mediaStore)) == null ? void 0 : _b.subscribe(\n        __privateGet(this, _mediaStateCallback)\n      ));\n    }\n    if (__privateGet(this, _subtitlesState) !== void 0 && __privateGet(this, _mediaStore) && this.media) {\n      setTimeout(() => {\n        var _a2, _b2, _c;\n        if ((_b2 = (_a2 = this.media) == null ? void 0 : _a2.textTracks) == null ? void 0 : _b2.length) {\n          (_c = __privateGet(this, _mediaStore)) == null ? void 0 : _c.dispatch({\n            type: MediaUIEvents.MEDIA_TOGGLE_SUBTITLES_REQUEST,\n            detail: __privateGet(this, _subtitlesState)\n          });\n        }\n      }, 0);\n    }\n    this.hasAttribute(Attributes.NO_HOTKEYS) ? this.disableHotkeys() : this.enableHotkeys();\n  }\n  disconnectedCallback() {\n    var _a, _b, _c, _d, _e;\n    (_a = super.disconnectedCallback) == null ? void 0 : _a.call(this);\n    if (__privateGet(this, _mediaStore)) {\n      const currentState = __privateGet(this, _mediaStore).getState();\n      __privateSet(this, _subtitlesState, !!((_b = currentState.mediaSubtitlesShowing) == null ? void 0 : _b.length));\n      (_c = __privateGet(this, _mediaStore)) == null ? void 0 : _c.dispatch({\n        type: \"documentelementchangerequest\",\n        detail: void 0\n      });\n      (_d = __privateGet(this, _mediaStore)) == null ? void 0 : _d.dispatch({\n        type: MediaUIEvents.MEDIA_TOGGLE_SUBTITLES_REQUEST,\n        detail: false\n      });\n    }\n    if (__privateGet(this, _mediaStoreUnsubscribe)) {\n      (_e = __privateGet(this, _mediaStoreUnsubscribe)) == null ? void 0 : _e.call(this);\n      __privateSet(this, _mediaStoreUnsubscribe, void 0);\n    }\n  }\n  /**\n   * @override\n   * @param {HTMLMediaElement} media\n   */\n  mediaSetCallback(media) {\n    var _a;\n    super.mediaSetCallback(media);\n    (_a = __privateGet(this, _mediaStore)) == null ? void 0 : _a.dispatch({\n      type: \"mediaelementchangerequest\",\n      detail: media\n    });\n    if (!media.hasAttribute(\"tabindex\")) {\n      media.tabIndex = -1;\n    }\n  }\n  /**\n   * @override\n   * @param {HTMLMediaElement} media\n   */\n  mediaUnsetCallback(media) {\n    var _a;\n    super.mediaUnsetCallback(media);\n    (_a = __privateGet(this, _mediaStore)) == null ? void 0 : _a.dispatch({\n      type: \"mediaelementchangerequest\",\n      detail: void 0\n    });\n  }\n  propagateMediaState(stateName, state) {\n    propagateMediaState(this.mediaStateReceivers, stateName, state);\n  }\n  associateElement(element) {\n    if (!element)\n      return;\n    const { associatedElementSubscriptions } = this;\n    if (associatedElementSubscriptions.has(element))\n      return;\n    const registerMediaStateReceiver = this.registerMediaStateReceiver.bind(this);\n    const unregisterMediaStateReceiver = this.unregisterMediaStateReceiver.bind(this);\n    const unsubscribe = monitorForMediaStateReceivers(\n      element,\n      registerMediaStateReceiver,\n      unregisterMediaStateReceiver\n    );\n    Object.values(MediaUIEvents).forEach((eventName) => {\n      element.addEventListener(eventName, __privateGet(this, _mediaStateEventHandler));\n    });\n    associatedElementSubscriptions.set(element, unsubscribe);\n  }\n  unassociateElement(element) {\n    if (!element)\n      return;\n    const { associatedElementSubscriptions } = this;\n    if (!associatedElementSubscriptions.has(element))\n      return;\n    const unsubscribe = associatedElementSubscriptions.get(element);\n    unsubscribe();\n    associatedElementSubscriptions.delete(element);\n    Object.values(MediaUIEvents).forEach((eventName) => {\n      element.removeEventListener(eventName, __privateGet(this, _mediaStateEventHandler));\n    });\n  }\n  registerMediaStateReceiver(el) {\n    if (!el)\n      return;\n    const els = this.mediaStateReceivers;\n    const index = els.indexOf(el);\n    if (index > -1)\n      return;\n    els.push(el);\n    if (__privateGet(this, _mediaStore)) {\n      Object.entries(__privateGet(this, _mediaStore).getState()).forEach(\n        ([stateName, stateValue]) => {\n          propagateMediaState([el], stateName, stateValue);\n        }\n      );\n    }\n  }\n  unregisterMediaStateReceiver(el) {\n    const els = this.mediaStateReceivers;\n    const index = els.indexOf(el);\n    if (index < 0)\n      return;\n    els.splice(index, 1);\n  }\n  enableHotkeys() {\n    this.addEventListener(\"keydown\", __privateMethod(this, _keyDownHandler, keyDownHandler_fn));\n  }\n  disableHotkeys() {\n    this.removeEventListener(\"keydown\", __privateMethod(this, _keyDownHandler, keyDownHandler_fn));\n    this.removeEventListener(\"keyup\", __privateMethod(this, _keyUpHandler, keyUpHandler_fn));\n  }\n  get hotkeys() {\n    return getStringAttr(this, Attributes.HOTKEYS);\n  }\n  set hotkeys(value) {\n    setStringAttr(this, Attributes.HOTKEYS, value);\n  }\n  keyboardShortcutHandler(e) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n    const target = e.target;\n    const keysUsed = ((_c = (_b = (_a = target.getAttribute(Attributes.KEYS_USED)) == null ? void 0 : _a.split(\" \")) != null ? _b : target == null ? void 0 : target.keysUsed) != null ? _c : []).map((key) => key === \"Space\" ? \" \" : key).filter(Boolean);\n    if (keysUsed.includes(e.key)) {\n      return;\n    }\n    let eventName, detail, evt;\n    if (__privateGet(this, _hotKeys).contains(`no${e.key.toLowerCase()}`))\n      return;\n    if (e.key === \" \" && __privateGet(this, _hotKeys).contains(`nospace`))\n      return;\n    const isShiftSlash = e.shiftKey && (e.key === \"/\" || e.key === \"?\");\n    if (isShiftSlash && __privateGet(this, _hotKeys).contains(\"noshift+/\"))\n      return;\n    switch (e.key) {\n      case \" \":\n      case \"k\":\n        eventName = __privateGet(this, _mediaStore).getState().mediaPaused ? MediaUIEvents.MEDIA_PLAY_REQUEST : MediaUIEvents.MEDIA_PAUSE_REQUEST;\n        this.dispatchEvent(\n          new globalThis.CustomEvent(eventName, {\n            composed: true,\n            bubbles: true\n          })\n        );\n        break;\n      case \"m\":\n        eventName = this.mediaStore.getState().mediaVolumeLevel === \"off\" ? MediaUIEvents.MEDIA_UNMUTE_REQUEST : MediaUIEvents.MEDIA_MUTE_REQUEST;\n        this.dispatchEvent(\n          new globalThis.CustomEvent(eventName, {\n            composed: true,\n            bubbles: true\n          })\n        );\n        break;\n      case \"f\":\n        eventName = this.mediaStore.getState().mediaIsFullscreen ? MediaUIEvents.MEDIA_EXIT_FULLSCREEN_REQUEST : MediaUIEvents.MEDIA_ENTER_FULLSCREEN_REQUEST;\n        this.dispatchEvent(\n          new globalThis.CustomEvent(eventName, {\n            composed: true,\n            bubbles: true\n          })\n        );\n        break;\n      case \"c\":\n        this.dispatchEvent(\n          new globalThis.CustomEvent(\n            MediaUIEvents.MEDIA_TOGGLE_SUBTITLES_REQUEST,\n            { composed: true, bubbles: true }\n          )\n        );\n        break;\n      case \"ArrowLeft\":\n      case \"j\": {\n        const offsetValue = this.hasAttribute(\n          Attributes.KEYBOARD_BACKWARD_SEEK_OFFSET\n        ) ? +this.getAttribute(Attributes.KEYBOARD_BACKWARD_SEEK_OFFSET) : DEFAULT_SEEK_OFFSET;\n        detail = Math.max(\n          ((_d = this.mediaStore.getState().mediaCurrentTime) != null ? _d : 0) - offsetValue,\n          0\n        );\n        evt = new globalThis.CustomEvent(MediaUIEvents.MEDIA_SEEK_REQUEST, {\n          composed: true,\n          bubbles: true,\n          detail\n        });\n        this.dispatchEvent(evt);\n        break;\n      }\n      case \"ArrowRight\":\n      case \"l\": {\n        const offsetValue = this.hasAttribute(\n          Attributes.KEYBOARD_FORWARD_SEEK_OFFSET\n        ) ? +this.getAttribute(Attributes.KEYBOARD_FORWARD_SEEK_OFFSET) : DEFAULT_SEEK_OFFSET;\n        detail = Math.max(\n          ((_e = this.mediaStore.getState().mediaCurrentTime) != null ? _e : 0) + offsetValue,\n          0\n        );\n        evt = new globalThis.CustomEvent(MediaUIEvents.MEDIA_SEEK_REQUEST, {\n          composed: true,\n          bubbles: true,\n          detail\n        });\n        this.dispatchEvent(evt);\n        break;\n      }\n      case \"ArrowUp\": {\n        const step = this.hasAttribute(Attributes.KEYBOARD_UP_VOLUME_STEP) ? +this.getAttribute(Attributes.KEYBOARD_UP_VOLUME_STEP) : DEFAULT_VOLUME_STEP;\n        detail = Math.min(\n          ((_f = this.mediaStore.getState().mediaVolume) != null ? _f : 1) + step,\n          1\n        );\n        evt = new globalThis.CustomEvent(MediaUIEvents.MEDIA_VOLUME_REQUEST, {\n          composed: true,\n          bubbles: true,\n          detail\n        });\n        this.dispatchEvent(evt);\n        break;\n      }\n      case \"ArrowDown\": {\n        const step = this.hasAttribute(Attributes.KEYBOARD_DOWN_VOLUME_STEP) ? +this.getAttribute(Attributes.KEYBOARD_DOWN_VOLUME_STEP) : DEFAULT_VOLUME_STEP;\n        detail = Math.max(\n          ((_g = this.mediaStore.getState().mediaVolume) != null ? _g : 1) - step,\n          0\n        );\n        evt = new globalThis.CustomEvent(MediaUIEvents.MEDIA_VOLUME_REQUEST, {\n          composed: true,\n          bubbles: true,\n          detail\n        });\n        this.dispatchEvent(evt);\n        break;\n      }\n      case \"<\": {\n        const playbackRate = (_h = this.mediaStore.getState().mediaPlaybackRate) != null ? _h : 1;\n        detail = Math.max(\n          playbackRate - DEFAULT_PLAYBACK_RATE_STEP,\n          MIN_PLAYBACK_RATE\n        ).toFixed(2);\n        evt = new globalThis.CustomEvent(MediaUIEvents.MEDIA_PLAYBACK_RATE_REQUEST, {\n          composed: true,\n          bubbles: true,\n          detail\n        });\n        this.dispatchEvent(evt);\n        break;\n      }\n      case \">\": {\n        const playbackRate = (_i = this.mediaStore.getState().mediaPlaybackRate) != null ? _i : 1;\n        detail = Math.min(\n          playbackRate + DEFAULT_PLAYBACK_RATE_STEP,\n          MAX_PLAYBACK_RATE\n        ).toFixed(2);\n        evt = new globalThis.CustomEvent(MediaUIEvents.MEDIA_PLAYBACK_RATE_REQUEST, {\n          composed: true,\n          bubbles: true,\n          detail\n        });\n        this.dispatchEvent(evt);\n        break;\n      }\n      case \"/\":\n      case \"?\": {\n        if (e.shiftKey) {\n          __privateMethod(this, _showKeyboardShortcutsDialog, showKeyboardShortcutsDialog_fn).call(this);\n        }\n        break;\n      }\n      case \"p\": {\n        eventName = this.mediaStore.getState().mediaIsPip ? MediaUIEvents.MEDIA_EXIT_PIP_REQUEST : MediaUIEvents.MEDIA_ENTER_PIP_REQUEST;\n        evt = new globalThis.CustomEvent(eventName, {\n          composed: true,\n          bubbles: true\n        });\n        this.dispatchEvent(evt);\n        break;\n      }\n      default:\n        break;\n    }\n  }\n}\n_hotKeys = new WeakMap();\n_fullscreenElement = new WeakMap();\n_mediaStore = new WeakMap();\n_keyboardShortcutsDialog = new WeakMap();\n_mediaStateCallback = new WeakMap();\n_mediaStoreUnsubscribe = new WeakMap();\n_mediaStateEventHandler = new WeakMap();\n_subtitlesState = new WeakMap();\n_setupDefaultStore = new WeakSet();\nsetupDefaultStore_fn = function() {\n  var _a;\n  this.mediaStore = createMediaStore({\n    media: this.media,\n    fullscreenElement: this.fullscreenElement,\n    options: {\n      defaultSubtitles: this.hasAttribute(Attributes.DEFAULT_SUBTITLES),\n      defaultDuration: this.hasAttribute(Attributes.DEFAULT_DURATION) ? +this.getAttribute(Attributes.DEFAULT_DURATION) : void 0,\n      defaultStreamType: (\n        /** @type {import('./media-store/state-mediator.js').StreamTypeValue} */\n        (_a = this.getAttribute(\n          Attributes.DEFAULT_STREAM_TYPE\n        )) != null ? _a : void 0\n      ),\n      liveEdgeOffset: this.hasAttribute(Attributes.LIVE_EDGE_OFFSET) ? +this.getAttribute(Attributes.LIVE_EDGE_OFFSET) : void 0,\n      seekToLiveOffset: this.hasAttribute(Attributes.SEEK_TO_LIVE_OFFSET) ? +this.getAttribute(Attributes.SEEK_TO_LIVE_OFFSET) : this.hasAttribute(Attributes.LIVE_EDGE_OFFSET) ? +this.getAttribute(Attributes.LIVE_EDGE_OFFSET) : void 0,\n      noAutoSeekToLive: this.hasAttribute(Attributes.NO_AUTO_SEEK_TO_LIVE),\n      // NOTE: This wasn't updated if it was changed later. Should it be? (CJP)\n      noVolumePref: this.hasAttribute(Attributes.NO_VOLUME_PREF),\n      noMutedPref: this.hasAttribute(Attributes.NO_MUTED_PREF),\n      noSubtitlesLangPref: this.hasAttribute(\n        Attributes.NO_SUBTITLES_LANG_PREF\n      )\n    }\n  });\n};\n_keyUpHandler = new WeakSet();\nkeyUpHandler_fn = function(e) {\n  const { key, shiftKey } = e;\n  const isShiftSlash = shiftKey && (key === \"/\" || key === \"?\");\n  const shouldHandle = isShiftSlash || ButtonPressedKeys.includes(key);\n  if (!shouldHandle) {\n    this.removeEventListener(\"keyup\", __privateMethod(this, _keyUpHandler, keyUpHandler_fn));\n    return;\n  }\n  this.keyboardShortcutHandler(e);\n};\n_keyDownHandler = new WeakSet();\nkeyDownHandler_fn = function(e) {\n  var _a;\n  const { metaKey, altKey, key, shiftKey } = e;\n  const isShiftSlash = shiftKey && (key === \"/\" || key === \"?\");\n  if (isShiftSlash && ((_a = __privateGet(this, _keyboardShortcutsDialog)) == null ? void 0 : _a.open)) {\n    this.removeEventListener(\"keyup\", __privateMethod(this, _keyUpHandler, keyUpHandler_fn));\n    return;\n  }\n  if (metaKey || altKey || !isShiftSlash && !ButtonPressedKeys.includes(key)) {\n    this.removeEventListener(\"keyup\", __privateMethod(this, _keyUpHandler, keyUpHandler_fn));\n    return;\n  }\n  const target = e.target;\n  const isRangeInput = target instanceof HTMLElement && (target.tagName.toLowerCase() === \"media-volume-range\" || target.tagName.toLowerCase() === \"media-time-range\");\n  if ([\" \", \"ArrowLeft\", \"ArrowRight\", \"ArrowUp\", \"ArrowDown\"].includes(key) && !(__privateGet(this, _hotKeys).contains(`no${key.toLowerCase()}`) || key === \" \" && __privateGet(this, _hotKeys).contains(\"nospace\")) && !isRangeInput) {\n    e.preventDefault();\n  }\n  this.addEventListener(\"keyup\", __privateMethod(this, _keyUpHandler, keyUpHandler_fn), { once: true });\n};\n_showKeyboardShortcutsDialog = new WeakSet();\nshowKeyboardShortcutsDialog_fn = function() {\n  if (!__privateGet(this, _keyboardShortcutsDialog)) {\n    __privateSet(this, _keyboardShortcutsDialog, document.createElement(\n      \"media-keyboard-shortcuts-dialog\"\n    ));\n    this.appendChild(__privateGet(this, _keyboardShortcutsDialog));\n  }\n  __privateGet(this, _keyboardShortcutsDialog).open = true;\n};\nconst MEDIA_UI_ATTRIBUTE_NAMES = Object.values(MediaUIAttributes);\nconst MEDIA_UI_PROP_NAMES = Object.values(MediaUIProps);\nconst getMediaUIAttributesFrom = (child) => {\n  var _a, _b, _c, _d;\n  let { observedAttributes } = child.constructor;\n  if (!observedAttributes && ((_a = child.nodeName) == null ? void 0 : _a.includes(\"-\"))) {\n    globalThis.customElements.upgrade(child);\n    ({ observedAttributes } = child.constructor);\n  }\n  const mediaChromeAttributesList = (_d = (_c = (_b = child == null ? void 0 : child.getAttribute) == null ? void 0 : _b.call(child, MediaStateReceiverAttributes.MEDIA_CHROME_ATTRIBUTES)) == null ? void 0 : _c.split) == null ? void 0 : _d.call(_c, /\\s+/);\n  if (!Array.isArray(observedAttributes || mediaChromeAttributesList))\n    return [];\n  return (observedAttributes || mediaChromeAttributesList).filter(\n    (attrName) => MEDIA_UI_ATTRIBUTE_NAMES.includes(attrName)\n  );\n};\nconst hasMediaUIProps = (mediaStateReceiverCandidate) => {\n  var _a, _b;\n  if (((_a = mediaStateReceiverCandidate.nodeName) == null ? void 0 : _a.includes(\"-\")) && !!globalThis.customElements.get(\n    (_b = mediaStateReceiverCandidate.nodeName) == null ? void 0 : _b.toLowerCase()\n  ) && !(mediaStateReceiverCandidate instanceof globalThis.customElements.get(\n    mediaStateReceiverCandidate.nodeName.toLowerCase()\n  ))) {\n    globalThis.customElements.upgrade(mediaStateReceiverCandidate);\n  }\n  return MEDIA_UI_PROP_NAMES.some(\n    (propName) => propName in mediaStateReceiverCandidate\n  );\n};\nconst isMediaStateReceiver = (child) => {\n  return hasMediaUIProps(child) || !!getMediaUIAttributesFrom(child).length;\n};\nconst serializeTuple = (tuple) => {\n  var _a;\n  return (_a = tuple == null ? void 0 : tuple.join) == null ? void 0 : _a.call(tuple, \":\");\n};\nconst CustomAttrSerializer = {\n  [MediaUIAttributes.MEDIA_SUBTITLES_LIST]: stringifyTextTrackList,\n  [MediaUIAttributes.MEDIA_SUBTITLES_SHOWING]: stringifyTextTrackList,\n  [MediaUIAttributes.MEDIA_SEEKABLE]: serializeTuple,\n  [MediaUIAttributes.MEDIA_BUFFERED]: (tuples) => tuples == null ? void 0 : tuples.map(serializeTuple).join(\" \"),\n  [MediaUIAttributes.MEDIA_PREVIEW_COORDS]: (coords) => coords == null ? void 0 : coords.join(\" \"),\n  [MediaUIAttributes.MEDIA_RENDITION_LIST]: stringifyRenditionList,\n  [MediaUIAttributes.MEDIA_AUDIO_TRACK_LIST]: stringifyAudioTrackList\n};\nconst setAttr = async (child, attrName, attrValue) => {\n  var _a, _b;\n  if (!child.isConnected) {\n    await delay(0);\n  }\n  if (typeof attrValue === \"boolean\" || attrValue == null) {\n    return setBooleanAttr(child, attrName, attrValue);\n  }\n  if (typeof attrValue === \"number\") {\n    return setNumericAttr(child, attrName, attrValue);\n  }\n  if (typeof attrValue === \"string\") {\n    return setStringAttr(child, attrName, attrValue);\n  }\n  if (Array.isArray(attrValue) && !attrValue.length) {\n    return child.removeAttribute(attrName);\n  }\n  const val = (_b = (_a = CustomAttrSerializer[attrName]) == null ? void 0 : _a.call(CustomAttrSerializer, attrValue)) != null ? _b : attrValue;\n  return child.setAttribute(attrName, val);\n};\nconst isMediaSlotElementDescendant = (el) => {\n  var _a;\n  return !!((_a = el.closest) == null ? void 0 : _a.call(el, '*[slot=\"media\"]'));\n};\nconst traverseForMediaStateReceivers = (rootNode, mediaStateReceiverCallback) => {\n  if (isMediaSlotElementDescendant(rootNode)) {\n    return;\n  }\n  const traverseForMediaStateReceiversSync = (rootNode2, mediaStateReceiverCallback2) => {\n    var _a, _b;\n    if (isMediaStateReceiver(rootNode2)) {\n      mediaStateReceiverCallback2(rootNode2);\n    }\n    const { children = [] } = rootNode2 != null ? rootNode2 : {};\n    const shadowChildren = (_b = (_a = rootNode2 == null ? void 0 : rootNode2.shadowRoot) == null ? void 0 : _a.children) != null ? _b : [];\n    const allChildren = [...children, ...shadowChildren];\n    allChildren.forEach(\n      (child) => traverseForMediaStateReceivers(\n        child,\n        mediaStateReceiverCallback2\n      )\n    );\n  };\n  const name = rootNode == null ? void 0 : rootNode.nodeName.toLowerCase();\n  if (name.includes(\"-\") && !isMediaStateReceiver(rootNode)) {\n    globalThis.customElements.whenDefined(name).then(() => {\n      traverseForMediaStateReceiversSync(rootNode, mediaStateReceiverCallback);\n    });\n    return;\n  }\n  traverseForMediaStateReceiversSync(rootNode, mediaStateReceiverCallback);\n};\nconst propagateMediaState = (els, stateName, val) => {\n  els.forEach((el) => {\n    if (stateName in el) {\n      el[stateName] = val;\n      return;\n    }\n    const relevantAttrs = getMediaUIAttributesFrom(el);\n    const attrName = stateName.toLowerCase();\n    if (!relevantAttrs.includes(attrName))\n      return;\n    setAttr(el, attrName, val);\n  });\n};\nconst monitorForMediaStateReceivers = (rootNode, registerMediaStateReceiver, unregisterMediaStateReceiver) => {\n  traverseForMediaStateReceivers(rootNode, registerMediaStateReceiver);\n  const registerMediaStateReceiverHandler = (evt) => {\n    var _a;\n    const el = (_a = evt == null ? void 0 : evt.composedPath()[0]) != null ? _a : evt.target;\n    registerMediaStateReceiver(el);\n  };\n  const unregisterMediaStateReceiverHandler = (evt) => {\n    var _a;\n    const el = (_a = evt == null ? void 0 : evt.composedPath()[0]) != null ? _a : evt.target;\n    unregisterMediaStateReceiver(el);\n  };\n  rootNode.addEventListener(\n    MediaUIEvents.REGISTER_MEDIA_STATE_RECEIVER,\n    registerMediaStateReceiverHandler\n  );\n  rootNode.addEventListener(\n    MediaUIEvents.UNREGISTER_MEDIA_STATE_RECEIVER,\n    unregisterMediaStateReceiverHandler\n  );\n  const mutationCallback = (mutationsList) => {\n    mutationsList.forEach((mutationRecord) => {\n      const {\n        addedNodes = [],\n        removedNodes = [],\n        type,\n        target,\n        attributeName\n      } = mutationRecord;\n      if (type === \"childList\") {\n        Array.prototype.forEach.call(\n          addedNodes,\n          (node) => traverseForMediaStateReceivers(\n            node,\n            registerMediaStateReceiver\n          )\n        );\n        Array.prototype.forEach.call(\n          removedNodes,\n          (node) => traverseForMediaStateReceivers(\n            node,\n            unregisterMediaStateReceiver\n          )\n        );\n      } else if (type === \"attributes\" && attributeName === MediaStateReceiverAttributes.MEDIA_CHROME_ATTRIBUTES) {\n        if (isMediaStateReceiver(target)) {\n          registerMediaStateReceiver(target);\n        } else {\n          unregisterMediaStateReceiver(target);\n        }\n      }\n    });\n  };\n  let prevSlotted = [];\n  const slotChangeHandler = (event) => {\n    const slotEl = event.target;\n    if (slotEl.name === \"media\")\n      return;\n    prevSlotted.forEach(\n      (node) => traverseForMediaStateReceivers(node, unregisterMediaStateReceiver)\n    );\n    prevSlotted = [\n      ...slotEl.assignedElements({ flatten: true })\n    ];\n    prevSlotted.forEach(\n      (node) => traverseForMediaStateReceivers(node, registerMediaStateReceiver)\n    );\n  };\n  rootNode.addEventListener(\"slotchange\", slotChangeHandler);\n  const observer = new MutationObserver(mutationCallback);\n  observer.observe(rootNode, {\n    childList: true,\n    attributes: true,\n    subtree: true\n  });\n  const unsubscribe = () => {\n    traverseForMediaStateReceivers(rootNode, unregisterMediaStateReceiver);\n    rootNode.removeEventListener(\"slotchange\", slotChangeHandler);\n    observer.disconnect();\n    rootNode.removeEventListener(\n      MediaUIEvents.REGISTER_MEDIA_STATE_RECEIVER,\n      registerMediaStateReceiverHandler\n    );\n    rootNode.removeEventListener(\n      MediaUIEvents.UNREGISTER_MEDIA_STATE_RECEIVER,\n      unregisterMediaStateReceiverHandler\n    );\n  };\n  return unsubscribe;\n};\nif (!globalThis.customElements.get(\"media-controller\")) {\n  globalThis.customElements.define(\"media-controller\", MediaController);\n}\nvar media_controller_default = MediaController;\nexport {\n  Attributes,\n  MediaController,\n  media_controller_default as default\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}