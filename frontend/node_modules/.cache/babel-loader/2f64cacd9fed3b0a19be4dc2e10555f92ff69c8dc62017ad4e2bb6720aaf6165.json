{"ast":null,"code":"var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _rates, _render, render_fn, _onChange, onChange_fn;\nimport { globalThis } from \"../utils/server-safe-globals.js\";\nimport { MediaUIAttributes, MediaUIEvents } from \"../constants.js\";\nimport { AttributeTokenList } from \"../utils/attribute-token-list.js\";\nimport { getNumericAttr, setNumericAttr, getMediaController } from \"../utils/element-utils.js\";\nimport { DEFAULT_RATES, DEFAULT_RATE } from \"../media-playback-rate-button.js\";\nimport { MediaChromeMenu, createMenuItem, createIndicator } from \"./media-chrome-menu.js\";\nconst Attributes = {\n  RATES: \"rates\"\n};\nclass MediaPlaybackRateMenu extends MediaChromeMenu {\n  constructor() {\n    super();\n    __privateAdd(this, _render);\n    __privateAdd(this, _onChange);\n    __privateAdd(this, _rates, new AttributeTokenList(this, Attributes.RATES, {\n      defaultValue: DEFAULT_RATES\n    }));\n    __privateMethod(this, _render, render_fn).call(this);\n  }\n  static get observedAttributes() {\n    return [...super.observedAttributes, MediaUIAttributes.MEDIA_PLAYBACK_RATE, Attributes.RATES];\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === MediaUIAttributes.MEDIA_PLAYBACK_RATE && oldValue != newValue) {\n      this.value = newValue;\n      __privateMethod(this, _render, render_fn).call(this);\n    } else if (attrName === Attributes.RATES && oldValue != newValue) {\n      __privateGet(this, _rates).value = newValue;\n      __privateMethod(this, _render, render_fn).call(this);\n    }\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.addEventListener(\"change\", __privateMethod(this, _onChange, onChange_fn));\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.removeEventListener(\"change\", __privateMethod(this, _onChange, onChange_fn));\n  }\n  /**\n   * Returns the anchor element when it is a floating menu.\n   */\n  get anchorElement() {\n    if (this.anchor !== \"auto\") return super.anchorElement;\n    return getMediaController(this).querySelector(\"media-playback-rate-menu-button\");\n  }\n  /**\n   * Get the playback rates for the button.\n   */\n  get rates() {\n    return __privateGet(this, _rates);\n  }\n  /**\n   * Set the playback rates for the button.\n   * For React 19+ compatibility, accept a string of space-separated rates.\n   */\n  set rates(value) {\n    if (!value) {\n      __privateGet(this, _rates).value = \"\";\n    } else if (Array.isArray(value)) {\n      __privateGet(this, _rates).value = value.join(\" \");\n    } else if (typeof value === \"string\") {\n      __privateGet(this, _rates).value = value;\n    }\n    __privateMethod(this, _render, render_fn).call(this);\n  }\n  /**\n   * The current playback rate\n   */\n  get mediaPlaybackRate() {\n    return getNumericAttr(this, MediaUIAttributes.MEDIA_PLAYBACK_RATE, DEFAULT_RATE);\n  }\n  set mediaPlaybackRate(value) {\n    setNumericAttr(this, MediaUIAttributes.MEDIA_PLAYBACK_RATE, value);\n  }\n}\n_rates = new WeakMap();\n_render = new WeakSet();\nrender_fn = function () {\n  this.defaultSlot.textContent = \"\";\n  const currentRate = this.mediaPlaybackRate;\n  const ratesSet = new Set(Array.from(__privateGet(this, _rates)).map(rate => Number(rate)));\n  if (currentRate > 0 && !ratesSet.has(currentRate)) {\n    ratesSet.add(currentRate);\n  }\n  const sortedRates = Array.from(ratesSet).sort((a, b) => a - b);\n  for (const rate of sortedRates) {\n    const item = createMenuItem({\n      type: \"radio\",\n      text: this.formatMenuItemText(\"\".concat(rate, \"x\"), rate),\n      value: rate.toString(),\n      checked: currentRate === rate\n    });\n    item.prepend(createIndicator(this, \"checked-indicator\"));\n    this.defaultSlot.append(item);\n  }\n};\n_onChange = new WeakSet();\nonChange_fn = function () {\n  if (!this.value) return;\n  const event = new globalThis.CustomEvent(MediaUIEvents.MEDIA_PLAYBACK_RATE_REQUEST, {\n    composed: true,\n    bubbles: true,\n    detail: this.value\n  });\n  this.dispatchEvent(event);\n};\nif (!globalThis.customElements.get(\"media-playback-rate-menu\")) {\n  globalThis.customElements.define(\"media-playback-rate-menu\", MediaPlaybackRateMenu);\n}\nvar media_playback_rate_menu_default = MediaPlaybackRateMenu;\nexport { Attributes, MediaPlaybackRateMenu, media_playback_rate_menu_default as default };","map":{"version":3,"names":["__accessCheck","obj","member","msg","has","TypeError","__privateGet","getter","call","get","__privateAdd","value","WeakSet","add","set","__privateMethod","method","_rates","_render","render_fn","_onChange","onChange_fn","globalThis","MediaUIAttributes","MediaUIEvents","AttributeTokenList","getNumericAttr","setNumericAttr","getMediaController","DEFAULT_RATES","DEFAULT_RATE","MediaChromeMenu","createMenuItem","createIndicator","Attributes","RATES","MediaPlaybackRateMenu","constructor","defaultValue","observedAttributes","MEDIA_PLAYBACK_RATE","attributeChangedCallback","attrName","oldValue","newValue","connectedCallback","addEventListener","disconnectedCallback","removeEventListener","anchorElement","anchor","querySelector","rates","Array","isArray","join","mediaPlaybackRate","WeakMap","defaultSlot","textContent","currentRate","ratesSet","Set","from","map","rate","Number","sortedRates","sort","a","b","item","type","text","formatMenuItemText","concat","toString","checked","prepend","append","event","CustomEvent","MEDIA_PLAYBACK_RATE_REQUEST","composed","bubbles","detail","dispatchEvent","customElements","define","media_playback_rate_menu_default","default"],"sources":["/app/frontend/node_modules/media-chrome/dist/menu/media-playback-rate-menu.js"],"sourcesContent":["var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _rates, _render, render_fn, _onChange, onChange_fn;\nimport { globalThis } from \"../utils/server-safe-globals.js\";\nimport { MediaUIAttributes, MediaUIEvents } from \"../constants.js\";\nimport { AttributeTokenList } from \"../utils/attribute-token-list.js\";\nimport {\n  getNumericAttr,\n  setNumericAttr,\n  getMediaController\n} from \"../utils/element-utils.js\";\nimport { DEFAULT_RATES, DEFAULT_RATE } from \"../media-playback-rate-button.js\";\nimport {\n  MediaChromeMenu,\n  createMenuItem,\n  createIndicator\n} from \"./media-chrome-menu.js\";\nconst Attributes = {\n  RATES: \"rates\"\n};\nclass MediaPlaybackRateMenu extends MediaChromeMenu {\n  constructor() {\n    super();\n    __privateAdd(this, _render);\n    __privateAdd(this, _onChange);\n    __privateAdd(this, _rates, new AttributeTokenList(this, Attributes.RATES, {\n      defaultValue: DEFAULT_RATES\n    }));\n    __privateMethod(this, _render, render_fn).call(this);\n  }\n  static get observedAttributes() {\n    return [\n      ...super.observedAttributes,\n      MediaUIAttributes.MEDIA_PLAYBACK_RATE,\n      Attributes.RATES\n    ];\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === MediaUIAttributes.MEDIA_PLAYBACK_RATE && oldValue != newValue) {\n      this.value = newValue;\n      __privateMethod(this, _render, render_fn).call(this);\n    } else if (attrName === Attributes.RATES && oldValue != newValue) {\n      __privateGet(this, _rates).value = newValue;\n      __privateMethod(this, _render, render_fn).call(this);\n    }\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.addEventListener(\"change\", __privateMethod(this, _onChange, onChange_fn));\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.removeEventListener(\"change\", __privateMethod(this, _onChange, onChange_fn));\n  }\n  /**\n   * Returns the anchor element when it is a floating menu.\n   */\n  get anchorElement() {\n    if (this.anchor !== \"auto\")\n      return super.anchorElement;\n    return getMediaController(this).querySelector(\n      \"media-playback-rate-menu-button\"\n    );\n  }\n  /**\n   * Get the playback rates for the button.\n   */\n  get rates() {\n    return __privateGet(this, _rates);\n  }\n  /**\n   * Set the playback rates for the button.\n   * For React 19+ compatibility, accept a string of space-separated rates.\n   */\n  set rates(value) {\n    if (!value) {\n      __privateGet(this, _rates).value = \"\";\n    } else if (Array.isArray(value)) {\n      __privateGet(this, _rates).value = value.join(\" \");\n    } else if (typeof value === \"string\") {\n      __privateGet(this, _rates).value = value;\n    }\n    __privateMethod(this, _render, render_fn).call(this);\n  }\n  /**\n   * The current playback rate\n   */\n  get mediaPlaybackRate() {\n    return getNumericAttr(\n      this,\n      MediaUIAttributes.MEDIA_PLAYBACK_RATE,\n      DEFAULT_RATE\n    );\n  }\n  set mediaPlaybackRate(value) {\n    setNumericAttr(this, MediaUIAttributes.MEDIA_PLAYBACK_RATE, value);\n  }\n}\n_rates = new WeakMap();\n_render = new WeakSet();\nrender_fn = function() {\n  this.defaultSlot.textContent = \"\";\n  const currentRate = this.mediaPlaybackRate;\n  const ratesSet = new Set(Array.from(__privateGet(this, _rates)).map((rate) => Number(rate)));\n  if (currentRate > 0 && !ratesSet.has(currentRate)) {\n    ratesSet.add(currentRate);\n  }\n  const sortedRates = Array.from(ratesSet).sort((a, b) => a - b);\n  for (const rate of sortedRates) {\n    const item = createMenuItem({\n      type: \"radio\",\n      text: this.formatMenuItemText(`${rate}x`, rate),\n      value: rate.toString(),\n      checked: currentRate === rate\n    });\n    item.prepend(createIndicator(this, \"checked-indicator\"));\n    this.defaultSlot.append(item);\n  }\n};\n_onChange = new WeakSet();\nonChange_fn = function() {\n  if (!this.value)\n    return;\n  const event = new globalThis.CustomEvent(\n    MediaUIEvents.MEDIA_PLAYBACK_RATE_REQUEST,\n    {\n      composed: true,\n      bubbles: true,\n      detail: this.value\n    }\n  );\n  this.dispatchEvent(event);\n};\nif (!globalThis.customElements.get(\"media-playback-rate-menu\")) {\n  globalThis.customElements.define(\n    \"media-playback-rate-menu\",\n    MediaPlaybackRateMenu\n  );\n}\nvar media_playback_rate_menu_default = MediaPlaybackRateMenu;\nexport {\n  Attributes,\n  MediaPlaybackRateMenu,\n  media_playback_rate_menu_default as default\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}