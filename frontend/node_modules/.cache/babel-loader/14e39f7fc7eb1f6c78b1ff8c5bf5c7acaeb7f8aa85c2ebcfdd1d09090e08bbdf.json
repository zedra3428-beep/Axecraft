{"ast":null,"code":"import { globalThis } from \"../utils/server-safe-globals.js\";\nimport { MediaUIAttributes } from \"../constants.js\";\nimport { MediaChromeMenuButton } from \"./media-chrome-menu-button.js\";\nimport { getNumericAttr, setNumericAttr, getMediaController } from \"../utils/element-utils.js\";\nimport { t } from \"../utils/i18n.js\";\nconst DEFAULT_RATE = 1;\nfunction getSlotTemplateHTML(attrs) {\n  return /*html*/`\n    <style>\n      :host {\n        min-width: 5ch;\n        padding: var(--media-button-padding, var(--media-control-padding, 10px 5px));\n      }\n      \n      :host([aria-expanded=\"true\"]) slot {\n        display: block;\n      }\n\n      :host([aria-expanded=\"true\"]) slot[name=tooltip] {\n        display: none;\n      }\n    </style>\n    <slot name=\"icon\">${attrs[\"mediaplaybackrate\"] || DEFAULT_RATE}x</slot>\n  `;\n}\nfunction getTooltipContentHTML() {\n  return t(\"Playback rate\");\n}\nclass MediaPlaybackRateMenuButton extends MediaChromeMenuButton {\n  static get observedAttributes() {\n    return [...super.observedAttributes, MediaUIAttributes.MEDIA_PLAYBACK_RATE];\n  }\n  constructor() {\n    var _a;\n    super();\n    this.container = this.shadowRoot.querySelector('slot[name=\"icon\"]');\n    this.container.innerHTML = `${(_a = this.mediaPlaybackRate) != null ? _a : DEFAULT_RATE}x`;\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === MediaUIAttributes.MEDIA_PLAYBACK_RATE) {\n      const newPlaybackRate = newValue ? +newValue : Number.NaN;\n      const playbackRate = !Number.isNaN(newPlaybackRate) ? newPlaybackRate : DEFAULT_RATE;\n      this.container.innerHTML = `${playbackRate}x`;\n      this.setAttribute(\"aria-label\", t(\"Playback rate {playbackRate}\", {\n        playbackRate\n      }));\n    }\n  }\n  /**\n   * Returns the element with the id specified by the `invoketarget` attribute.\n   */\n  get invokeTargetElement() {\n    if (this.invokeTarget != void 0) return super.invokeTargetElement;\n    return getMediaController(this).querySelector(\"media-playback-rate-menu\");\n  }\n  /**\n   * The current playback rate\n   */\n  get mediaPlaybackRate() {\n    return getNumericAttr(this, MediaUIAttributes.MEDIA_PLAYBACK_RATE, DEFAULT_RATE);\n  }\n  set mediaPlaybackRate(value) {\n    setNumericAttr(this, MediaUIAttributes.MEDIA_PLAYBACK_RATE, value);\n  }\n}\nMediaPlaybackRateMenuButton.getSlotTemplateHTML = getSlotTemplateHTML;\nMediaPlaybackRateMenuButton.getTooltipContentHTML = getTooltipContentHTML;\nif (!globalThis.customElements.get(\"media-playback-rate-menu-button\")) {\n  globalThis.customElements.define(\"media-playback-rate-menu-button\", MediaPlaybackRateMenuButton);\n}\nvar media_playback_rate_menu_button_default = MediaPlaybackRateMenuButton;\nexport { DEFAULT_RATE, MediaPlaybackRateMenuButton, media_playback_rate_menu_button_default as default };","map":{"version":3,"names":["globalThis","MediaUIAttributes","MediaChromeMenuButton","getNumericAttr","setNumericAttr","getMediaController","t","DEFAULT_RATE","getSlotTemplateHTML","attrs","getTooltipContentHTML","MediaPlaybackRateMenuButton","observedAttributes","MEDIA_PLAYBACK_RATE","constructor","_a","container","shadowRoot","querySelector","innerHTML","mediaPlaybackRate","attributeChangedCallback","attrName","oldValue","newValue","newPlaybackRate","Number","NaN","playbackRate","isNaN","setAttribute","invokeTargetElement","invokeTarget","value","customElements","get","define","media_playback_rate_menu_button_default","default"],"sources":["/app/frontend/node_modules/media-chrome/dist/menu/media-playback-rate-menu-button.js"],"sourcesContent":["import { globalThis } from \"../utils/server-safe-globals.js\";\nimport { MediaUIAttributes } from \"../constants.js\";\nimport { MediaChromeMenuButton } from \"./media-chrome-menu-button.js\";\nimport {\n  getNumericAttr,\n  setNumericAttr,\n  getMediaController\n} from \"../utils/element-utils.js\";\nimport { t } from \"../utils/i18n.js\";\nconst DEFAULT_RATE = 1;\nfunction getSlotTemplateHTML(attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host {\n        min-width: 5ch;\n        padding: var(--media-button-padding, var(--media-control-padding, 10px 5px));\n      }\n      \n      :host([aria-expanded=\"true\"]) slot {\n        display: block;\n      }\n\n      :host([aria-expanded=\"true\"]) slot[name=tooltip] {\n        display: none;\n      }\n    </style>\n    <slot name=\"icon\">${attrs[\"mediaplaybackrate\"] || DEFAULT_RATE}x</slot>\n  `\n  );\n}\nfunction getTooltipContentHTML() {\n  return t(\"Playback rate\");\n}\nclass MediaPlaybackRateMenuButton extends MediaChromeMenuButton {\n  static get observedAttributes() {\n    return [\n      ...super.observedAttributes,\n      MediaUIAttributes.MEDIA_PLAYBACK_RATE\n    ];\n  }\n  constructor() {\n    var _a;\n    super();\n    this.container = this.shadowRoot.querySelector('slot[name=\"icon\"]');\n    this.container.innerHTML = `${(_a = this.mediaPlaybackRate) != null ? _a : DEFAULT_RATE}x`;\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n    if (attrName === MediaUIAttributes.MEDIA_PLAYBACK_RATE) {\n      const newPlaybackRate = newValue ? +newValue : Number.NaN;\n      const playbackRate = !Number.isNaN(newPlaybackRate) ? newPlaybackRate : DEFAULT_RATE;\n      this.container.innerHTML = `${playbackRate}x`;\n      this.setAttribute(\n        \"aria-label\",\n        t(\"Playback rate {playbackRate}\", { playbackRate })\n      );\n    }\n  }\n  /**\n   * Returns the element with the id specified by the `invoketarget` attribute.\n   */\n  get invokeTargetElement() {\n    if (this.invokeTarget != void 0)\n      return super.invokeTargetElement;\n    return getMediaController(this).querySelector(\"media-playback-rate-menu\");\n  }\n  /**\n   * The current playback rate\n   */\n  get mediaPlaybackRate() {\n    return getNumericAttr(\n      this,\n      MediaUIAttributes.MEDIA_PLAYBACK_RATE,\n      DEFAULT_RATE\n    );\n  }\n  set mediaPlaybackRate(value) {\n    setNumericAttr(this, MediaUIAttributes.MEDIA_PLAYBACK_RATE, value);\n  }\n}\nMediaPlaybackRateMenuButton.getSlotTemplateHTML = getSlotTemplateHTML;\nMediaPlaybackRateMenuButton.getTooltipContentHTML = getTooltipContentHTML;\nif (!globalThis.customElements.get(\"media-playback-rate-menu-button\")) {\n  globalThis.customElements.define(\n    \"media-playback-rate-menu-button\",\n    MediaPlaybackRateMenuButton\n  );\n}\nvar media_playback_rate_menu_button_default = MediaPlaybackRateMenuButton;\nexport {\n  DEFAULT_RATE,\n  MediaPlaybackRateMenuButton,\n  media_playback_rate_menu_button_default as default\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}