{"ast":null,"code":"import { press, frame } from 'motion-dom';\nimport { extractEventInfo } from '../events/event-info.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\nfunction handlePressEvent(node, event, lifecycle) {\n  const {\n    props\n  } = node;\n  if (node.current instanceof HTMLButtonElement && node.current.disabled) {\n    return;\n  }\n  if (node.animationState && props.whileTap) {\n    node.animationState.setActive(\"whileTap\", lifecycle === \"Start\");\n  }\n  const eventName = \"onTap\" + (lifecycle === \"End\" ? \"\" : lifecycle);\n  const callback = props[eventName];\n  if (callback) {\n    frame.postRender(() => callback(event, extractEventInfo(event)));\n  }\n}\nclass PressGesture extends Feature {\n  mount() {\n    const {\n      current\n    } = this.node;\n    if (!current) return;\n    this.unmount = press(current, (_element, startEvent) => {\n      handlePressEvent(this.node, startEvent, \"Start\");\n      return (endEvent, _ref) => {\n        let {\n          success\n        } = _ref;\n        return handlePressEvent(this.node, endEvent, success ? \"End\" : \"Cancel\");\n      };\n    }, {\n      useGlobalTarget: this.node.props.globalTapTarget\n    });\n  }\n  unmount() {}\n}\nexport { PressGesture };","map":{"version":3,"names":["handlePressEvent","node","event","lifecycle","props","current","HTMLButtonElement","disabled","animationState","whileTap","setActive","eventName","callback","frame","postRender","extractEventInfo","PressGesture","Feature","mount","unmount","press","_element","startEvent","endEvent","_ref","success","useGlobalTarget","globalTapTarget"],"sources":["/app/frontend/node_modules/framer-motion/src/gestures/press.ts"],"sourcesContent":["import { frame, press } from \"motion-dom\"\nimport { extractEventInfo } from \"../events/event-info\"\nimport { Feature } from \"../motion/features/Feature\"\nimport { VisualElement } from \"../render/VisualElement\"\n\nfunction handlePressEvent(\n    node: VisualElement<Element>,\n    event: PointerEvent,\n    lifecycle: \"Start\" | \"End\" | \"Cancel\"\n) {\n    const { props } = node\n\n    if (node.current instanceof HTMLButtonElement && node.current.disabled) {\n        return\n    }\n\n    if (node.animationState && props.whileTap) {\n        node.animationState.setActive(\"whileTap\", lifecycle === \"Start\")\n    }\n\n    const eventName = (\"onTap\" + (lifecycle === \"End\" ? \"\" : lifecycle)) as\n        | \"onTapStart\"\n        | \"onTap\"\n        | \"onTapCancel\"\n\n    const callback = props[eventName]\n    if (callback) {\n        frame.postRender(() => callback(event, extractEventInfo(event)))\n    }\n}\n\nexport class PressGesture extends Feature<Element> {\n    mount() {\n        const { current } = this.node\n        if (!current) return\n\n        this.unmount = press(\n            current,\n            (_element, startEvent) => {\n                handlePressEvent(this.node, startEvent, \"Start\")\n\n                return (endEvent, { success }) =>\n                    handlePressEvent(\n                        this.node,\n                        endEvent,\n                        success ? \"End\" : \"Cancel\"\n                    )\n            },\n            { useGlobalTarget: this.node.props.globalTapTarget }\n        )\n    }\n\n    unmount() {}\n}\n"],"mappings":";;;AAKA,SAASA,gBAAgBA,CACrBC,IAA4B,EAC5BC,KAAmB,EACnBC,SAAqC;EAErC,MAAM;IAAEC;EAAK,CAAE,GAAGH,IAAI;EAEtB,IAAIA,IAAI,CAACI,OAAO,YAAYC,iBAAiB,IAAIL,IAAI,CAACI,OAAO,CAACE,QAAQ,EAAE;IACpE;;EAGJ,IAAIN,IAAI,CAACO,cAAc,IAAIJ,KAAK,CAACK,QAAQ,EAAE;IACvCR,IAAI,CAACO,cAAc,CAACE,SAAS,CAAC,UAAU,EAAEP,SAAS,KAAK,OAAO,CAAC;;EAGpE,MAAMQ,SAAS,GAAI,OAAO,IAAIR,SAAS,KAAK,KAAK,GAAG,EAAE,GAAGA,SAAS,CAG/C;EAEnB,MAAMS,QAAQ,GAAGR,KAAK,CAACO,SAAS,CAAC;EACjC,IAAIC,QAAQ,EAAE;IACVC,KAAK,CAACC,UAAU,CAAC,MAAMF,QAAQ,CAACV,KAAK,EAAEa,gBAAgB,CAACb,KAAK,CAAC,CAAC,CAAC;;AAExE;AAEM,MAAOc,YAAa,SAAQC,OAAgB;EAC9CC,KAAKA,CAAA;IACD,MAAM;MAAEb;IAAO,CAAE,GAAG,IAAI,CAACJ,IAAI;IAC7B,IAAI,CAACI,OAAO,EAAE;IAEd,IAAI,CAACc,OAAO,GAAGC,KAAK,CAChBf,OAAO,EACP,CAACgB,QAAQ,EAAEC,UAAU,KAAI;MACrBtB,gBAAgB,CAAC,IAAI,CAACC,IAAI,EAAEqB,UAAU,EAAE,OAAO,CAAC;MAEhD,OAAO,CAACC,QAAQ,EAAAC,IAAA;QAAA,IAAE;UAAEC;QAAO,CAAE,GAAAD,IAAA;QAAA,OACzBxB,gBAAgB,CACZ,IAAI,CAACC,IAAI,EACTsB,QAAQ,EACRE,OAAO,GAAG,KAAK,GAAG,QAAQ,CAC7B;MAAA;IACT,CAAC,EACD;MAAEC,eAAe,EAAE,IAAI,CAACzB,IAAI,CAACG,KAAK,CAACuB;IAAe,CAAE,CACvD;;EAGLR,OAAOA,CAAA;AACV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}