{"ast":null,"code":"\"use client\";\n\nimport _objectSpread from \"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"container\", \"target\"];\nimport { motionValue } from 'motion-dom';\nimport { invariant } from 'motion-utils';\nimport { useRef, useCallback, useEffect } from 'react';\nimport { scroll } from '../render/dom/scroll/index.mjs';\nimport { useConstant } from '../utils/use-constant.mjs';\nimport { useIsomorphicLayoutEffect } from '../utils/use-isomorphic-effect.mjs';\nconst createScrollMotionValues = () => ({\n  scrollX: motionValue(0),\n  scrollY: motionValue(0),\n  scrollXProgress: motionValue(0),\n  scrollYProgress: motionValue(0)\n});\nconst isRefPending = ref => {\n  if (!ref) return false;\n  return !ref.current;\n};\nfunction useScroll() {\n  let _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    {\n      container,\n      target\n    } = _ref,\n    options = _objectWithoutProperties(_ref, _excluded);\n  const values = useConstant(createScrollMotionValues);\n  const scrollAnimation = useRef(null);\n  const needsStart = useRef(false);\n  const start = useCallback(() => {\n    scrollAnimation.current = scroll((_progress, _ref2) => {\n      let {\n        x,\n        y\n      } = _ref2;\n      values.scrollX.set(x.current);\n      values.scrollXProgress.set(x.progress);\n      values.scrollY.set(y.current);\n      values.scrollYProgress.set(y.progress);\n    }, _objectSpread(_objectSpread({}, options), {}, {\n      container: (container === null || container === void 0 ? void 0 : container.current) || undefined,\n      target: (target === null || target === void 0 ? void 0 : target.current) || undefined\n    }));\n    return () => {\n      var _scrollAnimation$curr;\n      (_scrollAnimation$curr = scrollAnimation.current) === null || _scrollAnimation$curr === void 0 || _scrollAnimation$curr.call(scrollAnimation);\n    };\n  }, [container, target, JSON.stringify(options.offset)]);\n  useIsomorphicLayoutEffect(() => {\n    needsStart.current = false;\n    if (isRefPending(container) || isRefPending(target)) {\n      needsStart.current = true;\n      return;\n    } else {\n      return start();\n    }\n  }, [start]);\n  useEffect(() => {\n    if (needsStart.current) {\n      invariant(!isRefPending(container), \"Container ref is defined but not hydrated\", \"use-scroll-ref\");\n      invariant(!isRefPending(target), \"Target ref is defined but not hydrated\", \"use-scroll-ref\");\n      return start();\n    } else {\n      return;\n    }\n  }, [start]);\n  return values;\n}\nexport { useScroll };","map":{"version":3,"names":["createScrollMotionValues","scrollX","motionValue","scrollY","scrollXProgress","scrollYProgress","isRefPending","ref","current","useScroll","_ref","arguments","length","undefined","container","target","options","_objectWithoutProperties","_excluded","values","useConstant","scrollAnimation","useRef","needsStart","start","useCallback","scroll","_progress","_ref2","x","y","_objectSpread","_scrollAnimation$curr","call","JSON","stringify","offset"],"sources":["/app/frontend/node_modules/framer-motion/src/value/use-scroll.ts"],"sourcesContent":["\"use client\"\n\nimport { motionValue } from \"motion-dom\"\nimport { invariant } from \"motion-utils\"\nimport { RefObject, useCallback, useEffect, useRef } from \"react\"\nimport { scroll } from \"../render/dom/scroll\"\nimport { ScrollInfoOptions } from \"../render/dom/scroll/types\"\nimport { useConstant } from \"../utils/use-constant\"\nimport { useIsomorphicLayoutEffect } from \"../utils/use-isomorphic-effect\"\n\nexport interface UseScrollOptions\n    extends Omit<ScrollInfoOptions, \"container\" | \"target\"> {\n    container?: RefObject<HTMLElement | null>\n    target?: RefObject<HTMLElement | null>\n}\n\nconst createScrollMotionValues = () => ({\n    scrollX: motionValue(0),\n    scrollY: motionValue(0),\n    scrollXProgress: motionValue(0),\n    scrollYProgress: motionValue(0),\n})\n\nconst isRefPending = (ref?: RefObject<HTMLElement | null>) => {\n    if (!ref) return false\n    return !ref.current\n}\n\nexport function useScroll({\n    container,\n    target,\n    ...options\n}: UseScrollOptions = {}) {\n    const values = useConstant(createScrollMotionValues)\n    const scrollAnimation = useRef<VoidFunction | null>(null)\n    const needsStart = useRef(false)\n\n    const start = useCallback(() => {\n        scrollAnimation.current = scroll(\n            (\n                _progress: number,\n                {\n                    x,\n                    y,\n                }: {\n                    x: { current: number; progress: number }\n                    y: { current: number; progress: number }\n                }\n            ) => {\n                values.scrollX.set(x.current)\n                values.scrollXProgress.set(x.progress)\n                values.scrollY.set(y.current)\n                values.scrollYProgress.set(y.progress)\n            },\n            {\n                ...options,\n                container: container?.current || undefined,\n                target: target?.current || undefined,\n            }\n        )\n\n        return () => {\n            scrollAnimation.current?.()\n        }\n    }, [container, target, JSON.stringify(options.offset)])\n\n    useIsomorphicLayoutEffect(() => {\n        needsStart.current = false\n\n        if (isRefPending(container) || isRefPending(target)) {\n            needsStart.current = true\n            return\n        } else {\n            return start()\n        }\n    }, [start])\n\n    useEffect(() => {\n        if (needsStart.current) {\n            invariant(\n                !isRefPending(container),\n                \"Container ref is defined but not hydrated\",\n                \"use-scroll-ref\"\n            )\n            invariant(\n                !isRefPending(target),\n                \"Target ref is defined but not hydrated\",\n                \"use-scroll-ref\"\n            )\n            return start()\n        } else {\n            return\n        }\n    }, [start])\n\n    return values\n}\n"],"mappings":";;;;;;;;;;;AAgBA,MAAAA,wBAAA,GAAAA,CAAA;EACIC,OAAA,EAAAC,WAAA;EACAC,OAAA,EAAAD,WAAA;EACAE,eAAA,EAAAF,WAAA;EACAG,eAAA,EAAAH,WAAA;AACH;AAED,MAAAI,YAAA,GAAAC,GAAA;EACI,KAAAA,GAAA,EAAU;EACV,QAAAA,GAAA,CAAAC,OAAA;AACJ;AAEM,SAAAC,UAAA;EAAA,IAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA;IAAA;MAAAG,SAAA;MAAAC;IAAA,IAAAL,IAAA;IAAAM,OAAA,GAAAC,wBAAA,CAAAP,IAAA,EAAAQ,SAAA;EAKF,MAAAC,MAAA,GAAAC,WAAA,CAAApB,wBAAA;EACA,MAAAqB,eAAA,GAAAC,MAAA;EACA,MAAAC,UAAA,GAAAD,MAAA;EAEA,MAAAE,KAAA,GAAAC,WAAA;IACIJ,eAAA,CAAAb,OAAA,GAAAkB,MAAA,EAAAC,SAAA,EAAAC,KAAA;MAAA;QAAAC,CAAA;QAAAC;MAAA,IAAAF,KAAA;;;;;IAeI,GAAAG,aAAA,CAAAA,aAAA,KAEIf,OAAA;MACAF,SAAA,GAAAA,SAAA,aAAAA,SAAA,uBAAAA,SAAA,CAAAN,OAAA,KAAAK,SAAA;MACAE,MAAA,GAAAA,MAAA,aAAAA,MAAA,uBAAAA,MAAA,CAAAP,OAAA,KAAAK;IAAA,EACH;IAGL;MAAA,IAAAmB,qBAAA;MACI,CAAAA,qBAAA,GAAAX,eAAA,CAAAb,OAAA,cAAAwB,qBAAA,eAAAA,qBAAA,CAAAC,IAAA,CAAAZ,eAAA;IACJ;EACJ,IAAAP,SAAA,EAAAC,MAAA,EAAAmB,IAAA,CAAAC,SAAA,CAAAnB,OAAA,CAAAoB,MAAA;;IAGIb,UAAA,CAAAf,OAAA;;MAGIe,UAAA,CAAAf,OAAA;;;;;EAKR,IAAAgB,KAAA;;IAGI,IAAAD,UAAA,CAAAf,OAAA;;;;;;;EAeJ,IAAAgB,KAAA;EAEA,OAAAL,MAAA;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}