{"ast":null,"code":"import React, { useCallback, useEffect, useRef } from \"react\";\nconst Player = React.forwardRef((props, ref) => {\n  const {\n    playing,\n    pip\n  } = props;\n  const Player2 = props.activePlayer;\n  const playerRef = useRef(null);\n  const startOnPlayRef = useRef(true);\n  useEffect(() => {\n    var _a, _b;\n    if (!playerRef.current) return;\n    if (playerRef.current.paused && playing === true) {\n      playerRef.current.play();\n    }\n    if (!playerRef.current.paused && playing === false) {\n      playerRef.current.pause();\n    }\n    playerRef.current.playbackRate = (_a = props.playbackRate) != null ? _a : 1;\n    playerRef.current.volume = (_b = props.volume) != null ? _b : 1;\n  });\n  useEffect(() => {\n    var _a, _b, _c, _d, _e;\n    if (!playerRef.current || !globalThis.document) return;\n    if (pip && !document.pictureInPictureElement) {\n      try {\n        (_b = (_a = playerRef.current).requestPictureInPicture) == null ? void 0 : _b.call(_a);\n      } catch (err) {}\n    }\n    if (!pip && document.pictureInPictureElement) {\n      try {\n        (_d = (_c = playerRef.current).exitPictureInPicture) == null ? void 0 : _d.call(_c);\n        (_e = document.exitPictureInPicture) == null ? void 0 : _e.call(document);\n      } catch (err) {}\n    }\n  }, [pip]);\n  const handleLoadStart = event => {\n    var _a, _b;\n    startOnPlayRef.current = true;\n    (_a = props.onReady) == null ? void 0 : _a.call(props);\n    (_b = props.onLoadStart) == null ? void 0 : _b.call(props, event);\n  };\n  const handlePlay = event => {\n    var _a, _b;\n    if (startOnPlayRef.current) {\n      startOnPlayRef.current = false;\n      (_a = props.onStart) == null ? void 0 : _a.call(props, event);\n    }\n    (_b = props.onPlay) == null ? void 0 : _b.call(props, event);\n  };\n  if (!Player2) {\n    return null;\n  }\n  const eventProps = {};\n  const reactPlayerEventHandlers = [\"onReady\", \"onStart\"];\n  for (const key in props) {\n    if (key.startsWith(\"on\") && !reactPlayerEventHandlers.includes(key)) {\n      eventProps[key] = props[key];\n    }\n  }\n  return /* @__PURE__ */React.createElement(Player2, {\n    ...eventProps,\n    style: props.style,\n    className: props.className,\n    slot: props.slot,\n    ref: useCallback(node => {\n      playerRef.current = node;\n      if (typeof ref === \"function\") {\n        ref(node);\n      } else if (ref !== null) {\n        ref.current = node;\n      }\n    }, [ref]),\n    src: props.src,\n    crossOrigin: props.crossOrigin,\n    preload: props.preload,\n    controls: props.controls,\n    muted: props.muted,\n    autoPlay: props.autoPlay,\n    loop: props.loop,\n    playsInline: props.playsInline,\n    disableRemotePlayback: props.disableRemotePlayback,\n    config: props.config,\n    onLoadStart: handleLoadStart,\n    onPlay: handlePlay\n  }, props.children);\n});\nPlayer.displayName = \"Player\";\nvar Player_default = Player;\nexport { Player_default as default };","map":{"version":3,"names":["React","useCallback","useEffect","useRef","Player","forwardRef","props","ref","playing","pip","Player2","activePlayer","playerRef","startOnPlayRef","_a","_b","current","paused","play","pause","playbackRate","volume","_c","_d","_e","globalThis","document","pictureInPictureElement","requestPictureInPicture","call","err","exitPictureInPicture","handleLoadStart","event","onReady","onLoadStart","handlePlay","onStart","onPlay","eventProps","reactPlayerEventHandlers","key","startsWith","includes","createElement","style","className","slot","node","src","crossOrigin","preload","controls","muted","autoPlay","loop","playsInline","disableRemotePlayback","config","children","displayName","Player_default","default"],"sources":["/app/frontend/node_modules/react-player/dist/Player.js"],"sourcesContent":["import React, { useCallback, useEffect, useRef } from \"react\";\nconst Player = React.forwardRef((props, ref) => {\n  const { playing, pip } = props;\n  const Player2 = props.activePlayer;\n  const playerRef = useRef(null);\n  const startOnPlayRef = useRef(true);\n  useEffect(() => {\n    var _a, _b;\n    if (!playerRef.current) return;\n    if (playerRef.current.paused && playing === true) {\n      playerRef.current.play();\n    }\n    if (!playerRef.current.paused && playing === false) {\n      playerRef.current.pause();\n    }\n    playerRef.current.playbackRate = (_a = props.playbackRate) != null ? _a : 1;\n    playerRef.current.volume = (_b = props.volume) != null ? _b : 1;\n  });\n  useEffect(() => {\n    var _a, _b, _c, _d, _e;\n    if (!playerRef.current || !globalThis.document) return;\n    if (pip && !document.pictureInPictureElement) {\n      try {\n        (_b = (_a = playerRef.current).requestPictureInPicture) == null ? void 0 : _b.call(_a);\n      } catch (err) {\n      }\n    }\n    if (!pip && document.pictureInPictureElement) {\n      try {\n        (_d = (_c = playerRef.current).exitPictureInPicture) == null ? void 0 : _d.call(_c);\n        (_e = document.exitPictureInPicture) == null ? void 0 : _e.call(document);\n      } catch (err) {\n      }\n    }\n  }, [pip]);\n  const handleLoadStart = (event) => {\n    var _a, _b;\n    startOnPlayRef.current = true;\n    (_a = props.onReady) == null ? void 0 : _a.call(props);\n    (_b = props.onLoadStart) == null ? void 0 : _b.call(props, event);\n  };\n  const handlePlay = (event) => {\n    var _a, _b;\n    if (startOnPlayRef.current) {\n      startOnPlayRef.current = false;\n      (_a = props.onStart) == null ? void 0 : _a.call(props, event);\n    }\n    (_b = props.onPlay) == null ? void 0 : _b.call(props, event);\n  };\n  if (!Player2) {\n    return null;\n  }\n  const eventProps = {};\n  const reactPlayerEventHandlers = [\"onReady\", \"onStart\"];\n  for (const key in props) {\n    if (key.startsWith(\"on\") && !reactPlayerEventHandlers.includes(key)) {\n      eventProps[key] = props[key];\n    }\n  }\n  return /* @__PURE__ */ React.createElement(\n    Player2,\n    {\n      ...eventProps,\n      style: props.style,\n      className: props.className,\n      slot: props.slot,\n      ref: useCallback(\n        (node) => {\n          playerRef.current = node;\n          if (typeof ref === \"function\") {\n            ref(node);\n          } else if (ref !== null) {\n            ref.current = node;\n          }\n        },\n        [ref]\n      ),\n      src: props.src,\n      crossOrigin: props.crossOrigin,\n      preload: props.preload,\n      controls: props.controls,\n      muted: props.muted,\n      autoPlay: props.autoPlay,\n      loop: props.loop,\n      playsInline: props.playsInline,\n      disableRemotePlayback: props.disableRemotePlayback,\n      config: props.config,\n      onLoadStart: handleLoadStart,\n      onPlay: handlePlay\n    },\n    props.children\n  );\n});\nPlayer.displayName = \"Player\";\nvar Player_default = Player;\nexport {\n  Player_default as default\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}