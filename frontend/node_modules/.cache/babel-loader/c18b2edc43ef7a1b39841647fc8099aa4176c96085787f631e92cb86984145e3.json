{"ast":null,"code":"import React,{createContext,useContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const ThemeContext=/*#__PURE__*/createContext();export const useTheme=()=>{const context=useContext(ThemeContext);if(!context){throw new Error('useTheme must be used within a ThemeProvider');}return context;};export const ThemeProvider=_ref=>{let{children}=_ref;const[timeOfDay,setTimeOfDay]=useState('day');const[scrollProgress,setScrollProgress]=useState(0);const[manualOverride,setManualOverride]=useState(null);// Determine time of day based on real time\nuseEffect(()=>{const updateTimeOfDay=()=>{if(manualOverride){setTimeOfDay(manualOverride);return;}const hour=new Date().getHours();if(hour>=6&&hour<18){setTimeOfDay('day');}else{setTimeOfDay('night');}};updateTimeOfDay();const interval=setInterval(updateTimeOfDay,60000);// Check every minute\nreturn()=>clearInterval(interval);},[manualOverride]);// Track scroll progress\nuseEffect(()=>{const handleScroll=()=>{const scrollTop=window.scrollY;const docHeight=document.documentElement.scrollHeight-window.innerHeight;const progress=Math.min(scrollTop/docHeight,1);setScrollProgress(progress);};window.addEventListener('scroll',handleScroll,{passive:true});return()=>window.removeEventListener('scroll',handleScroll);},[]);const toggleTimeOfDay=()=>{setManualOverride(prev=>{if(prev==='day')return'night';if(prev==='night')return null;return'day';});};// Determine current theme based on scroll and time\nconst getCurrentTheme=()=>{if(scrollProgress>0.2){return'cave';}return timeOfDay;};const theme=getCurrentTheme();const colors={day:{primary:'#10B981',secondary:'#38BDF8',background:'#F0FDF4',surface:'#FFFFFF',text:'#0F172A'},night:{primary:'#0EA5E9',secondary:'#1E3A8A',background:'#020617',surface:'#0F172A',text:'#F8FAFC'},cave:{primary:'#22D3EE',secondary:'#F472B6',background:'#0B1120',surface:'#1E293B',text:'#F8FAFC'}};return/*#__PURE__*/_jsx(ThemeContext.Provider,{value:{theme,timeOfDay,scrollProgress,colors:colors[theme],toggleTimeOfDay,isDay:timeOfDay==='day',isNight:timeOfDay==='night',isCave:theme==='cave'},children:children});};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsx","_jsx","ThemeContext","useTheme","context","Error","ThemeProvider","_ref","children","timeOfDay","setTimeOfDay","scrollProgress","setScrollProgress","manualOverride","setManualOverride","updateTimeOfDay","hour","Date","getHours","interval","setInterval","clearInterval","handleScroll","scrollTop","window","scrollY","docHeight","document","documentElement","scrollHeight","innerHeight","progress","Math","min","addEventListener","passive","removeEventListener","toggleTimeOfDay","prev","getCurrentTheme","theme","colors","day","primary","secondary","background","surface","text","night","cave","Provider","value","isDay","isNight","isCave"],"sources":["/app/frontend/src/context/ThemeContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\n\nconst ThemeContext = createContext();\n\nexport const useTheme = () => {\n  const context = useContext(ThemeContext);\n  if (!context) {\n    throw new Error('useTheme must be used within a ThemeProvider');\n  }\n  return context;\n};\n\nexport const ThemeProvider = ({ children }) => {\n  const [timeOfDay, setTimeOfDay] = useState('day');\n  const [scrollProgress, setScrollProgress] = useState(0);\n  const [manualOverride, setManualOverride] = useState(null);\n\n  // Determine time of day based on real time\n  useEffect(() => {\n    const updateTimeOfDay = () => {\n      if (manualOverride) {\n        setTimeOfDay(manualOverride);\n        return;\n      }\n      \n      const hour = new Date().getHours();\n      if (hour >= 6 && hour < 18) {\n        setTimeOfDay('day');\n      } else {\n        setTimeOfDay('night');\n      }\n    };\n\n    updateTimeOfDay();\n    const interval = setInterval(updateTimeOfDay, 60000); // Check every minute\n    return () => clearInterval(interval);\n  }, [manualOverride]);\n\n  // Track scroll progress\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollTop = window.scrollY;\n      const docHeight = document.documentElement.scrollHeight - window.innerHeight;\n      const progress = Math.min(scrollTop / docHeight, 1);\n      setScrollProgress(progress);\n    };\n\n    window.addEventListener('scroll', handleScroll, { passive: true });\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  const toggleTimeOfDay = () => {\n    setManualOverride(prev => {\n      if (prev === 'day') return 'night';\n      if (prev === 'night') return null;\n      return 'day';\n    });\n  };\n\n  // Determine current theme based on scroll and time\n  const getCurrentTheme = () => {\n    if (scrollProgress > 0.2) {\n      return 'cave';\n    }\n    return timeOfDay;\n  };\n\n  const theme = getCurrentTheme();\n\n  const colors = {\n    day: {\n      primary: '#10B981',\n      secondary: '#38BDF8',\n      background: '#F0FDF4',\n      surface: '#FFFFFF',\n      text: '#0F172A'\n    },\n    night: {\n      primary: '#0EA5E9',\n      secondary: '#1E3A8A',\n      background: '#020617',\n      surface: '#0F172A',\n      text: '#F8FAFC'\n    },\n    cave: {\n      primary: '#22D3EE',\n      secondary: '#F472B6',\n      background: '#0B1120',\n      surface: '#1E293B',\n      text: '#F8FAFC'\n    }\n  };\n\n  return (\n    <ThemeContext.Provider value={{\n      theme,\n      timeOfDay,\n      scrollProgress,\n      colors: colors[theme],\n      toggleTimeOfDay,\n      isDay: timeOfDay === 'day',\n      isNight: timeOfDay === 'night',\n      isCave: theme === 'cave'\n    }}>\n      {children}\n    </ThemeContext.Provider>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}