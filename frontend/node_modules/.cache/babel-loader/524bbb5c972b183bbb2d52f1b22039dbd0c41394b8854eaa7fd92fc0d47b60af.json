{"ast":null,"code":"import _classPrivateMethodInitSpec from \"/app/frontend/node_modules/@babel/runtime/helpers/esm/classPrivateMethodInitSpec.js\";\nimport _classPrivateFieldInitSpec from \"/app/frontend/node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js\";\nimport _defineProperty from \"/app/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classPrivateFieldSet from \"/app/frontend/node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet2.js\";\nimport _classPrivateFieldGet from \"/app/frontend/node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet2.js\";\nimport _assertClassBrand from \"/app/frontend/node_modules/@babel/runtime/helpers/esm/assertClassBrand.js\";\nvar _globalThis$HTMLEleme;\nconst EMBED_BASE = \"https://open.spotify.com\";\nconst MATCH_SRC = /open\\.spotify\\.com\\/(\\w+)\\/(\\w+)/i;\nconst API_URL = \"https://open.spotify.com/embed-podcast/iframe-api/v1\";\nconst API_GLOBAL = \"SpotifyIframeApi\";\nconst API_GLOBAL_READY = \"onSpotifyIframeApiReady\";\nfunction getTemplateHTML(attrs) {\n  let props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const iframeAttrs = {\n    src: serializeIframeUrl(attrs, props),\n    scrolling: \"no\",\n    frameborder: 0,\n    width: \"100%\",\n    height: \"100%\",\n    allow: \"accelerometer; fullscreen; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n  };\n  return /*html*/\"\\n    <style>\\n      :host {\\n        display: inline-block;\\n        min-width: 160px;\\n        min-height: 80px;\\n        position: relative;\\n      }\\n      iframe {\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        width: 100%;\\n        height: 100%;\\n        overflow: hidden;\\n      }\\n      :host(:not([controls])) {\\n        display: none !important;\\n      }\\n    </style>\\n    <iframe\".concat(serializeAttributes(iframeAttrs), \"></iframe>\\n  \");\n}\nfunction serializeIframeUrl(attrs, props) {\n  var _a, _b, _c;\n  if (!attrs.src) return;\n  const matches = attrs.src.match(MATCH_SRC);\n  const type = matches && matches[1];\n  const metaId = matches && matches[2];\n  const params = {\n    t: (_a = props.config) == null ? void 0 : _a.startAt,\n    theme: ((_b = props.config) == null ? void 0 : _b.theme) === \"dark\" ? \"0\" : null\n  };\n  const videoPath = ((_c = props.config) == null ? void 0 : _c.preferVideo) ? \"/video\" : \"\";\n  return \"\".concat(EMBED_BASE, \"/embed/\").concat(type, \"/\").concat(metaId).concat(videoPath, \"?\").concat(serialize(params));\n}\nvar _loadRequested = /*#__PURE__*/new WeakMap();\nvar _hasLoaded = /*#__PURE__*/new WeakMap();\nvar _isInit = /*#__PURE__*/new WeakMap();\nvar _isWaiting = /*#__PURE__*/new WeakMap();\nvar _closeToEnded = /*#__PURE__*/new WeakMap();\nvar _paused = /*#__PURE__*/new WeakMap();\nvar _currentTime = /*#__PURE__*/new WeakMap();\nvar _duration = /*#__PURE__*/new WeakMap();\nvar _seeking = /*#__PURE__*/new WeakMap();\nvar _config = /*#__PURE__*/new WeakMap();\nvar _SpotifyAudioElement_brand = /*#__PURE__*/new WeakSet();\nclass SpotifyAudioElement extends ((_globalThis$HTMLEleme = globalThis.HTMLElement) !== null && _globalThis$HTMLEleme !== void 0 ? _globalThis$HTMLEleme : class {}) {\n  constructor() {\n    super();\n    // This is a pattern to update property values that are set before\n    // the custom element is upgraded.\n    // https://web.dev/custom-elements-best-practices/#make-properties-lazy\n    _classPrivateMethodInitSpec(this, _SpotifyAudioElement_brand);\n    _defineProperty(this, \"loadComplete\", new PublicPromise());\n    _classPrivateFieldInitSpec(this, _loadRequested, void 0);\n    _classPrivateFieldInitSpec(this, _hasLoaded, void 0);\n    _classPrivateFieldInitSpec(this, _isInit, void 0);\n    _classPrivateFieldInitSpec(this, _isWaiting, false);\n    _classPrivateFieldInitSpec(this, _closeToEnded, false);\n    _classPrivateFieldInitSpec(this, _paused, true);\n    _classPrivateFieldInitSpec(this, _currentTime, 0);\n    _classPrivateFieldInitSpec(this, _duration, NaN);\n    _classPrivateFieldInitSpec(this, _seeking, false);\n    _classPrivateFieldInitSpec(this, _config, null);\n    _assertClassBrand(_SpotifyAudioElement_brand, this, _upgradeProperty).call(this, \"config\");\n  }\n  async load() {\n    var _a, _b, _c;\n    if (_classPrivateFieldGet(_loadRequested, this)) return;\n    if (_classPrivateFieldGet(_hasLoaded, this)) this.loadComplete = new PublicPromise();\n    _classPrivateFieldSet(_hasLoaded, this, true);\n    await _classPrivateFieldSet(_loadRequested, this, Promise.resolve());\n    _classPrivateFieldSet(_loadRequested, this, null);\n    _classPrivateFieldSet(_isWaiting, this, false);\n    _classPrivateFieldSet(_closeToEnded, this, false);\n    _classPrivateFieldSet(_currentTime, this, 0);\n    _classPrivateFieldSet(_duration, this, NaN);\n    _classPrivateFieldSet(_seeking, this, false);\n    this.dispatchEvent(new Event(\"emptied\"));\n    let oldApi = this.api;\n    this.api = null;\n    if (!this.src) {\n      return;\n    }\n    this.dispatchEvent(new Event(\"loadstart\"));\n    const options = {\n      t: (_a = this.config) == null ? void 0 : _a.startAt,\n      theme: ((_b = this.config) == null ? void 0 : _b.theme) === \"dark\" ? \"0\" : null,\n      preferVideo: (_c = this.config) == null ? void 0 : _c.preferVideo\n    };\n    if (_classPrivateFieldGet(_isInit, this)) {\n      this.api = oldApi;\n      this.api.iframeElement.src = serializeIframeUrl(namedNodeMapToObject(this.attributes), this);\n    } else {\n      _classPrivateFieldSet(_isInit, this, true);\n      if (!this.shadowRoot) {\n        this.attachShadow({\n          mode: \"open\"\n        });\n        this.shadowRoot.innerHTML = getTemplateHTML(namedNodeMapToObject(this.attributes), this);\n      }\n      let iframe = this.shadowRoot.querySelector(\"iframe\");\n      const Spotify = await loadScript(API_URL, API_GLOBAL, API_GLOBAL_READY);\n      this.api = await new Promise(resolve => Spotify.createController(iframe, options, resolve));\n      this.api.iframeElement = iframe;\n      this.api.addListener(\"ready\", () => {\n        this.dispatchEvent(new Event(\"loadedmetadata\"));\n        this.dispatchEvent(new Event(\"durationchange\"));\n        this.dispatchEvent(new Event(\"volumechange\"));\n      });\n      this.api.addListener(\"playback_update\", event => {\n        if (_classPrivateFieldGet(_closeToEnded, this) && _classPrivateFieldGet(_paused, this) && (event.data.isBuffering || !event.data.isPaused)) {\n          _classPrivateFieldSet(_closeToEnded, this, false);\n          this.currentTime = 1;\n          return;\n        }\n        if (event.data.duration / 1e3 !== _classPrivateFieldGet(_duration, this)) {\n          _classPrivateFieldSet(_closeToEnded, this, false);\n          _classPrivateFieldSet(_duration, this, event.data.duration / 1e3);\n          this.dispatchEvent(new Event(\"durationchange\"));\n        }\n        if (event.data.position / 1e3 !== _classPrivateFieldGet(_currentTime, this)) {\n          _classPrivateFieldSet(_seeking, this, false);\n          _classPrivateFieldSet(_closeToEnded, this, false);\n          _classPrivateFieldSet(_currentTime, this, event.data.position / 1e3);\n          this.dispatchEvent(new Event(\"timeupdate\"));\n        }\n        if (!_classPrivateFieldGet(_isWaiting, this) && !_classPrivateFieldGet(_paused, this) && event.data.isPaused) {\n          _classPrivateFieldSet(_paused, this, true);\n          this.dispatchEvent(new Event(\"pause\"));\n          return;\n        }\n        if (_classPrivateFieldGet(_paused, this) && (event.data.isBuffering || !event.data.isPaused)) {\n          _classPrivateFieldSet(_paused, this, false);\n          this.dispatchEvent(new Event(\"play\"));\n          _classPrivateFieldSet(_isWaiting, this, event.data.isBuffering);\n          if (_classPrivateFieldGet(_isWaiting, this)) {\n            this.dispatchEvent(new Event(\"waiting\"));\n          } else {\n            this.dispatchEvent(new Event(\"playing\"));\n          }\n          return;\n        }\n        if (_classPrivateFieldGet(_isWaiting, this) && !event.data.isPaused) {\n          _classPrivateFieldSet(_isWaiting, this, false);\n          this.dispatchEvent(new Event(\"playing\"));\n          return;\n        }\n        if (!this.paused && !this.seeking && !_classPrivateFieldGet(_closeToEnded, this) && Math.ceil(this.currentTime) >= this.duration) {\n          _classPrivateFieldSet(_closeToEnded, this, true);\n          if (this.loop) {\n            this.currentTime = 1;\n            return;\n          }\n          if (!this.continuous) {\n            this.pause();\n            this.dispatchEvent(new Event(\"ended\"));\n          }\n          return;\n        }\n      });\n    }\n    this.loadComplete.resolve();\n    await this.loadComplete;\n  }\n  async attributeChangedCallback(attrName, oldValue, newValue) {\n    if (oldValue === newValue) return;\n    switch (attrName) {\n      case \"src\":\n        {\n          this.load();\n          return;\n        }\n    }\n  }\n  async play() {\n    var _a;\n    _classPrivateFieldSet(_paused, this, false);\n    _classPrivateFieldSet(_isWaiting, this, true);\n    this.dispatchEvent(new Event(\"play\"));\n    await this.loadComplete;\n    return (_a = this.api) == null ? void 0 : _a.resume();\n  }\n  async pause() {\n    var _a;\n    await this.loadComplete;\n    return (_a = this.api) == null ? void 0 : _a.pause();\n  }\n  get config() {\n    return _classPrivateFieldGet(_config, this);\n  }\n  set config(value) {\n    _classPrivateFieldSet(_config, this, value);\n  }\n  get paused() {\n    var _classPrivateFieldGet2;\n    return (_classPrivateFieldGet2 = _classPrivateFieldGet(_paused, this)) !== null && _classPrivateFieldGet2 !== void 0 ? _classPrivateFieldGet2 : true;\n  }\n  get muted() {\n    return false;\n  }\n  set muted(val) {}\n  get volume() {\n    return 1;\n  }\n  set volume(val) {}\n  get ended() {\n    return Math.ceil(this.currentTime) >= this.duration;\n  }\n  get seeking() {\n    return _classPrivateFieldGet(_seeking, this);\n  }\n  get loop() {\n    return this.hasAttribute(\"loop\");\n  }\n  set loop(val) {\n    if (this.loop == val) return;\n    this.toggleAttribute(\"loop\", Boolean(val));\n  }\n  get currentTime() {\n    return _classPrivateFieldGet(_currentTime, this);\n  }\n  set currentTime(val) {\n    if (this.currentTime == val) return;\n    _classPrivateFieldSet(_seeking, this, true);\n    let oldTime = _classPrivateFieldGet(_currentTime, this);\n    _classPrivateFieldSet(_currentTime, this, val);\n    this.dispatchEvent(new Event(\"timeupdate\"));\n    _classPrivateFieldSet(_currentTime, this, oldTime);\n    this.loadComplete.then(() => {\n      var _a;\n      (_a = this.api) == null ? void 0 : _a.seek(val);\n    });\n  }\n  get duration() {\n    return _classPrivateFieldGet(_duration, this);\n  }\n  get src() {\n    return this.getAttribute(\"src\");\n  }\n  set src(val) {\n    this.setAttribute(\"src\", \"\".concat(val));\n  }\n}\nfunction _upgradeProperty(prop) {\n  if (Object.prototype.hasOwnProperty.call(this, prop)) {\n    const value = this[prop];\n    delete this[prop];\n    this[prop] = value;\n  }\n}\n_defineProperty(SpotifyAudioElement, \"getTemplateHTML\", getTemplateHTML);\n_defineProperty(SpotifyAudioElement, \"shadowRootOptions\", {\n  mode: \"open\"\n});\n_defineProperty(SpotifyAudioElement, \"observedAttributes\", [\"controls\", \"loop\", \"src\"]);\nfunction serializeAttributes(attrs) {\n  let html = \"\";\n  for (const key in attrs) {\n    const value = attrs[key];\n    if (value === \"\") html += \" \".concat(key);else html += \" \".concat(key, \"=\\\"\").concat(value, \"\\\"\");\n  }\n  return html;\n}\nfunction serialize(props) {\n  return String(new URLSearchParams(boolToBinary(props)));\n}\nfunction boolToBinary(props) {\n  let p = {};\n  for (let key in props) {\n    let val = props[key];\n    if (val === true || val === \"\") p[key] = 1;else if (val === false) p[key] = 0;else if (val != null) p[key] = val;\n  }\n  return p;\n}\nfunction namedNodeMapToObject(namedNodeMap) {\n  let obj = {};\n  for (let attr of namedNodeMap) {\n    obj[attr.name] = attr.value;\n  }\n  return obj;\n}\nconst loadScriptCache = {};\nasync function loadScript(src, globalName, readyFnName) {\n  if (loadScriptCache[src]) return loadScriptCache[src];\n  if (globalName && self[globalName]) {\n    return Promise.resolve(self[globalName]);\n  }\n  return loadScriptCache[src] = new Promise(function (resolve, reject) {\n    const script = document.createElement(\"script\");\n    script.src = src;\n    const ready = api => resolve(api);\n    if (readyFnName) self[readyFnName] = ready;\n    script.onload = () => !readyFnName && ready();\n    script.onerror = reject;\n    document.head.append(script);\n  });\n}\nclass PublicPromise extends Promise {\n  constructor() {\n    let executor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : () => {};\n    let res, rej;\n    super((resolve, reject) => {\n      executor(resolve, reject);\n      res = resolve;\n      rej = reject;\n    });\n    this.resolve = res;\n    this.reject = rej;\n  }\n}\nif (globalThis.customElements && !globalThis.customElements.get(\"spotify-audio\")) {\n  globalThis.customElements.define(\"spotify-audio\", SpotifyAudioElement);\n}\nvar spotify_audio_element_default = SpotifyAudioElement;\nexport { spotify_audio_element_default as default };","map":{"version":3,"names":["EMBED_BASE","MATCH_SRC","API_URL","API_GLOBAL","API_GLOBAL_READY","getTemplateHTML","attrs","props","arguments","length","undefined","iframeAttrs","src","serializeIframeUrl","scrolling","frameborder","width","height","allow","concat","serializeAttributes","_a","_b","_c","matches","match","type","metaId","params","t","config","startAt","theme","videoPath","preferVideo","serialize","_loadRequested","WeakMap","_hasLoaded","_isInit","_isWaiting","_closeToEnded","_paused","_currentTime","_duration","_seeking","_config","_SpotifyAudioElement_brand","WeakSet","SpotifyAudioElement","_globalThis$HTMLEleme","globalThis","HTMLElement","constructor","_classPrivateMethodInitSpec","_defineProperty","PublicPromise","_classPrivateFieldInitSpec","NaN","_assertClassBrand","_upgradeProperty","call","load","_classPrivateFieldGet","loadComplete","_classPrivateFieldSet","Promise","resolve","dispatchEvent","Event","oldApi","api","options","iframeElement","namedNodeMapToObject","attributes","shadowRoot","attachShadow","mode","innerHTML","iframe","querySelector","Spotify","loadScript","createController","addListener","event","data","isBuffering","isPaused","currentTime","duration","position","paused","seeking","Math","ceil","loop","continuous","pause","attributeChangedCallback","attrName","oldValue","newValue","play","resume","value","_classPrivateFieldGet2","muted","val","volume","ended","hasAttribute","toggleAttribute","Boolean","oldTime","then","seek","getAttribute","setAttribute","prop","Object","prototype","hasOwnProperty","html","key","String","URLSearchParams","boolToBinary","p","namedNodeMap","obj","attr","name","loadScriptCache","globalName","readyFnName","self","reject","script","document","createElement","ready","onload","onerror","head","append","executor","res","rej","customElements","get","define","spotify_audio_element_default","default"],"sources":["/app/frontend/node_modules/spotify-audio-element/dist/spotify-audio-element.js"],"sourcesContent":["const EMBED_BASE = \"https://open.spotify.com\";\nconst MATCH_SRC = /open\\.spotify\\.com\\/(\\w+)\\/(\\w+)/i;\nconst API_URL = \"https://open.spotify.com/embed-podcast/iframe-api/v1\";\nconst API_GLOBAL = \"SpotifyIframeApi\";\nconst API_GLOBAL_READY = \"onSpotifyIframeApiReady\";\nfunction getTemplateHTML(attrs, props = {}) {\n  const iframeAttrs = {\n    src: serializeIframeUrl(attrs, props),\n    scrolling: \"no\",\n    frameborder: 0,\n    width: \"100%\",\n    height: \"100%\",\n    allow: \"accelerometer; fullscreen; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n  };\n  return (\n    /*html*/\n    `\n    <style>\n      :host {\n        display: inline-block;\n        min-width: 160px;\n        min-height: 80px;\n        position: relative;\n      }\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n      }\n      :host(:not([controls])) {\n        display: none !important;\n      }\n    </style>\n    <iframe${serializeAttributes(iframeAttrs)}></iframe>\n  `\n  );\n}\nfunction serializeIframeUrl(attrs, props) {\n  var _a, _b, _c;\n  if (!attrs.src) return;\n  const matches = attrs.src.match(MATCH_SRC);\n  const type = matches && matches[1];\n  const metaId = matches && matches[2];\n  const params = {\n    t: (_a = props.config) == null ? void 0 : _a.startAt,\n    theme: ((_b = props.config) == null ? void 0 : _b.theme) === \"dark\" ? \"0\" : null\n  };\n  const videoPath = ((_c = props.config) == null ? void 0 : _c.preferVideo) ? \"/video\" : \"\";\n  return `${EMBED_BASE}/embed/${type}/${metaId}${videoPath}?${serialize(params)}`;\n}\nclass SpotifyAudioElement extends (globalThis.HTMLElement ?? class {\n}) {\n  static getTemplateHTML = getTemplateHTML;\n  static shadowRootOptions = { mode: \"open\" };\n  static observedAttributes = [\n    \"controls\",\n    \"loop\",\n    \"src\"\n  ];\n  loadComplete = new PublicPromise();\n  #loadRequested;\n  #hasLoaded;\n  #isInit;\n  #isWaiting = false;\n  #closeToEnded = false;\n  #paused = true;\n  #currentTime = 0;\n  #duration = NaN;\n  #seeking = false;\n  #config = null;\n  constructor() {\n    super();\n    this.#upgradeProperty(\"config\");\n  }\n  async load() {\n    var _a, _b, _c;\n    if (this.#loadRequested) return;\n    if (this.#hasLoaded) this.loadComplete = new PublicPromise();\n    this.#hasLoaded = true;\n    await (this.#loadRequested = Promise.resolve());\n    this.#loadRequested = null;\n    this.#isWaiting = false;\n    this.#closeToEnded = false;\n    this.#currentTime = 0;\n    this.#duration = NaN;\n    this.#seeking = false;\n    this.dispatchEvent(new Event(\"emptied\"));\n    let oldApi = this.api;\n    this.api = null;\n    if (!this.src) {\n      return;\n    }\n    this.dispatchEvent(new Event(\"loadstart\"));\n    const options = {\n      t: (_a = this.config) == null ? void 0 : _a.startAt,\n      theme: ((_b = this.config) == null ? void 0 : _b.theme) === \"dark\" ? \"0\" : null,\n      preferVideo: (_c = this.config) == null ? void 0 : _c.preferVideo\n    };\n    if (this.#isInit) {\n      this.api = oldApi;\n      this.api.iframeElement.src = serializeIframeUrl(namedNodeMapToObject(this.attributes), this);\n    } else {\n      this.#isInit = true;\n      if (!this.shadowRoot) {\n        this.attachShadow({ mode: \"open\" });\n        this.shadowRoot.innerHTML = getTemplateHTML(namedNodeMapToObject(this.attributes), this);\n      }\n      let iframe = this.shadowRoot.querySelector(\"iframe\");\n      const Spotify = await loadScript(API_URL, API_GLOBAL, API_GLOBAL_READY);\n      this.api = await new Promise((resolve) => Spotify.createController(iframe, options, resolve));\n      this.api.iframeElement = iframe;\n      this.api.addListener(\"ready\", () => {\n        this.dispatchEvent(new Event(\"loadedmetadata\"));\n        this.dispatchEvent(new Event(\"durationchange\"));\n        this.dispatchEvent(new Event(\"volumechange\"));\n      });\n      this.api.addListener(\"playback_update\", (event) => {\n        if (this.#closeToEnded && this.#paused && (event.data.isBuffering || !event.data.isPaused)) {\n          this.#closeToEnded = false;\n          this.currentTime = 1;\n          return;\n        }\n        if (event.data.duration / 1e3 !== this.#duration) {\n          this.#closeToEnded = false;\n          this.#duration = event.data.duration / 1e3;\n          this.dispatchEvent(new Event(\"durationchange\"));\n        }\n        if (event.data.position / 1e3 !== this.#currentTime) {\n          this.#seeking = false;\n          this.#closeToEnded = false;\n          this.#currentTime = event.data.position / 1e3;\n          this.dispatchEvent(new Event(\"timeupdate\"));\n        }\n        if (!this.#isWaiting && !this.#paused && event.data.isPaused) {\n          this.#paused = true;\n          this.dispatchEvent(new Event(\"pause\"));\n          return;\n        }\n        if (this.#paused && (event.data.isBuffering || !event.data.isPaused)) {\n          this.#paused = false;\n          this.dispatchEvent(new Event(\"play\"));\n          this.#isWaiting = event.data.isBuffering;\n          if (this.#isWaiting) {\n            this.dispatchEvent(new Event(\"waiting\"));\n          } else {\n            this.dispatchEvent(new Event(\"playing\"));\n          }\n          return;\n        }\n        if (this.#isWaiting && !event.data.isPaused) {\n          this.#isWaiting = false;\n          this.dispatchEvent(new Event(\"playing\"));\n          return;\n        }\n        if (!this.paused && !this.seeking && !this.#closeToEnded && Math.ceil(this.currentTime) >= this.duration) {\n          this.#closeToEnded = true;\n          if (this.loop) {\n            this.currentTime = 1;\n            return;\n          }\n          if (!this.continuous) {\n            this.pause();\n            this.dispatchEvent(new Event(\"ended\"));\n          }\n          return;\n        }\n      });\n    }\n    this.loadComplete.resolve();\n    await this.loadComplete;\n  }\n  async attributeChangedCallback(attrName, oldValue, newValue) {\n    if (oldValue === newValue) return;\n    switch (attrName) {\n      case \"src\": {\n        this.load();\n        return;\n      }\n    }\n  }\n  async play() {\n    var _a;\n    this.#paused = false;\n    this.#isWaiting = true;\n    this.dispatchEvent(new Event(\"play\"));\n    await this.loadComplete;\n    return (_a = this.api) == null ? void 0 : _a.resume();\n  }\n  async pause() {\n    var _a;\n    await this.loadComplete;\n    return (_a = this.api) == null ? void 0 : _a.pause();\n  }\n  get config() {\n    return this.#config;\n  }\n  set config(value) {\n    this.#config = value;\n  }\n  get paused() {\n    return this.#paused ?? true;\n  }\n  get muted() {\n    return false;\n  }\n  set muted(val) {\n  }\n  get volume() {\n    return 1;\n  }\n  set volume(val) {\n  }\n  get ended() {\n    return Math.ceil(this.currentTime) >= this.duration;\n  }\n  get seeking() {\n    return this.#seeking;\n  }\n  get loop() {\n    return this.hasAttribute(\"loop\");\n  }\n  set loop(val) {\n    if (this.loop == val) return;\n    this.toggleAttribute(\"loop\", Boolean(val));\n  }\n  get currentTime() {\n    return this.#currentTime;\n  }\n  set currentTime(val) {\n    if (this.currentTime == val) return;\n    this.#seeking = true;\n    let oldTime = this.#currentTime;\n    this.#currentTime = val;\n    this.dispatchEvent(new Event(\"timeupdate\"));\n    this.#currentTime = oldTime;\n    this.loadComplete.then(() => {\n      var _a;\n      (_a = this.api) == null ? void 0 : _a.seek(val);\n    });\n  }\n  get duration() {\n    return this.#duration;\n  }\n  get src() {\n    return this.getAttribute(\"src\");\n  }\n  set src(val) {\n    this.setAttribute(\"src\", `${val}`);\n  }\n  // This is a pattern to update property values that are set before\n  // the custom element is upgraded.\n  // https://web.dev/custom-elements-best-practices/#make-properties-lazy\n  #upgradeProperty(prop) {\n    if (Object.prototype.hasOwnProperty.call(this, prop)) {\n      const value = this[prop];\n      delete this[prop];\n      this[prop] = value;\n    }\n  }\n}\nfunction serializeAttributes(attrs) {\n  let html = \"\";\n  for (const key in attrs) {\n    const value = attrs[key];\n    if (value === \"\") html += ` ${key}`;\n    else html += ` ${key}=\"${value}\"`;\n  }\n  return html;\n}\nfunction serialize(props) {\n  return String(new URLSearchParams(boolToBinary(props)));\n}\nfunction boolToBinary(props) {\n  let p = {};\n  for (let key in props) {\n    let val = props[key];\n    if (val === true || val === \"\") p[key] = 1;\n    else if (val === false) p[key] = 0;\n    else if (val != null) p[key] = val;\n  }\n  return p;\n}\nfunction namedNodeMapToObject(namedNodeMap) {\n  let obj = {};\n  for (let attr of namedNodeMap) {\n    obj[attr.name] = attr.value;\n  }\n  return obj;\n}\nconst loadScriptCache = {};\nasync function loadScript(src, globalName, readyFnName) {\n  if (loadScriptCache[src]) return loadScriptCache[src];\n  if (globalName && self[globalName]) {\n    return Promise.resolve(self[globalName]);\n  }\n  return loadScriptCache[src] = new Promise(function(resolve, reject) {\n    const script = document.createElement(\"script\");\n    script.src = src;\n    const ready = (api) => resolve(api);\n    if (readyFnName) self[readyFnName] = ready;\n    script.onload = () => !readyFnName && ready();\n    script.onerror = reject;\n    document.head.append(script);\n  });\n}\nclass PublicPromise extends Promise {\n  constructor(executor = () => {\n  }) {\n    let res, rej;\n    super((resolve, reject) => {\n      executor(resolve, reject);\n      res = resolve;\n      rej = reject;\n    });\n    this.resolve = res;\n    this.reject = rej;\n  }\n}\nif (globalThis.customElements && !globalThis.customElements.get(\"spotify-audio\")) {\n  globalThis.customElements.define(\"spotify-audio\", SpotifyAudioElement);\n}\nvar spotify_audio_element_default = SpotifyAudioElement;\nexport {\n  spotify_audio_element_default as default\n};\n"],"mappings":";;;;;;;AAAA,MAAMA,UAAU,GAAG,0BAA0B;AAC7C,MAAMC,SAAS,GAAG,mCAAmC;AACrD,MAAMC,OAAO,GAAG,sDAAsD;AACtE,MAAMC,UAAU,GAAG,kBAAkB;AACrC,MAAMC,gBAAgB,GAAG,yBAAyB;AAClD,SAASC,eAAeA,CAACC,KAAK,EAAc;EAAA,IAAZC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACxC,MAAMG,WAAW,GAAG;IAClBC,GAAG,EAAEC,kBAAkB,CAACP,KAAK,EAAEC,KAAK,CAAC;IACrCO,SAAS,EAAE,IAAI;IACfC,WAAW,EAAE,CAAC;IACdC,KAAK,EAAE,MAAM;IACbC,MAAM,EAAE,MAAM;IACdC,KAAK,EAAE;EACT,CAAC;EACD,OACE,4aAAAC,MAAA,CAqBSC,mBAAmB,CAACT,WAAW,CAAC;AAG7C;AACA,SAASE,kBAAkBA,CAACP,KAAK,EAAEC,KAAK,EAAE;EACxC,IAAIc,EAAE,EAAEC,EAAE,EAAEC,EAAE;EACd,IAAI,CAACjB,KAAK,CAACM,GAAG,EAAE;EAChB,MAAMY,OAAO,GAAGlB,KAAK,CAACM,GAAG,CAACa,KAAK,CAACxB,SAAS,CAAC;EAC1C,MAAMyB,IAAI,GAAGF,OAAO,IAAIA,OAAO,CAAC,CAAC,CAAC;EAClC,MAAMG,MAAM,GAAGH,OAAO,IAAIA,OAAO,CAAC,CAAC,CAAC;EACpC,MAAMI,MAAM,GAAG;IACbC,CAAC,EAAE,CAACR,EAAE,GAAGd,KAAK,CAACuB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGT,EAAE,CAACU,OAAO;IACpDC,KAAK,EAAE,CAAC,CAACV,EAAE,GAAGf,KAAK,CAACuB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGR,EAAE,CAACU,KAAK,MAAM,MAAM,GAAG,GAAG,GAAG;EAC9E,CAAC;EACD,MAAMC,SAAS,GAAG,CAAC,CAACV,EAAE,GAAGhB,KAAK,CAACuB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGP,EAAE,CAACW,WAAW,IAAI,QAAQ,GAAG,EAAE;EACzF,UAAAf,MAAA,CAAUnB,UAAU,aAAAmB,MAAA,CAAUO,IAAI,OAAAP,MAAA,CAAIQ,MAAM,EAAAR,MAAA,CAAGc,SAAS,OAAAd,MAAA,CAAIgB,SAAS,CAACP,MAAM,CAAC;AAC/E;AAAC,IAAAQ,cAAA,oBAAAC,OAAA;AAAA,IAAAC,UAAA,oBAAAD,OAAA;AAAA,IAAAE,OAAA,oBAAAF,OAAA;AAAA,IAAAG,UAAA,oBAAAH,OAAA;AAAA,IAAAI,aAAA,oBAAAJ,OAAA;AAAA,IAAAK,OAAA,oBAAAL,OAAA;AAAA,IAAAM,YAAA,oBAAAN,OAAA;AAAA,IAAAO,SAAA,oBAAAP,OAAA;AAAA,IAAAQ,QAAA,oBAAAR,OAAA;AAAA,IAAAS,OAAA,oBAAAT,OAAA;AAAA,IAAAU,0BAAA,oBAAAC,OAAA;AACD,MAAMC,mBAAmB,WAAAC,qBAAA,GAAUC,UAAU,CAACC,WAAW,cAAAF,qBAAA,cAAAA,qBAAA,GAAI,MAAM,EAClE,EAAE;EAmBDG,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,CAAC;IAkLT;IACA;IACA;IAAAC,2BAAA,OAAAP,0BAAA;IAAAQ,eAAA,uBAhMe,IAAIC,aAAa,CAAC,CAAC;IAClCC,0BAAA,OAAArB,cAAc;IACdqB,0BAAA,OAAAnB,UAAU;IACVmB,0BAAA,OAAAlB,OAAO;IACPkB,0BAAA,OAAAjB,UAAU,EAAG,KAAK;IAClBiB,0BAAA,OAAAhB,aAAa,EAAG,KAAK;IACrBgB,0BAAA,OAAAf,OAAO,EAAG,IAAI;IACde,0BAAA,OAAAd,YAAY,EAAG,CAAC;IAChBc,0BAAA,OAAAb,SAAS,EAAGc,GAAG;IACfD,0BAAA,OAAAZ,QAAQ,EAAG,KAAK;IAChBY,0BAAA,OAAAX,OAAO,EAAG,IAAI;IAGZa,iBAAA,CAAAZ,0BAAA,MAAI,EAACa,gBAAe,CAAC,CAAAC,IAAA,CAArB,IAAI,EAAkB,QAAQ;EAChC;EACA,MAAMC,IAAIA,CAAA,EAAG;IACX,IAAIzC,EAAE,EAAEC,EAAE,EAAEC,EAAE;IACd,IAAIwC,qBAAA,CAAK3B,cAAc,EAAnB,IAAkB,CAAC,EAAE;IACzB,IAAI2B,qBAAA,CAAKzB,UAAU,EAAf,IAAc,CAAC,EAAE,IAAI,CAAC0B,YAAY,GAAG,IAAIR,aAAa,CAAC,CAAC;IAC5DS,qBAAA,CAAK3B,UAAU,EAAf,IAAI,EAAc,IAAJ,CAAC;IACf,MAAO2B,qBAAA,CAAK7B,cAAc,EAAnB,IAAI,EAAkB8B,OAAO,CAACC,OAAO,CAAC,CAApB,CAAsB;IAC/CF,qBAAA,CAAK7B,cAAc,EAAnB,IAAI,EAAkB,IAAJ,CAAC;IACnB6B,qBAAA,CAAKzB,UAAU,EAAf,IAAI,EAAc,KAAJ,CAAC;IACfyB,qBAAA,CAAKxB,aAAa,EAAlB,IAAI,EAAiB,KAAJ,CAAC;IAClBwB,qBAAA,CAAKtB,YAAY,EAAjB,IAAI,EAAgB,CAAJ,CAAC;IACjBsB,qBAAA,CAAKrB,SAAS,EAAd,IAAI,EAAac,GAAJ,CAAC;IACdO,qBAAA,CAAKpB,QAAQ,EAAb,IAAI,EAAY,KAAJ,CAAC;IACb,IAAI,CAACuB,aAAa,CAAC,IAAIC,KAAK,CAAC,SAAS,CAAC,CAAC;IACxC,IAAIC,MAAM,GAAG,IAAI,CAACC,GAAG;IACrB,IAAI,CAACA,GAAG,GAAG,IAAI;IACf,IAAI,CAAC,IAAI,CAAC3D,GAAG,EAAE;MACb;IACF;IACA,IAAI,CAACwD,aAAa,CAAC,IAAIC,KAAK,CAAC,WAAW,CAAC,CAAC;IAC1C,MAAMG,OAAO,GAAG;MACd3C,CAAC,EAAE,CAACR,EAAE,GAAG,IAAI,CAACS,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGT,EAAE,CAACU,OAAO;MACnDC,KAAK,EAAE,CAAC,CAACV,EAAE,GAAG,IAAI,CAACQ,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGR,EAAE,CAACU,KAAK,MAAM,MAAM,GAAG,GAAG,GAAG,IAAI;MAC/EE,WAAW,EAAE,CAACX,EAAE,GAAG,IAAI,CAACO,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGP,EAAE,CAACW;IACxD,CAAC;IACD,IAAI6B,qBAAA,CAAKxB,OAAO,EAAZ,IAAW,CAAC,EAAE;MAChB,IAAI,CAACgC,GAAG,GAAGD,MAAM;MACjB,IAAI,CAACC,GAAG,CAACE,aAAa,CAAC7D,GAAG,GAAGC,kBAAkB,CAAC6D,oBAAoB,CAAC,IAAI,CAACC,UAAU,CAAC,EAAE,IAAI,CAAC;IAC9F,CAAC,MAAM;MACLV,qBAAA,CAAK1B,OAAO,EAAZ,IAAI,EAAW,IAAJ,CAAC;MACZ,IAAI,CAAC,IAAI,CAACqC,UAAU,EAAE;QACpB,IAAI,CAACC,YAAY,CAAC;UAAEC,IAAI,EAAE;QAAO,CAAC,CAAC;QACnC,IAAI,CAACF,UAAU,CAACG,SAAS,GAAG1E,eAAe,CAACqE,oBAAoB,CAAC,IAAI,CAACC,UAAU,CAAC,EAAE,IAAI,CAAC;MAC1F;MACA,IAAIK,MAAM,GAAG,IAAI,CAACJ,UAAU,CAACK,aAAa,CAAC,QAAQ,CAAC;MACpD,MAAMC,OAAO,GAAG,MAAMC,UAAU,CAACjF,OAAO,EAAEC,UAAU,EAAEC,gBAAgB,CAAC;MACvE,IAAI,CAACmE,GAAG,GAAG,MAAM,IAAIL,OAAO,CAAEC,OAAO,IAAKe,OAAO,CAACE,gBAAgB,CAACJ,MAAM,EAAER,OAAO,EAAEL,OAAO,CAAC,CAAC;MAC7F,IAAI,CAACI,GAAG,CAACE,aAAa,GAAGO,MAAM;MAC/B,IAAI,CAACT,GAAG,CAACc,WAAW,CAAC,OAAO,EAAE,MAAM;QAClC,IAAI,CAACjB,aAAa,CAAC,IAAIC,KAAK,CAAC,gBAAgB,CAAC,CAAC;QAC/C,IAAI,CAACD,aAAa,CAAC,IAAIC,KAAK,CAAC,gBAAgB,CAAC,CAAC;QAC/C,IAAI,CAACD,aAAa,CAAC,IAAIC,KAAK,CAAC,cAAc,CAAC,CAAC;MAC/C,CAAC,CAAC;MACF,IAAI,CAACE,GAAG,CAACc,WAAW,CAAC,iBAAiB,EAAGC,KAAK,IAAK;QACjD,IAAIvB,qBAAA,CAAKtB,aAAa,EAAlB,IAAiB,CAAC,IAAIsB,qBAAA,CAAKrB,OAAO,EAAZ,IAAW,CAAC,KAAK4C,KAAK,CAACC,IAAI,CAACC,WAAW,IAAI,CAACF,KAAK,CAACC,IAAI,CAACE,QAAQ,CAAC,EAAE;UAC1FxB,qBAAA,CAAKxB,aAAa,EAAlB,IAAI,EAAiB,KAAJ,CAAC;UAClB,IAAI,CAACiD,WAAW,GAAG,CAAC;UACpB;QACF;QACA,IAAIJ,KAAK,CAACC,IAAI,CAACI,QAAQ,GAAG,GAAG,KAAK5B,qBAAA,CAAKnB,SAAS,EAAd,IAAa,CAAC,EAAE;UAChDqB,qBAAA,CAAKxB,aAAa,EAAlB,IAAI,EAAiB,KAAJ,CAAC;UAClBwB,qBAAA,CAAKrB,SAAS,EAAd,IAAI,EAAa0C,KAAK,CAACC,IAAI,CAACI,QAAQ,GAAG,GAA1B,CAAC;UACd,IAAI,CAACvB,aAAa,CAAC,IAAIC,KAAK,CAAC,gBAAgB,CAAC,CAAC;QACjD;QACA,IAAIiB,KAAK,CAACC,IAAI,CAACK,QAAQ,GAAG,GAAG,KAAK7B,qBAAA,CAAKpB,YAAY,EAAjB,IAAgB,CAAC,EAAE;UACnDsB,qBAAA,CAAKpB,QAAQ,EAAb,IAAI,EAAY,KAAJ,CAAC;UACboB,qBAAA,CAAKxB,aAAa,EAAlB,IAAI,EAAiB,KAAJ,CAAC;UAClBwB,qBAAA,CAAKtB,YAAY,EAAjB,IAAI,EAAgB2C,KAAK,CAACC,IAAI,CAACK,QAAQ,GAAG,GAA1B,CAAC;UACjB,IAAI,CAACxB,aAAa,CAAC,IAAIC,KAAK,CAAC,YAAY,CAAC,CAAC;QAC7C;QACA,IAAI,CAACN,qBAAA,CAAKvB,UAAU,EAAf,IAAc,CAAC,IAAI,CAACuB,qBAAA,CAAKrB,OAAO,EAAZ,IAAW,CAAC,IAAI4C,KAAK,CAACC,IAAI,CAACE,QAAQ,EAAE;UAC5DxB,qBAAA,CAAKvB,OAAO,EAAZ,IAAI,EAAW,IAAJ,CAAC;UACZ,IAAI,CAAC0B,aAAa,CAAC,IAAIC,KAAK,CAAC,OAAO,CAAC,CAAC;UACtC;QACF;QACA,IAAIN,qBAAA,CAAKrB,OAAO,EAAZ,IAAW,CAAC,KAAK4C,KAAK,CAACC,IAAI,CAACC,WAAW,IAAI,CAACF,KAAK,CAACC,IAAI,CAACE,QAAQ,CAAC,EAAE;UACpExB,qBAAA,CAAKvB,OAAO,EAAZ,IAAI,EAAW,KAAJ,CAAC;UACZ,IAAI,CAAC0B,aAAa,CAAC,IAAIC,KAAK,CAAC,MAAM,CAAC,CAAC;UACrCJ,qBAAA,CAAKzB,UAAU,EAAf,IAAI,EAAc8C,KAAK,CAACC,IAAI,CAACC,WAAf,CAAC;UACf,IAAIzB,qBAAA,CAAKvB,UAAU,EAAf,IAAc,CAAC,EAAE;YACnB,IAAI,CAAC4B,aAAa,CAAC,IAAIC,KAAK,CAAC,SAAS,CAAC,CAAC;UAC1C,CAAC,MAAM;YACL,IAAI,CAACD,aAAa,CAAC,IAAIC,KAAK,CAAC,SAAS,CAAC,CAAC;UAC1C;UACA;QACF;QACA,IAAIN,qBAAA,CAAKvB,UAAU,EAAf,IAAc,CAAC,IAAI,CAAC8C,KAAK,CAACC,IAAI,CAACE,QAAQ,EAAE;UAC3CxB,qBAAA,CAAKzB,UAAU,EAAf,IAAI,EAAc,KAAJ,CAAC;UACf,IAAI,CAAC4B,aAAa,CAAC,IAAIC,KAAK,CAAC,SAAS,CAAC,CAAC;UACxC;QACF;QACA,IAAI,CAAC,IAAI,CAACwB,MAAM,IAAI,CAAC,IAAI,CAACC,OAAO,IAAI,CAAC/B,qBAAA,CAAKtB,aAAa,EAAlB,IAAiB,CAAC,IAAIsD,IAAI,CAACC,IAAI,CAAC,IAAI,CAACN,WAAW,CAAC,IAAI,IAAI,CAACC,QAAQ,EAAE;UACxG1B,qBAAA,CAAKxB,aAAa,EAAlB,IAAI,EAAiB,IAAJ,CAAC;UAClB,IAAI,IAAI,CAACwD,IAAI,EAAE;YACb,IAAI,CAACP,WAAW,GAAG,CAAC;YACpB;UACF;UACA,IAAI,CAAC,IAAI,CAACQ,UAAU,EAAE;YACpB,IAAI,CAACC,KAAK,CAAC,CAAC;YACZ,IAAI,CAAC/B,aAAa,CAAC,IAAIC,KAAK,CAAC,OAAO,CAAC,CAAC;UACxC;UACA;QACF;MACF,CAAC,CAAC;IACJ;IACA,IAAI,CAACL,YAAY,CAACG,OAAO,CAAC,CAAC;IAC3B,MAAM,IAAI,CAACH,YAAY;EACzB;EACA,MAAMoC,wBAAwBA,CAACC,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;IAC3D,IAAID,QAAQ,KAAKC,QAAQ,EAAE;IAC3B,QAAQF,QAAQ;MACd,KAAK,KAAK;QAAE;UACV,IAAI,CAACvC,IAAI,CAAC,CAAC;UACX;QACF;IACF;EACF;EACA,MAAM0C,IAAIA,CAAA,EAAG;IACX,IAAInF,EAAE;IACN4C,qBAAA,CAAKvB,OAAO,EAAZ,IAAI,EAAW,KAAJ,CAAC;IACZuB,qBAAA,CAAKzB,UAAU,EAAf,IAAI,EAAc,IAAJ,CAAC;IACf,IAAI,CAAC4B,aAAa,CAAC,IAAIC,KAAK,CAAC,MAAM,CAAC,CAAC;IACrC,MAAM,IAAI,CAACL,YAAY;IACvB,OAAO,CAAC3C,EAAE,GAAG,IAAI,CAACkD,GAAG,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGlD,EAAE,CAACoF,MAAM,CAAC,CAAC;EACvD;EACA,MAAMN,KAAKA,CAAA,EAAG;IACZ,IAAI9E,EAAE;IACN,MAAM,IAAI,CAAC2C,YAAY;IACvB,OAAO,CAAC3C,EAAE,GAAG,IAAI,CAACkD,GAAG,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGlD,EAAE,CAAC8E,KAAK,CAAC,CAAC;EACtD;EACA,IAAIrE,MAAMA,CAAA,EAAG;IACX,OAAOiC,qBAAA,CAAKjB,OAAO,EAAZ,IAAW,CAAC;EACrB;EACA,IAAIhB,MAAMA,CAAC4E,KAAK,EAAE;IAChBzC,qBAAA,CAAKnB,OAAO,EAAZ,IAAI,EAAW4D,KAAJ,CAAC;EACd;EACA,IAAIb,MAAMA,CAAA,EAAG;IAAA,IAAAc,sBAAA;IACX,QAAAA,sBAAA,GAAO5C,qBAAA,CAAKrB,OAAO,EAAZ,IAAW,CAAC,cAAAiE,sBAAA,cAAAA,sBAAA,GAAI,IAAI;EAC7B;EACA,IAAIC,KAAKA,CAAA,EAAG;IACV,OAAO,KAAK;EACd;EACA,IAAIA,KAAKA,CAACC,GAAG,EAAE,CACf;EACA,IAAIC,MAAMA,CAAA,EAAG;IACX,OAAO,CAAC;EACV;EACA,IAAIA,MAAMA,CAACD,GAAG,EAAE,CAChB;EACA,IAAIE,KAAKA,CAAA,EAAG;IACV,OAAOhB,IAAI,CAACC,IAAI,CAAC,IAAI,CAACN,WAAW,CAAC,IAAI,IAAI,CAACC,QAAQ;EACrD;EACA,IAAIG,OAAOA,CAAA,EAAG;IACZ,OAAO/B,qBAAA,CAAKlB,QAAQ,EAAb,IAAY,CAAC;EACtB;EACA,IAAIoD,IAAIA,CAAA,EAAG;IACT,OAAO,IAAI,CAACe,YAAY,CAAC,MAAM,CAAC;EAClC;EACA,IAAIf,IAAIA,CAACY,GAAG,EAAE;IACZ,IAAI,IAAI,CAACZ,IAAI,IAAIY,GAAG,EAAE;IACtB,IAAI,CAACI,eAAe,CAAC,MAAM,EAAEC,OAAO,CAACL,GAAG,CAAC,CAAC;EAC5C;EACA,IAAInB,WAAWA,CAAA,EAAG;IAChB,OAAO3B,qBAAA,CAAKpB,YAAY,EAAjB,IAAgB,CAAC;EAC1B;EACA,IAAI+C,WAAWA,CAACmB,GAAG,EAAE;IACnB,IAAI,IAAI,CAACnB,WAAW,IAAImB,GAAG,EAAE;IAC7B5C,qBAAA,CAAKpB,QAAQ,EAAb,IAAI,EAAY,IAAJ,CAAC;IACb,IAAIsE,OAAO,GAAGpD,qBAAA,CAAKpB,YAAY,EAAjB,IAAgB,CAAC;IAC/BsB,qBAAA,CAAKtB,YAAY,EAAjB,IAAI,EAAgBkE,GAAJ,CAAC;IACjB,IAAI,CAACzC,aAAa,CAAC,IAAIC,KAAK,CAAC,YAAY,CAAC,CAAC;IAC3CJ,qBAAA,CAAKtB,YAAY,EAAjB,IAAI,EAAgBwE,OAAJ,CAAC;IACjB,IAAI,CAACnD,YAAY,CAACoD,IAAI,CAAC,MAAM;MAC3B,IAAI/F,EAAE;MACN,CAACA,EAAE,GAAG,IAAI,CAACkD,GAAG,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGlD,EAAE,CAACgG,IAAI,CAACR,GAAG,CAAC;IACjD,CAAC,CAAC;EACJ;EACA,IAAIlB,QAAQA,CAAA,EAAG;IACb,OAAO5B,qBAAA,CAAKnB,SAAS,EAAd,IAAa,CAAC;EACvB;EACA,IAAIhC,GAAGA,CAAA,EAAG;IACR,OAAO,IAAI,CAAC0G,YAAY,CAAC,KAAK,CAAC;EACjC;EACA,IAAI1G,GAAGA,CAACiG,GAAG,EAAE;IACX,IAAI,CAACU,YAAY,CAAC,KAAK,KAAApG,MAAA,CAAK0F,GAAG,CAAE,CAAC;EACpC;AAWF;AAAC,SAAAjD,iBAPkB4D,IAAI,EAAE;EACrB,IAAIC,MAAM,CAACC,SAAS,CAACC,cAAc,CAAC9D,IAAI,CAAC,IAAI,EAAE2D,IAAI,CAAC,EAAE;IACpD,MAAMd,KAAK,GAAG,IAAI,CAACc,IAAI,CAAC;IACxB,OAAO,IAAI,CAACA,IAAI,CAAC;IACjB,IAAI,CAACA,IAAI,CAAC,GAAGd,KAAK;EACpB;AACF;AAACnD,eAAA,CAhNGN,mBAAmB,qBAEE5C,eAAe;AAAAkD,eAAA,CAFpCN,mBAAmB,uBAGI;EAAE6B,IAAI,EAAE;AAAO,CAAC;AAAAvB,eAAA,CAHvCN,mBAAmB,wBAIK,CAC1B,UAAU,EACV,MAAM,EACN,KAAK,CACN;AA0MH,SAAS7B,mBAAmBA,CAACd,KAAK,EAAE;EAClC,IAAIsH,IAAI,GAAG,EAAE;EACb,KAAK,MAAMC,GAAG,IAAIvH,KAAK,EAAE;IACvB,MAAMoG,KAAK,GAAGpG,KAAK,CAACuH,GAAG,CAAC;IACxB,IAAInB,KAAK,KAAK,EAAE,EAAEkB,IAAI,QAAAzG,MAAA,CAAQ0G,GAAG,CAAE,CAAC,KAC/BD,IAAI,QAAAzG,MAAA,CAAQ0G,GAAG,SAAA1G,MAAA,CAAKuF,KAAK,OAAG;EACnC;EACA,OAAOkB,IAAI;AACb;AACA,SAASzF,SAASA,CAAC5B,KAAK,EAAE;EACxB,OAAOuH,MAAM,CAAC,IAAIC,eAAe,CAACC,YAAY,CAACzH,KAAK,CAAC,CAAC,CAAC;AACzD;AACA,SAASyH,YAAYA,CAACzH,KAAK,EAAE;EAC3B,IAAI0H,CAAC,GAAG,CAAC,CAAC;EACV,KAAK,IAAIJ,GAAG,IAAItH,KAAK,EAAE;IACrB,IAAIsG,GAAG,GAAGtG,KAAK,CAACsH,GAAG,CAAC;IACpB,IAAIhB,GAAG,KAAK,IAAI,IAAIA,GAAG,KAAK,EAAE,EAAEoB,CAAC,CAACJ,GAAG,CAAC,GAAG,CAAC,CAAC,KACtC,IAAIhB,GAAG,KAAK,KAAK,EAAEoB,CAAC,CAACJ,GAAG,CAAC,GAAG,CAAC,CAAC,KAC9B,IAAIhB,GAAG,IAAI,IAAI,EAAEoB,CAAC,CAACJ,GAAG,CAAC,GAAGhB,GAAG;EACpC;EACA,OAAOoB,CAAC;AACV;AACA,SAASvD,oBAAoBA,CAACwD,YAAY,EAAE;EAC1C,IAAIC,GAAG,GAAG,CAAC,CAAC;EACZ,KAAK,IAAIC,IAAI,IAAIF,YAAY,EAAE;IAC7BC,GAAG,CAACC,IAAI,CAACC,IAAI,CAAC,GAAGD,IAAI,CAAC1B,KAAK;EAC7B;EACA,OAAOyB,GAAG;AACZ;AACA,MAAMG,eAAe,GAAG,CAAC,CAAC;AAC1B,eAAenD,UAAUA,CAACvE,GAAG,EAAE2H,UAAU,EAAEC,WAAW,EAAE;EACtD,IAAIF,eAAe,CAAC1H,GAAG,CAAC,EAAE,OAAO0H,eAAe,CAAC1H,GAAG,CAAC;EACrD,IAAI2H,UAAU,IAAIE,IAAI,CAACF,UAAU,CAAC,EAAE;IAClC,OAAOrE,OAAO,CAACC,OAAO,CAACsE,IAAI,CAACF,UAAU,CAAC,CAAC;EAC1C;EACA,OAAOD,eAAe,CAAC1H,GAAG,CAAC,GAAG,IAAIsD,OAAO,CAAC,UAASC,OAAO,EAAEuE,MAAM,EAAE;IAClE,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC/CF,MAAM,CAAC/H,GAAG,GAAGA,GAAG;IAChB,MAAMkI,KAAK,GAAIvE,GAAG,IAAKJ,OAAO,CAACI,GAAG,CAAC;IACnC,IAAIiE,WAAW,EAAEC,IAAI,CAACD,WAAW,CAAC,GAAGM,KAAK;IAC1CH,MAAM,CAACI,MAAM,GAAG,MAAM,CAACP,WAAW,IAAIM,KAAK,CAAC,CAAC;IAC7CH,MAAM,CAACK,OAAO,GAAGN,MAAM;IACvBE,QAAQ,CAACK,IAAI,CAACC,MAAM,CAACP,MAAM,CAAC;EAC9B,CAAC,CAAC;AACJ;AACA,MAAMnF,aAAa,SAASU,OAAO,CAAC;EAClCb,WAAWA,CAAA,EACR;IAAA,IADS8F,QAAQ,GAAA3I,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,MAAM,CAC7B,CAAC;IACC,IAAI4I,GAAG,EAAEC,GAAG;IACZ,KAAK,CAAC,CAAClF,OAAO,EAAEuE,MAAM,KAAK;MACzBS,QAAQ,CAAChF,OAAO,EAAEuE,MAAM,CAAC;MACzBU,GAAG,GAAGjF,OAAO;MACbkF,GAAG,GAAGX,MAAM;IACd,CAAC,CAAC;IACF,IAAI,CAACvE,OAAO,GAAGiF,GAAG;IAClB,IAAI,CAACV,MAAM,GAAGW,GAAG;EACnB;AACF;AACA,IAAIlG,UAAU,CAACmG,cAAc,IAAI,CAACnG,UAAU,CAACmG,cAAc,CAACC,GAAG,CAAC,eAAe,CAAC,EAAE;EAChFpG,UAAU,CAACmG,cAAc,CAACE,MAAM,CAAC,eAAe,EAAEvG,mBAAmB,CAAC;AACxE;AACA,IAAIwG,6BAA6B,GAAGxG,mBAAmB;AACvD,SACEwG,6BAA6B,IAAIC,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}